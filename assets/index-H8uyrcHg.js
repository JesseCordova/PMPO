(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Mv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Of={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function GA(){if(X_)return dl;X_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:u}}return dl.Fragment=e,dl.jsx=i,dl.jsxs=i,dl}var $_;function QA(){return $_||($_=1,Of.exports=GA()),Of.exports}var b=QA(),Mf={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function KA(){if(J_)return Ae;J_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function q(k){return k===null||typeof k!="object"?null:(k=D&&k[D]||k["@@iterator"],typeof k=="function"?k:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,$={};function ee(k,Y,ie){this.props=k,this.context=Y,this.refs=$,this.updater=ie||K}ee.prototype.isReactComponent={},ee.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},ee.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function le(){}le.prototype=ee.prototype;function se(k,Y,ie){this.props=k,this.context=Y,this.refs=$,this.updater=ie||K}var Z=se.prototype=new le;Z.constructor=se,ne(Z,ee.prototype),Z.isPureReactComponent=!0;var be=Array.isArray;function z(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(k,Y,ie){var ue=ie.ref;return{$$typeof:s,type:k,key:Y,ref:ue!==void 0?ue:null,props:ie}}function I(k,Y){return R(k.type,Y,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return Y[ie]})}var N=/\/+/g;function et(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):Y.toString(36)}function dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,Y,ie,ue,ge){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var De=!1;if(k===null)De=!0;else switch(Ne){case"bigint":case"string":case"number":De=!0;break;case"object":switch(k.$$typeof){case s:case e:De=!0;break;case E:return De=k._init,G(De(k._payload),Y,ie,ue,ge)}}if(De)return ge=ge(k),De=ue===""?"."+et(k,0):ue,be(ge)?(ie="",De!=null&&(ie=De.replace(N,"$&/")+"/"),G(ge,Y,ie,"",function(Ve){return Ve})):ge!=null&&(O(ge)&&(ge=I(ge,ie+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+De)),Y.push(ge)),1;De=0;var oe=ue===""?".":ue+":";if(be(k))for(var me=0;me<k.length;me++)ue=k[me],Ne=oe+et(ue,me),De+=G(ue,Y,ie,Ne,ge);else if(me=q(k),typeof me=="function")for(k=me.call(k),me=0;!(ue=k.next()).done;)ue=ue.value,Ne=oe+et(ue,me++),De+=G(ue,Y,ie,Ne,ge);else if(Ne==="object"){if(typeof k.then=="function")return G(dt(k),Y,ie,ue,ge);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function ae(k,Y,ie){if(k==null)return k;var ue=[],ge=0;return G(k,ue,"","",function(Ne){return Y.call(ie,Ne,ge++)}),ue}function pe(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var Be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Fe={map:ae,forEach:function(k,Y,ie){ae(k,function(){Y.apply(this,arguments)},ie)},count:function(k){var Y=0;return ae(k,function(){Y++}),Y},toArray:function(k){return ae(k,function(Y){return Y})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=x,Ae.Children=Fe,Ae.Component=ee,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=se,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return S.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,Y,ie){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=ne({},k.props),ge=k.key;if(Y!=null)for(Ne in Y.key!==void 0&&(ge=""+Y.key),Y)!w.call(Y,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Y.ref===void 0||(ue[Ne]=Y[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=ie;else if(1<Ne){for(var De=Array(Ne),oe=0;oe<Ne;oe++)De[oe]=arguments[oe+2];ue.children=De}return R(k.type,ge,ue)},Ae.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ae.createElement=function(k,Y,ie){var ue,ge={},Ne=null;if(Y!=null)for(ue in Y.key!==void 0&&(Ne=""+Y.key),Y)w.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=Y[ue]);var De=arguments.length-2;if(De===1)ge.children=ie;else if(1<De){for(var oe=Array(De),me=0;me<De;me++)oe[me]=arguments[me+2];ge.children=oe}if(k&&k.defaultProps)for(ue in De=k.defaultProps,De)ge[ue]===void 0&&(ge[ue]=De[ue]);return R(k,Ne,ge)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:p,render:k}},Ae.isValidElement=O,Ae.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},Ae.memo=function(k,Y){return{$$typeof:_,type:k,compare:Y===void 0?null:Y}},Ae.startTransition=function(k){var Y=S.T,ie={};S.T=ie;try{var ue=k(),ge=S.S;ge!==null&&ge(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(z,Be)}catch(Ne){Be(Ne)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),S.T=Y}},Ae.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ae.use=function(k){return S.H.use(k)},Ae.useActionState=function(k,Y,ie){return S.H.useActionState(k,Y,ie)},Ae.useCallback=function(k,Y){return S.H.useCallback(k,Y)},Ae.useContext=function(k){return S.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,Y){return S.H.useDeferredValue(k,Y)},Ae.useEffect=function(k,Y){return S.H.useEffect(k,Y)},Ae.useEffectEvent=function(k){return S.H.useEffectEvent(k)},Ae.useId=function(){return S.H.useId()},Ae.useImperativeHandle=function(k,Y,ie){return S.H.useImperativeHandle(k,Y,ie)},Ae.useInsertionEffect=function(k,Y){return S.H.useInsertionEffect(k,Y)},Ae.useLayoutEffect=function(k,Y){return S.H.useLayoutEffect(k,Y)},Ae.useMemo=function(k,Y){return S.H.useMemo(k,Y)},Ae.useOptimistic=function(k,Y){return S.H.useOptimistic(k,Y)},Ae.useReducer=function(k,Y,ie){return S.H.useReducer(k,Y,ie)},Ae.useRef=function(k){return S.H.useRef(k)},Ae.useState=function(k){return S.H.useState(k)},Ae.useSyncExternalStore=function(k,Y,ie){return S.H.useSyncExternalStore(k,Y,ie)},Ae.useTransition=function(){return S.H.useTransition()},Ae.version="19.2.4",Ae}var Z_;function Cm(){return Z_||(Z_=1,Mf.exports=KA()),Mf.exports}var Re=Cm();const YA=Mv(Re);var kf={exports:{}},fl={},Vf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function XA(){return W_||(W_=1,(function(s){function e(G,ae){var pe=G.length;G.push(ae);e:for(;0<pe;){var Be=pe-1>>>1,Fe=G[Be];if(0<o(Fe,ae))G[Be]=ae,G[pe]=Fe,pe=Be;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],pe=G.pop();if(pe!==ae){G[0]=pe;e:for(var Be=0,Fe=G.length,k=Fe>>>1;Be<k;){var Y=2*(Be+1)-1,ie=G[Y],ue=Y+1,ge=G[ue];if(0>o(ie,pe))ue<Fe&&0>o(ge,ie)?(G[Be]=ge,G[ue]=pe,Be=ue):(G[Be]=ie,G[Y]=pe,Be=Y);else if(ue<Fe&&0>o(ge,pe))G[Be]=ge,G[ue]=pe,Be=ue;else break e}}return ae}function o(G,ae){var pe=G.sortIndex-ae.sortIndex;return pe!==0?pe:G.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],E=1,x=null,D=3,q=!1,K=!1,ne=!1,$=!1,ee=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Z(G){for(var ae=i(_);ae!==null;){if(ae.callback===null)r(_);else if(ae.startTime<=G)r(_),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=i(_)}}function be(G){if(ne=!1,Z(G),!K)if(i(g)!==null)K=!0,z||(z=!0,V());else{var ae=i(_);ae!==null&&dt(be,ae.startTime-G)}}var z=!1,S=-1,w=5,R=-1;function I(){return $?!0:!(s.unstable_now()-R<w)}function O(){if($=!1,z){var G=s.unstable_now();R=G;var ae=!0;try{e:{K=!1,ne&&(ne=!1,le(S),S=-1),q=!0;var pe=D;try{t:{for(Z(G),x=i(g);x!==null&&!(x.expirationTime>G&&I());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,D=x.priorityLevel;var Fe=Be(x.expirationTime<=G);if(G=s.unstable_now(),typeof Fe=="function"){x.callback=Fe,Z(G),ae=!0;break t}x===i(g)&&r(g),Z(G)}else r(g);x=i(g)}if(x!==null)ae=!0;else{var k=i(_);k!==null&&dt(be,k.startTime-G),ae=!1}}break e}finally{x=null,D=pe,q=!1}ae=void 0}}finally{ae?V():z=!1}}}var V;if(typeof se=="function")V=function(){se(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,et=N.port2;N.port1.onmessage=O,V=function(){et.postMessage(null)}}else V=function(){ee(O,0)};function dt(G,ae){S=ee(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ae=3;break;default:ae=D}var pe=D;D=ae;try{return G()}finally{D=pe}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=D;D=G;try{return ae()}finally{D=pe}},s.unstable_scheduleCallback=function(G,ae,pe){var Be=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,G){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=pe+Fe,G={id:E++,callback:ae,priorityLevel:G,startTime:pe,expirationTime:Fe,sortIndex:-1},pe>Be?(G.sortIndex=pe,e(_,G),i(g)===null&&G===i(_)&&(ne?(le(S),S=-1):ne=!0,dt(be,pe-Be))):(G.sortIndex=Fe,e(g,G),K||q||(K=!0,z||(z=!0,V()))),G},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(G){var ae=D;return function(){var pe=D;D=ae;try{return G.apply(this,arguments)}finally{D=pe}}}})(Uf)),Uf}var e0;function $A(){return e0||(e0=1,Vf.exports=XA()),Vf.exports}var jf={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function JA(){if(t0)return rn;t0=1;var s=Cm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,E)},rn.flushSync=function(g){var _=d.T,E=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=E,r.d.f()}},rn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},rn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},rn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,x=p(E,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:q}):E==="script"&&r.d.X(g,{crossOrigin:x,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},rn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,x=p(E,_.crossOrigin);r.d.L(g,E,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},rn.requestFormReset=function(g){r.d.r(g)},rn.unstable_batchedUpdates=function(g,_){return g(_)},rn.useFormState=function(g,_,E){return d.H.useFormState(g,_,E)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var n0;function ZA(){if(n0)return jf.exports;n0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jf.exports=JA(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function WA(){if(i0)return fl;i0=1;var s=$A(),e=Cm(),i=ZA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ee:return"Profiler";case $:return"StrictMode";case be:return"Suspense";case z:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case se:return t.displayName||"Context";case le:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var dt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],Fe=-1;function k(t){return{current:t}}function Y(t){0>Fe||(t.current=Be[Fe],Be[Fe]=null,Fe--)}function ie(t,n){Fe++,Be[Fe]=t.current,t.current=n}var ue=k(null),ge=k(null),Ne=k(null),De=k(null);function oe(t,n){switch(ie(Ne,n),ie(ge,t),ie(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?__(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=__(n),t=v_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),ie(ue,t)}function me(){Y(ue),Y(ge),Y(Ne)}function Ve(t){t.memoizedState!==null&&ie(De,t);var n=ue.current,a=v_(n,t.type);n!==a&&(ie(ge,t),ie(ue,a))}function at(t){ge.current===t&&(Y(ue),Y(ge)),De.current===t&&(Y(De),ll._currentValue=pe)}var ot,Oe;function qe(t){if(ot===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",Oe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+t+Oe}var mt=!1;function Ht(t,n){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var B=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){B=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){B=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var C=y.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qe(a):""}function Nh(t,n){switch(t.tag){case 26:case 27:case 5:return qe(t.type);case 16:return qe("Lazy");case 13:return t.child!==n&&n!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ht(t.type,!1);case 11:return Ht(t.type.render,!1);case 1:return Ht(t.type,!0);case 31:return qe("Activity");default:return""}}function Xl(t){try{var n="",a=null;do n+=Nh(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var na=Object.prototype.hasOwnProperty,mr=s.unstable_scheduleCallback,ia=s.unstable_cancelCallback,Ih=s.unstable_shouldYield,co=s.unstable_requestPaint,Ft=s.unstable_now,$l=s.unstable_getCurrentPriorityLevel,kt=s.unstable_ImmediatePriority,jt=s.unstable_UserBlockingPriority,wi=s.unstable_NormalPriority,Jl=s.unstable_LowPriority,ho=s.unstable_IdlePriority,Ch=s.log,pr=s.unstable_setDisableYieldValue,ls=null,nn=null;function Ln(t){if(typeof Ch=="function"&&pr(t),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ls,t)}catch{}}var cn=Math.clz32?Math.clz32:Zl,Dh=Math.log,fo=Math.LN2;function Zl(t){return t>>>=0,t===0?32:31-(Dh(t)/fo|0)|0}var gr=256,si=262144,us=4194304;function Jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Jn(l):(y&=T,y!==0?h=Jn(y):a||(a=T&~t,a!==0&&(h=Jn(a))))):(T=l&~f,T!==0?h=Jn(T):y!==0?h=Jn(y):a||(a=l&~t,a!==0&&(h=Jn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function cs(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function sa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=us;return us<<=1,(us&62914560)===0&&(us=4194304),t}function Si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gt(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-cn(a),J=1<<Q;T[Q]=0,C[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&po(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function po(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-cn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ds(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-cn(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function fs(t,n){var a=n&-n;return a=(a&42)!==0?1:go(a),(a&(t.suspendedLanes|n))!==0?0:a}function go(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function Wl(t,n){var a=ae.p;try{return ae.p=t,n()}finally{ae.p=a}}var ri=Math.random().toString(36).slice(2),yt="__reactFiber$"+ri,Qt="__reactProps$"+ri,ai="__reactContainer$"+ri,ms="__reactEvents$"+ri,oi="__reactListeners$"+ri,eu="__reactHandles$"+ri,_o="__reactResources$"+ri,Ri="__reactMarker$"+ri;function yr(t){delete t[yt],delete t[Qt],delete t[ms],delete t[oi],delete t[eu]}function Ni(t){var n=t[yt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ai]||a[yt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[yt])return a;t=x_(t)}return n}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[yt]||t[ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _r(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Zn(t){var n=t[_o];return n||(n=t[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[Ri]=!0}var ra=new Set,ps={};function hn(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(ps[t]=n,t=0;t<n.length;t++)ra.add(n[t])}var Oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},bo={};function tu(t){return na.call(bo,t)?!0:na.call(vo,t)?!1:Oh.test(t)?bo[t]=!0:(vo[t]=!0,!1)}function gs(t,n,a){if(tu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ys(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function zn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mh(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function aa(t){if(!t._valueTracker){var n=nu(t)?"checked":"value";t._valueTracker=Mh(t,n,""+t[n])}}function To(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=nu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ci=/[\n"\\]/g;function _t(t){return t.replace(Ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _s(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?la(t,y,dn(n)):a!=null?la(t,y,dn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+dn(T):t.removeAttribute("name")}function vr(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){aa(t);return}a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),aa(t)}function la(t,n,a){n==="number"&&oa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ge(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function br(t,n,a){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+dn(a):""}function vs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=dn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),aa(t)}function Bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||kh.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function iu(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Eo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Eo(t,f,n[f])}function Ao(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ui(t){return Uh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Lt(){}var ua=null;function ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Rn=null;function su(t){var n=Ii(t);if(n&&(t=n.stateNode)){var a=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_s(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(r(90));_s(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&To(l)}break e;case"textarea":br(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ge(t,!!a.multiple,n,!1)}}}var wo=!1;function ru(t,n,a){if(wo)return t(n,a);wo=!0;try{var l=t(n);return l}finally{if(wo=!1,(Di!==null||Rn!==null)&&(tc(),Di&&(n=Di,t=Rn,Rn=Di=null,su(n),t)))for(n=0;n<t.length;n++)su(t[n])}}function _n(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=!1;if(Wn)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){So=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{So=!1}var Nn=null,ha=null,hi=null;function bs(){if(hi)return hi;var t,n=ha,a=n.length,l,h="value"in Nn?Nn.value:Nn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return hi=h.slice(t,1<l?1-l:void 0)}function Tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function lt(){return!1}function sn(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ts:lt,this.isPropagationStopped=lt,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=sn(Oi),Es=x({},Oi,{view:0,detail:0}),au=sn(Es),As,da,fn,Ar=x({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&t.type==="mousemove"?(As=t.screenX-fn.screenX,da=t.screenY-fn.screenY):da=As=0,fn=t),As)},movementY:function(t){return"movementY"in t?t.movementY:da}}),ou=sn(Ar),wr=x({},Ar,{dataTransfer:0}),lu=sn(wr),xo=x({},Es,{relatedTarget:0}),ws=sn(xo),uu=x({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=sn(uu),jh=x({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cu=sn(jh),Sr=x({},Oi,{data:0}),Ro=sn(Sr),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Io={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Io[t])?!!n[t]:!1}function Ss(){return du}var fu=x({},Es,{key:function(t){if(t.key){var n=hu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mu=sn(fu),Mi=x({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=sn(Mi),pu=x({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),gu=sn(pu),yu=x({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ma=sn(yu),mn=x({},Ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=sn(mn),vu=x({},Oi,{newState:0,oldState:0}),xs=sn(vu),c=[9,13,27,32],m=Wn&&"CompositionEvent"in window,v=null;Wn&&"documentMode"in document&&(v=document.documentMode);var A=Wn&&"TextEvent"in window&&!v,j=Wn&&(!m||v&&8<v&&11>=v),F=" ",re=!1;function $e(t,n){switch(t){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ce=!1;function Pt(t,n){switch(t){case"compositionend":return Rt(n);case"keypress":return n.which!==32?null:(re=!0,F);case"textInput":return t=n.data,t===F&&re?null:t;default:return null}}function zt(t,n){if(Ce)return t==="compositionend"||!m&&$e(t,n)?(t=bs(),hi=ha=Nn=null,Ce=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return j&&n.locale!=="ko"?null:n.data;default:return null}}var Rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Rs[t.type]:n==="textarea"}function xr(t,n,a,l){Di?Rn?Rn.push(l):Rn=[l]:Di=l,n=lc(n,"onChange"),0<n.length&&(a=new Er("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ki=null,Do=null;function _E(t){d_(t,0)}function bu(t){var n=_r(t);if(To(n))return t}function Dp(t,n){if(t==="change")return n}var Op=!1;if(Wn){var Lh;if(Wn){var Ph="oninput"in document;if(!Ph){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Ph=typeof Mp.oninput=="function"}Lh=Ph}else Lh=!1;Op=Lh&&(!document.documentMode||9<document.documentMode)}function kp(){ki&&(ki.detachEvent("onpropertychange",Vp),Do=ki=null)}function Vp(t){if(t.propertyName==="value"&&bu(Do)){var n=[];xr(n,Do,t,ca(t)),ru(_E,n)}}function vE(t,n,a){t==="focusin"?(kp(),ki=n,Do=a,ki.attachEvent("onpropertychange",Vp)):t==="focusout"&&kp()}function bE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Do)}function TE(t,n){if(t==="click")return bu(n)}function EE(t,n){if(t==="input"||t==="change")return bu(n)}function AE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:AE;function Oo(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!na.call(n,h)||!In(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var a=Up(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=oa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=oa(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var wE=Wn&&"documentMode"in document&&11>=document.documentMode,pa=null,Bh=null,Mo=null,qh=!1;function zp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||pa==null||pa!==oa(l)||(l=pa,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mo&&Oo(Mo,l)||(Mo=l,l=lc(Bh,"onSelect"),0<l.length&&(n=new Er("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=pa)))}function Rr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ga={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Hh={},Bp={};Wn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Nr(t){if(Hh[t])return Hh[t];if(!ga[t])return t;var n=ga[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Bp)return Hh[t]=n[a];return t}var qp=Nr("animationend"),Hp=Nr("animationiteration"),Fp=Nr("animationstart"),SE=Nr("transitionrun"),xE=Nr("transitionstart"),RE=Nr("transitioncancel"),Gp=Nr("transitionend"),Qp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ei(t,n){Qp.set(t,n),hn(n,[t])}var Tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],ya=0,Gh=0;function Eu(){for(var t=ya,n=Gh=ya=0;n<t;){var a=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Kp(a,h,f)}}function Au(t,n,a,l){qn[ya++]=t,qn[ya++]=n,qn[ya++]=a,qn[ya++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,a,l){return Au(t,n,a,l),wu(t)}function Ir(t,n){return Au(t,null,null,n),wu(t)}function Kp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-cn(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function wu(t){if(50<tl)throw tl=0,tf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _a={};function NE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,a,l){return new NE(t,n,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=Cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Su(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")Kh(t)&&(y=1);else if(typeof t=="string")y=MA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Cn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ne:return Cr(a.children,h,f,n);case $:y=8,h|=24;break;case ee:return t=Cn(12,a,n,h|2),t.elementType=ee,t.lanes=f,t;case be:return t=Cn(13,a,n,h),t.elementType=be,t.lanes=f,t;case z:return t=Cn(19,a,n,h),t.elementType=z,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:y=10;break e;case le:y=9;break e;case Z:y=11;break e;case S:y=14;break e;case w:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Cn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Cr(t,n,a,l){return t=Cn(7,t,l,n),t.lanes=a,t}function Yh(t,n,a){return t=Cn(6,t,null,n),t.lanes=a,t}function Xp(t){var n=Cn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,a){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $p=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var a=$p.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Xl(n)},$p.set(t,n),n)}return{value:t,source:n,stack:Xl(n)}}var va=[],ba=0,xu=null,ko=0,Fn=[],Gn=0,Ns=null,di=1,fi="";function Ui(t,n){va[ba++]=ko,va[ba++]=xu,xu=t,ko=n}function Jp(t,n,a){Fn[Gn++]=di,Fn[Gn++]=fi,Fn[Gn++]=Ns,Ns=t;var l=di;t=fi;var h=32-cn(l)-1;l&=~(1<<h),a+=1;var f=32-cn(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,di=1<<32-cn(n)+h|a<<h|l,fi=f+t}else di=1<<f|a<<h|l,fi=t}function $h(t){t.return!==null&&(Ui(t,1),Jp(t,1,0))}function Jh(t){for(;t===xu;)xu=va[--ba],va[ba]=null,ko=va[--ba],va[ba]=null;for(;t===Ns;)Ns=Fn[--Gn],Fn[Gn]=null,fi=Fn[--Gn],Fn[Gn]=null,di=Fn[--Gn],Fn[Gn]=null}function Zp(t,n){Fn[Gn++]=di,Fn[Gn++]=fi,Fn[Gn++]=Ns,di=n.id,fi=n.overflow,Ns=t}var Kt=null,ut=null,Pe=!1,Is=null,Qn=!1,Zh=Error(r(519));function Cs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Hn(n,t)),Zh}function Wp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[yt]=t,n[Qt]=l,a){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(a=0;a<il.length;a++)ke(il[a],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":ke("invalid",n),vr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",n);break;case"textarea":ke("invalid",n),vs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||g_(n.textContent,a)?(l.popover!=null&&(ke("beforetoggle",n),ke("toggle",n)),l.onScroll!=null&&ke("scroll",n),l.onScrollEnd!=null&&ke("scrollend",n),l.onClick!=null&&(n.onclick=Lt),n=!0):n=!1,n||Cs(t,!0)}function eg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Kt=Kt.return}}function Ta(t){if(t!==Kt)return!1;if(!Pe)return eg(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&ut&&Cs(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=S_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=S_(t)}else n===27?(n=ut,Fs(t.type)?(t=Ef,Ef=null,ut=t):ut=n):ut=Kt?Yn(t.stateNode.nextSibling):null;return!0}function Dr(){ut=Kt=null,Pe=!1}function Wh(){var t=Is;return t!==null&&(An===null?An=t:An.push.apply(An,t),Is=null),t}function Vo(t){Is===null?Is=[t]:Is.push(t)}var ed=k(null),Or=null,ji=null;function Ds(t,n,a){ie(ed,n._currentValue),n._currentValue=a}function Li(t){t._currentValue=ed.current,Y(ed)}function td(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nd(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),td(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),td(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ea(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;In(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===De.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}h=h.return}t!==null&&nd(n,t,a,l),n.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Or=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return tg(Or,t)}function Nu(t,n){return Or===null&&Mr(t),tg(t,n)}function tg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(r(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return a}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},CE=s.unstable_scheduleCallback,DE=s.unstable_NormalPriority,Nt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new IE,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&CE(DE,function(){t.controller.abort()})}var jo=null,sd=0,Aa=0,wa=null;function OE(t,n){if(jo===null){var a=jo=[];sd=0,Aa=lf(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sd++,n.then(ng,ng),n}function ng(){if(--sd===0&&jo!==null){wa!==null&&(wa.status="fulfilled");var t=jo;jo=null,Aa=0,wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ME(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ig=G.S;G.S=function(t,n){zy=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OE(t,n),ig!==null&&ig(t,n)};var kr=k(null);function rd(){var t=kr.current;return t!==null?t:st.pooledCache}function Iu(t,n){n===null?ie(kr,kr.current):ie(kr,n.pool)}function sg(){var t=rd();return t===null?null:{parent:Nt._currentValue,pool:t}}var Sa=Error(r(460)),ad=Error(r(474)),Cu=Error(r(542)),Du={then:function(){}};function rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ag(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Lt,Lt),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(Lt,Lt);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Ur=n,Sa}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,Sa):a}}var Ur=null;function og(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function lg(t){if(t===Sa||t===Cu)throw Error(r(483))}var xa=null,Lo=0;function Ou(t){var n=Lo;return Lo+=1,xa===null&&(xa=[]),ag(xa,t,n)}function Po(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){function n(U,M){if(t){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Vi(U,M),U.index=0,U.sibling=null,U}function f(U,M,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,L,X){return M===null||M.tag!==6?(M=Yh(L,U.mode,X),M.return=U,M):(M=h(M,L),M.return=U,M)}function C(U,M,L,X){var ye=L.type;return ye===ne?Q(U,M,L.props.children,X,L.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Vr(ye)===M.type)?(M=h(M,L.props),Po(M,L),M.return=U,M):(M=Su(L.type,L.key,L.props,null,U.mode,X),Po(M,L),M.return=U,M)}function P(U,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Xh(L,U.mode,X),M.return=U,M):(M=h(M,L.children||[]),M.return=U,M)}function Q(U,M,L,X,ye){return M===null||M.tag!==7?(M=Cr(L,U.mode,X,ye),M.return=U,M):(M=h(M,L),M.return=U,M)}function J(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yh(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return L=Su(M.type,M.key,M.props,null,U.mode,L),Po(L,M),L.return=U,L;case K:return M=Xh(M,U.mode,L),M.return=U,M;case w:return M=Vr(M),J(U,M,L)}if(dt(M)||V(M))return M=Cr(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return J(U,Ou(M),L);if(M.$$typeof===se)return J(U,Nu(U,M),L);Mu(U,M)}return null}function B(U,M,L,X){var ye=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:T(U,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ye?C(U,M,L,X):null;case K:return L.key===ye?P(U,M,L,X):null;case w:return L=Vr(L),B(U,M,L,X)}if(dt(L)||V(L))return ye!==null?null:Q(U,M,L,X,null);if(typeof L.then=="function")return B(U,M,Ou(L),X);if(L.$$typeof===se)return B(U,M,Nu(U,L),X);Mu(U,L)}return null}function H(U,M,L,X,ye){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(L)||null,T(M,U,""+X,ye);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return U=U.get(X.key===null?L:X.key)||null,C(M,U,X,ye);case K:return U=U.get(X.key===null?L:X.key)||null,P(M,U,X,ye);case w:return X=Vr(X),H(U,M,L,X,ye)}if(dt(X)||V(X))return U=U.get(L)||null,Q(M,U,X,ye,null);if(typeof X.then=="function")return H(U,M,L,Ou(X),ye);if(X.$$typeof===se)return H(U,M,L,Nu(M,X),ye);Mu(M,X)}return null}function he(U,M,L,X){for(var ye=null,Qe=null,fe=M,Ie=M=0,je=null;fe!==null&&Ie<L.length;Ie++){fe.index>Ie?(je=fe,fe=null):je=fe.sibling;var Ke=B(U,fe,L[Ie],X);if(Ke===null){fe===null&&(fe=je);break}t&&fe&&Ke.alternate===null&&n(U,fe),M=f(Ke,M,Ie),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke,fe=je}if(Ie===L.length)return a(U,fe),Pe&&Ui(U,Ie),ye;if(fe===null){for(;Ie<L.length;Ie++)fe=J(U,L[Ie],X),fe!==null&&(M=f(fe,M,Ie),Qe===null?ye=fe:Qe.sibling=fe,Qe=fe);return Pe&&Ui(U,Ie),ye}for(fe=l(fe);Ie<L.length;Ie++)je=H(fe,U,Ie,L[Ie],X),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?Ie:je.key),M=f(je,M,Ie),Qe===null?ye=je:Qe.sibling=je,Qe=je);return t&&fe.forEach(function(Xs){return n(U,Xs)}),Pe&&Ui(U,Ie),ye}function ve(U,M,L,X){if(L==null)throw Error(r(151));for(var ye=null,Qe=null,fe=M,Ie=M=0,je=null,Ke=L.next();fe!==null&&!Ke.done;Ie++,Ke=L.next()){fe.index>Ie?(je=fe,fe=null):je=fe.sibling;var Xs=B(U,fe,Ke.value,X);if(Xs===null){fe===null&&(fe=je);break}t&&fe&&Xs.alternate===null&&n(U,fe),M=f(Xs,M,Ie),Qe===null?ye=Xs:Qe.sibling=Xs,Qe=Xs,fe=je}if(Ke.done)return a(U,fe),Pe&&Ui(U,Ie),ye;if(fe===null){for(;!Ke.done;Ie++,Ke=L.next())Ke=J(U,Ke.value,X),Ke!==null&&(M=f(Ke,M,Ie),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return Pe&&Ui(U,Ie),ye}for(fe=l(fe);!Ke.done;Ie++,Ke=L.next())Ke=H(fe,U,Ie,Ke.value,X),Ke!==null&&(t&&Ke.alternate!==null&&fe.delete(Ke.key===null?Ie:Ke.key),M=f(Ke,M,Ie),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return t&&fe.forEach(function(FA){return n(U,FA)}),Pe&&Ui(U,Ie),ye}function it(U,M,L,X){if(typeof L=="object"&&L!==null&&L.type===ne&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var ye=L.key;M!==null;){if(M.key===ye){if(ye=L.type,ye===ne){if(M.tag===7){a(U,M.sibling),X=h(M,L.props.children),X.return=U,U=X;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Vr(ye)===M.type){a(U,M.sibling),X=h(M,L.props),Po(X,L),X.return=U,U=X;break e}a(U,M);break}else n(U,M);M=M.sibling}L.type===ne?(X=Cr(L.props.children,U.mode,X,L.key),X.return=U,U=X):(X=Su(L.type,L.key,L.props,null,U.mode,X),Po(X,L),X.return=U,U=X)}return y(U);case K:e:{for(ye=L.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(U,M.sibling),X=h(M,L.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else n(U,M);M=M.sibling}X=Xh(L,U.mode,X),X.return=U,U=X}return y(U);case w:return L=Vr(L),it(U,M,L,X)}if(dt(L))return he(U,M,L,X);if(V(L)){if(ye=V(L),typeof ye!="function")throw Error(r(150));return L=ye.call(L),ve(U,M,L,X)}if(typeof L.then=="function")return it(U,M,Ou(L),X);if(L.$$typeof===se)return it(U,M,Nu(U,L),X);Mu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,L),X.return=U,U=X):(a(U,M),X=Yh(L,U.mode,X),X.return=U,U=X),y(U)):a(U,M)}return function(U,M,L,X){try{Lo=0;var ye=it(U,M,L,X);return xa=null,ye}catch(fe){if(fe===Sa||fe===Cu)throw fe;var Qe=Cn(29,fe,null,U.mode);return Qe.lanes=X,Qe.return=U,Qe}finally{}}}var jr=ug(!0),cg=ug(!1),Os=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(t),Kp(t,null,a),n}return Au(t,l,n,a),wu(t)}function zo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ds(t,a)}}function ud(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var cd=!1;function Bo(){if(cd){var t=wa;if(t!==null)throw t}}function qo(t,n,a,l){cd=!1;var h=t.updateQueue;Os=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,y===null?f=P:y.next=P,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=P:T.next=P,Q.lastBaseUpdate=C))}if(f!==null){var J=h.baseState;y=0,Q=P=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ue&B)===B:(l&B)===B){B!==0&&B===Aa&&(cd=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ve=T;B=n;var it=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){J=he.call(it,J,B);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,B=typeof he=="function"?he.call(it,J,B):he,B==null)break e;J=x({},J,B);break e;case 2:Os=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(P=Q=H,C=J):Q=Q.next=H,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=J),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ps|=y,t.lanes=y,t.memoizedState=J}}function hg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function dg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hg(a[t],n)}var Ra=k(null),ku=k(0);function fg(t,n){t=Ki,ie(ku,t),ie(Ra,n),Ki=t|n.baseLanes}function hd(){ie(ku,Ki),ie(Ra,Ra.current)}function dd(){Ki=ku.current,Y(Ra),Y(ku)}var Dn=k(null),Kn=null;function Vs(t){var n=t.alternate;ie(wt,wt.current&1),ie(Dn,t),Kn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Kn=t)}function fd(t){ie(wt,wt.current),ie(Dn,t),Kn===null&&(Kn=t)}function mg(t){t.tag===22?(ie(wt,wt.current),ie(Dn,t),Kn===null&&(Kn=t)):Us()}function Us(){ie(wt,wt.current),ie(Dn,Dn.current)}function On(t){Y(Dn),Kn===t&&(Kn=null),Y(wt)}var wt=k(0);function Vu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bf(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,xe=null,tt=null,It=null,Uu=!1,Na=!1,Lr=!1,ju=0,Ho=0,Ia=null,kE=0;function vt(){throw Error(r(321))}function md(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!In(t[a],n[a]))return!1;return!0}function pd(t,n,a,l,h,f){return Pi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Jg:Cd,Lr=!1,f=a(l,h),Lr=!1,Na&&(f=gg(n,a,l,h)),pg(t),f}function pg(t){G.H=Qo;var n=tt!==null&&tt.next!==null;if(Pi=0,It=tt=xe=null,Uu=!1,Ho=0,Ia=null,n)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&Ru(t)&&(Ct=!0))}function gg(t,n,a,l){xe=t;var h=0;do{if(Na&&(Ia=null),Ho=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,It=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Zg,f=n(a,l)}while(Na);return f}function VE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Fo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(xe.flags|=1024),n}function gd(){var t=ju!==0;return ju=0,t}function yd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _d(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Pi=0,It=tt=xe=null,Na=!1,Ho=ju=0,Ia=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?xe.memoizedState=It=t:It=It.next=t,It}function St(){if(tt===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=It===null?xe.memoizedState:It.next;if(n!==null)It=n,tt=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?xe.memoizedState=It=t:It=It.next=t}return It}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var n=Ho;return Ho+=1,Ia===null&&(Ia=[]),t=ag(Ia,t,n),n=xe,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Jg:Cd),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===se)return Yt(t)}throw Error(r(438,String(t)))}function vd(t){var n=null,a=xe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lu(),xe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function zi(t,n){return typeof n=="function"?n(t):n}function zu(t){var n=St();return bd(n,tt,t)}function bd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,C=null,P=n,Q=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Ue&J)===J:(Pi&J)===J){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Aa&&(Q=!0);else if((Pi&B)===B){P=P.next,B===Aa&&(Q=!0);continue}else J={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=J,y=f):C=C.next=J,xe.lanes|=B,Ps|=B;J=P.action,Lr&&a(f,J),f=P.hasEagerState?P.eagerState:a(f,J)}else B={lane:J,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=B,y=f):C=C.next=B,xe.lanes|=J,Ps|=J;P=P.next}while(P!==null&&P!==n);if(C===null?y=f:C.next=T,!In(f,t.memoizedState)&&(Ct=!0,Q&&(a=wa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Td(t){var n=St(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);In(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function yg(t,n,a){var l=xe,h=St(),f=Pe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!In((tt||h).memoizedState,a);if(y&&(h.memoizedState=a,Ct=!0),h=h.queue,wd(bg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},vg.bind(null,l,h,a,n),null),st===null)throw Error(r(349));f||(Pi&127)!==0||_g(l,n,a)}return a}function _g(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xe.updateQueue,n===null?(n=Lu(),xe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function vg(t,n,a,l){n.value=a,n.getSnapshot=l,Tg(n)&&Eg(t)}function bg(t,n,a){return a(function(){Tg(n)&&Eg(t)})}function Tg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!In(t,a)}catch{return!0}}function Eg(t){var n=Ir(t,2);n!==null&&wn(n,t,2)}function Ed(t){var n=pn();if(typeof t=="function"){var a=t;if(t=a(),Lr){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function Ag(t,n,a,l){return t.baseState=a,bd(t,tt,typeof l=="function"?l:zi)}function UE(t,n,a,l,h){if(Hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=a(h,l),C=G.S;C!==null&&C(y,T),Sg(t,n,T)}catch(P){Ad(t,n,P)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,l),Sg(t,n,f)}catch(P){Ad(t,n,P)}}function Sg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xg(t,n,l)},function(l){return Ad(t,n,l)}):xg(t,n,a)}function xg(t,n,a){n.status="fulfilled",n.value=a,Rg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wg(t,a)))}function Ad(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Rg(n),n=n.next;while(n!==l)}t.action=null}function Rg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Ig(t,n){if(Pe){var a=st.formState;if(a!==null){e:{var l=xe;if(Pe){if(ut){t:{for(var h=ut,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Yn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},a.queue=l,a=Yg.bind(null,xe,l),l.dispatch=a,l=Ed(!1),f=Id.bind(null,xe,!1,l.queue),l=pn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=UE.bind(null,xe,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Cg(t){var n=St();return Dg(n,tt,t)}function Dg(t,n,a){if(n=bd(t,n,Ng)[0],t=zu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fo(n)}catch(y){throw y===Sa?Cu:y}else l=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xe.flags|=2048,Ca(9,{destroy:void 0},jE.bind(null,h,a),null)),[l,f,t]}function jE(t,n){t.action=n}function Og(t){var n=St(),a=tt;if(a!==null)return Dg(n,a,t);St(),n=n.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ca(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Lu(),xe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Mg(){return St().memoizedState}function Bu(t,n,a,l){var h=pn();xe.flags|=t,h.memoizedState=Ca(1|n,{destroy:void 0},a,l===void 0?null:l)}function qu(t,n,a,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&md(l,tt.memoizedState.deps)?h.memoizedState=Ca(n,f,a,l):(xe.flags|=t,h.memoizedState=Ca(1|n,f,a,l))}function kg(t,n){Bu(8390656,8,t,n)}function wd(t,n){qu(2048,8,t,n)}function LE(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Lu(),xe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Vg(t){var n=St().memoizedState;return LE({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return qu(4,2,t,n)}function jg(t,n){return qu(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Pg(t,n,a){a=a!=null?a.concat([t]):null,qu(4,4,Lg.bind(null,n,t),a)}function Sd(){}function zg(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&md(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Bg(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&md(n,l[1]))return l[0];if(l=t(),Lr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l}function xd(t,n,a){return a===void 0||(Pi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=qy(),xe.lanes|=t,Ps|=t,a)}function qg(t,n,a,l){return In(a,n)?a:Ra.current!==null?(t=xd(t,a,l),In(t,n)||(Ct=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(Ue&261930)===0?(Ct=!0,t.memoizedState=a):(t=qy(),xe.lanes|=t,Ps|=t,n)}function Hg(t,n,a,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,Id(t,!1,n,a);try{var C=h(),P=G.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=ME(C,l);Go(t,n,Q,Vn(t))}else Go(t,n,l,Vn(t))}catch(J){Go(t,n,{then:function(){},status:"rejected",reason:J},Vn())}finally{ae.p=f,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function PE(){}function Rd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Fg(t).queue;Hg(t,h,n,pe,a===null?PE:function(){return Gg(t),a(l)})}function Fg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gg(t){var n=Fg(t);n.next===null&&(n=t.alternate.memoizedState),Go(t,n.next.queue,{},Vn())}function Nd(){return Yt(ll)}function Qg(){return St().memoizedState}function Kg(){return St().memoizedState}function zE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vn();t=Ms(a);var l=ks(n,t,a);l!==null&&(wn(l,n,a),zo(l,n,a)),n={cache:id()},t.payload=n;return}n=n.return}}function BE(t,n,a){var l=Vn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Xg(n,a):(a=Qh(t,n,a,l),a!==null&&(wn(a,t,l),$g(a,n,l)))}function Yg(t,n,a){var l=Vn();Go(t,n,a,l)}function Go(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Xg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,y))return Au(t,n,h,0),st===null&&Eu(),!1}catch{}finally{}if(a=Qh(t,n,h,l),a!==null)return wn(a,t,l),$g(a,n,l),!0}return!1}function Id(t,n,a,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(r(479))}else n=Qh(t,a,l,2),n!==null&&wn(n,t,2)}function Hu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Xg(t,n){Na=Uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function $g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ds(t,a)}}var Qo={readContext:Yt,use:Pu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Qo.useEffectEvent=vt;var Jg={readContext:Yt,use:Pu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:kg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Bu(4194308,4,Lg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Bu(4194308,4,t,n)},useInsertionEffect:function(t,n){Bu(4,2,t,n)},useMemo:function(t,n){var a=pn();n=n===void 0?null:n;var l=t();if(Lr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=pn();if(a!==void 0){var h=a(n);if(Lr){Ln(!0);try{a(n)}finally{Ln(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=BE.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ed(t);var n=t.queue,a=Yg.bind(null,xe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(t,n){var a=pn();return xd(a,t,n)},useTransition:function(){var t=Ed(!1);return t=Hg.bind(null,xe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=xe,h=pn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),st===null)throw Error(r(349));(Ue&127)!==0||_g(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,kg(bg.bind(null,l,f,t),[t]),l.flags|=2048,Ca(9,{destroy:void 0},vg.bind(null,l,f,a,n),null),a},useId:function(){var t=pn(),n=st.identifierPrefix;if(Pe){var a=fi,l=di;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=kE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nd,useFormState:Ig,useActionState:Ig,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Id.bind(null,xe,!0,a),a.dispatch=n,[t,n]},useMemoCache:vd,useCacheRefresh:function(){return pn().memoizedState=zE.bind(null,xe)},useEffectEvent:function(t){var n=pn(),a={impl:t};return n.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Cd={readContext:Yt,use:Pu,useCallback:zg,useContext:Yt,useEffect:wd,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Bg,useReducer:zu,useRef:Mg,useState:function(){return zu(zi)},useDebugValue:Sd,useDeferredValue:function(t,n){var a=St();return qg(a,tt.memoizedState,t,n)},useTransition:function(){var t=zu(zi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Nd,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=St();return Ag(a,tt,t,n)},useMemoCache:vd,useCacheRefresh:Kg};Cd.useEffectEvent=Vg;var Zg={readContext:Yt,use:Pu,useCallback:zg,useContext:Yt,useEffect:wd,useImperativeHandle:Pg,useInsertionEffect:Ug,useLayoutEffect:jg,useMemo:Bg,useReducer:Td,useRef:Mg,useState:function(){return Td(zi)},useDebugValue:Sd,useDeferredValue:function(t,n){var a=St();return tt===null?xd(a,t,n):qg(a,tt.memoizedState,t,n)},useTransition:function(){var t=Td(zi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:Nd,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var a=St();return tt!==null?Ag(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vd,useCacheRefresh:Kg};Zg.useEffectEvent=Vg;function Dd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Vn(),h=Ms(l);h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,l),n!==null&&(wn(n,t,l),zo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Vn(),h=Ms(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,l),n!==null&&(wn(n,t,l),zo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vn(),l=Ms(a);l.tag=2,n!=null&&(l.callback=n),n=ks(t,l,a),n!==null&&(wn(n,t,a),zo(n,t,a))}};function Wg(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,f):!0}function ey(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Od.enqueueReplaceState(n,n.state,null)}function Pr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ty(t){Tu(t)}function ny(t){console.error(t)}function iy(t){Tu(t)}function Fu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Md(t,n,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,n)},a}function ry(t){return t=Ms(t),t.tag=3,t}function ay(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){sy(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){sy(n,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?nc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rf(t,l,h)),!1;case 22:return a.flags|=65536,l===Du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rf(t,l,h)),!1}throw Error(r(435,a.tag))}return rf(t,l,h),nc(),!1}if(Pe)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(r(422),{cause:l}),Vo(Hn(t,a)))):(l!==Zh&&(n=Error(r(423),{cause:l}),Vo(Hn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Hn(l,a),h=Md(t.stateNode,l,h),ud(t,h),bt!==4&&(bt=2)),!1;var f=Error(r(520),{cause:l});if(f=Hn(f,a),el===null?el=[f]:el.push(f),bt!==4&&(bt=2),n===null)return!0;l=Hn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Md(a.stateNode,l,t),ud(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ry(h),ay(h,t,a,l),ud(a,h),!1}a=a.return}while(a!==null);return!1}var kd=Error(r(461)),Ct=!1;function Xt(t,n,a,l){n.child=t===null?cg(n,null,a,l):jr(n,t.child,a,l)}function oy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return Mr(n),l=pd(t,n,a,y,f,h),T=gd(),t!==null&&!Ct?(yd(t,n,h),Bi(t,n,h)):(Pe&&T&&$h(n),n.flags|=1,Xt(t,n,l,h),n.child)}function ly(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,uy(t,n,f,l,h)):(t=Su(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(y,l)&&t.ref===n.ref)return Bi(t,n,h)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function uy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Oo(f,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=f,qd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Bi(t,n,h)}return Vd(t,n,a,l,h)}function cy(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return hy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):hd(),mg(n);else return l=n.lanes=536870912,hy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Iu(n,f.cachePool),fg(n,f),Us(),n.memoizedState=null):(t!==null&&Iu(n,null),hd(),Us());return Xt(t,n,h,a),n.child}function Ko(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hy(t,n,a,l,h){var f=rd();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Iu(n,null),hd(),mg(n),t!==null&&Ea(t,n,l,!0),n.childLanes=h,null}function Gu(t,n){return n=Ku({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function dy(t,n,a){return jr(n,t.child,null,a),t=Gu(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function HE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Gu(n,l),n.lanes=536870912,Ko(null,t);if(fd(n),(t=ut)?(t=w_(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=n,n.child=a,Kt=n,ut=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return Gu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(fd(n),h)if(n.flags&256)n.flags&=-257,n=dy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ct||Ea(t,n,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=st,l!==null&&(y=fs(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ir(t,y),wn(l,t,y),kd;nc(),n=dy(t,n,a)}else t=f.treeContext,ut=Yn(y.nextSibling),Kt=n,Pe=!0,Is=null,Qn=!1,t!==null&&Zp(n,t),n=Gu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vd(t,n,a,l,h){return Mr(n),a=pd(t,n,a,l,void 0,h),l=gd(),t!==null&&!Ct?(yd(t,n,h),Bi(t,n,h)):(Pe&&l&&$h(n),n.flags|=1,Xt(t,n,a,h),n.child)}function fy(t,n,a,l,h,f){return Mr(n),n.updateQueue=null,a=gg(n,l,a,h),pg(t),l=gd(),t!==null&&!Ct?(yd(t,n,f),Bi(t,n,f)):(Pe&&l&&$h(n),n.flags|=1,Xt(t,n,a,f),n.child)}function my(t,n,a,l,h){if(Mr(n),n.stateNode===null){var f=_a,y=a.contextType;typeof y=="object"&&y!==null&&(f=Yt(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Od,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},od(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Yt(y):_a,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Dd(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Od.enqueueReplaceState(f,f.state,null),qo(n,l,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Pr(a,T);f.props=C;var P=f.context,Q=a.contextType;y=_a,typeof Q=="object"&&Q!==null&&(y=Yt(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==y)&&ey(n,f,l,y),Os=!1;var B=n.memoizedState;f.state=B,qo(n,l,f,h),Bo(),P=n.memoizedState,T||B!==P||Os?(typeof J=="function"&&(Dd(n,a,J,l),P=n.memoizedState),(C=Os||Wg(n,a,C,l,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ld(t,n),y=n.memoizedProps,Q=Pr(a,y),f.props=Q,J=n.pendingProps,B=f.context,P=a.contextType,C=_a,typeof P=="object"&&P!==null&&(C=Yt(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||B!==C)&&ey(n,f,l,C),Os=!1,B=n.memoizedState,f.state=B,qo(n,l,f,h),Bo();var H=n.memoizedState;y!==J||B!==H||Os||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof T=="function"&&(Dd(n,a,T,l),H=n.memoizedState),(Q=Os||Wg(n,a,Q,l,B,H,C)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=jr(n,t.child,null,h),n.child=jr(n,null,a,h)):Xt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Bi(t,n,h),t}function py(t,n,a,l){return Dr(),n.flags|=256,Xt(t,n,a,l),n.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(t){return{baseLanes:t,cachePool:sg()}}function Ld(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=kn),t}function gy(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Vs(n):Us(),(t=ut)?(t=w_(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:di,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=n,n.child=a,Kt=n,ut=null)):t=null,t===null)throw Cs(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Us(),h=n.mode,T=Ku({mode:"hidden",children:T},h),l=Cr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=jd(a),l.childLanes=Ld(t,y,a),n.memoizedState=Ud,Ko(null,l)):(Vs(n),Pd(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=zd(t,n,a)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),T=l.fallback,h=n.mode,l=Ku({mode:"visible",children:l.children},h),T=Cr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,jr(n,t.child,null,a),l=n.child,l.memoizedState=jd(a),l.childLanes=Ld(t,y,a),n.memoizedState=Ud,n=Ko(null,l));else if(Vs(n),Tf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Vo({value:l,source:null,stack:null}),n=zd(t,n,a)}else if(Ct||Ea(t,n,a,!1),y=(a&t.childLanes)!==0,Ct||y){if(y=st,y!==null&&(l=fs(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ir(t,l),wn(y,t,l),kd;bf(T)||nc(),n=zd(t,n,a)}else bf(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ut=Yn(T.nextSibling),Kt=n,Pe=!0,Is=null,Qn=!1,t!==null&&Zp(n,t),n=Pd(n,l.children),n.flags|=4096);return n}return h?(Us(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=Vi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Vi(P,T):(T=Cr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Ko(null,l),l=n.child,T=t.child.memoizedState,T===null?T=jd(a):(h=T.cachePool,h!==null?(C=Nt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=sg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Ld(t,y,a),n.memoizedState=Ud,Ko(t.child,l)):(Vs(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Pd(t,n){return n=Ku({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ku(t,n){return t=Cn(22,t,null,n),t.lanes=0,t}function zd(t,n,a){return jr(n,t.child,null,a),t=Pd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function yy(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),td(t.return,n,a)}function Bd(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function _y(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=wt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,ie(wt,y),Xt(t,n,l,a),l=Pe?ko:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,a,n);else if(t.tag===19)yy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Bd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bd(n,!0,a,null,f,l);break;case"together":Bd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ea(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function qd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function FE(t,n,a){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),Ds(n,Nt,t.memoizedState.cache),Dr();break;case 27:case 5:Ve(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gy(t,n,a):(Vs(n),t=Bi(t,n,a),t!==null?t.sibling:null);Vs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ea(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return _y(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),l)break;return null;case 22:return n.lanes=0,cy(t,n,a,n.pendingProps);case 24:Ds(n,Nt,t.memoizedState.cache)}return Bi(t,n,a)}function vy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!qd(t,a)&&(n.flags&128)===0)return Ct=!1,FE(t,n,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(n.flags&1048576)!==0&&Jp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Pr(t,l),n.tag=1,n=my(null,n,t,l,a)):(n.tag=0,n=Vd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Z){n.tag=11,n=oy(null,n,t,l,a);break e}else if(h===S){n.tag=14,n=ly(null,n,t,l,a);break e}}throw n=et(t)||t,Error(r(306,n,""))}}return n;case 0:return Vd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Pr(l,n.pendingProps),my(t,n,l,h,a);case 3:e:{if(oe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ld(t,n),qo(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ds(n,Nt,l),l!==f.cache&&nd(n,[Nt],a,!0),Bo(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=py(t,n,l,a);break e}else if(l!==h){h=Hn(Error(r(424)),n),Vo(h),n=py(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Yn(t.firstChild),Kt=n,Pe=!0,Is=null,Qn=!0,a=cg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dr(),l===h){n=Bi(t,n,a);break e}Xt(t,n,l,a)}n=n.child}return n;case 26:return Qu(t,n),t===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,l=uc(Ne.current).createElement(a),l[yt]=n,l[Qt]=t,$t(l,a,t),At(l),n.stateNode=l):n.memoizedState=C_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ve(n),t===null&&Pe&&(l=n.stateNode=R_(n.type,n.pendingProps,Ne.current),Kt=n,Qn=!0,h=ut,Fs(n.type)?(Ef=h,ut=Yn(l.firstChild)):ut=h),Xt(t,n,n.pendingProps.children,a),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=ut)&&(l=bA(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Kt=n,ut=Yn(l.firstChild),Qn=!1,h=!0):h=!1),h||Cs(n)),Ve(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,yf(h,f)?l=null:y!==null&&yf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=pd(t,n,VE,null,null,a),ll._currentValue=h),Qu(t,n),Xt(t,n,l,a),n.child;case 6:return t===null&&Pe&&((t=a=ut)&&(a=TA(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,Kt=n,ut=null,t=!0):t=!1),t||Cs(n)),null;case 13:return gy(t,n,a);case 4:return oe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=jr(n,null,l,a):Xt(t,n,l,a),n.child;case 11:return oy(t,n,n.type,n.pendingProps,a);case 7:return Xt(t,n,n.pendingProps,a),n.child;case 8:return Xt(t,n,n.pendingProps.children,a),n.child;case 12:return Xt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ds(n,n.type,l.value),Xt(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Mr(n),h=Yt(h),l=l(h),n.flags|=1,Xt(t,n,l,a),n.child;case 14:return ly(t,n,n.type,n.pendingProps,a);case 15:return uy(t,n,n.type,n.pendingProps,a);case 19:return _y(t,n,a);case 31:return HE(t,n,a);case 22:return cy(t,n,a,n.pendingProps);case 24:return Mr(n),l=Yt(Nt),t===null?(h=rd(),h===null&&(h=st,f=id(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},od(n),Ds(n,Nt,h)):((t.lanes&a)!==0&&(ld(t,n),qo(n,null,null,a),Bo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Nt,l)):(l=f.cache,Ds(n,Nt,l),l!==h.cache&&nd(n,[Nt],a,!0))),Xt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function qi(t){t.flags|=4}function Hd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qy())t.flags|=8192;else throw Ur=Du,ad}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(n))if(Qy())t.flags|=8192;else throw Ur=Du,ad}function Yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mo():536870912,t.lanes|=n,ka|=n)}function Yo(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function GE(t,n,a){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(Nt),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(n)?qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(qi(n),f!==null?(ct(n),by(n,f)):(ct(n),Hd(n,h,null,l,a))):f?f!==t.memoizedState?(qi(n),ct(n),by(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&qi(n),ct(n),Hd(n,h,t,l,a)),null;case 27:if(at(n),a=Ne.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ct(n),null}t=ue.current,Ta(n)?Wp(n):(t=R_(h,l,a),n.stateNode=t,qi(n))}return ct(n),null;case 5:if(at(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ct(n),null}if(f=ue.current,Ta(n))Wp(n);else{var y=uc(Ne.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[yt]=n,f[Qt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch($t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qi(n)}}return ct(n),Hd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ne.current,Ta(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[yt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(t.nodeValue,a)),t||Cs(n,!0)}else t=uc(t).createTextNode(l),t[yt]=n,n.stateNode=t}return ct(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[yt]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else a=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[yt]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Yu(n,n.updateQueue),ct(n),null);case 4:return me(),t===null&&df(n.stateNode.containerInfo),ct(n),null;case 10:return Li(n.type),ct(n),null;case 19:if(Y(wt),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yo(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Vu(t),f!==null){for(n.flags|=128,Yo(l,!1),t=f.updateQueue,n.updateQueue=t,Yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Yp(a,t),a=a.sibling;return ie(wt,wt.current&1|2),Pe&&Ui(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ft()>Wu&&(n.flags|=128,h=!0,Yo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Vu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Yu(n,t),Yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return ct(n),null}else 2*Ft()-l.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,h=!0,Yo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=wt.current,ie(wt,h?a&1|2:a&1),Pe&&Ui(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return On(n),dd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),a=n.updateQueue,a!==null&&Yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Li(Nt),ct(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function QE(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Li(Nt),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return at(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Dr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(wt),null;case 4:return me(),null;case 10:return Li(n.type),null;case 22:case 23:return On(n),dd(),t!==null&&Y(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Li(Nt),null;case 25:return null;default:return null}}function Ty(t,n){switch(Jh(n),n.tag){case 3:Li(Nt),me();break;case 26:case 27:case 5:at(n);break;case 4:me();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:Y(wt);break;case 10:Li(n.type);break;case 22:case 23:On(n),dd(),t!==null&&Y(kr);break;case 24:Li(Nt)}}function Xo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(n,n.return,T)}}function js(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var C=a,P=T;try{P()}catch(Q){Ze(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){Ze(n,n.return,Q)}}function Ey(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{dg(n,a)}catch(l){Ze(t,t.return,l)}}}function Ay(t,n,a){a.props=Pr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,n,l)}}function $o(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,n,h)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Fd(t,n,a){try{var l=t.stateNode;mA(l,t.type,a,n),l[Qt]=n}catch(h){Ze(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Lt));else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qd(t,n,a),t=t.sibling;t!==null;)Qd(t,n,a),t=t.sibling}function Xu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xu(t,n,a),t=t.sibling;t!==null;)Xu(t,n,a),t=t.sibling}function xy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,l,a),n[yt]=t,n[Qt]=a}catch(f){Ze(t,t.return,f)}}var Hi=!1,Dt=!1,Kd=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function KE(t,n){if(t=t.containerInfo,pf=gc,t=Pp(t),zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,C=-1,P=0,Q=0,J=t,B=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(T=y+h),J!==f||l!==0&&J.nodeType!==3||(C=y+l),J.nodeType===3&&(y+=J.nodeValue.length),(H=J.firstChild)!==null;)B=J,J=H;for(;;){if(J===t)break t;if(B===a&&++P===h&&(T=y),B===f&&++Q===l&&(C=y),(H=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(gf={focusedElem:t,selectionRange:a},gc=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Pr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Ny(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&Xo(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var h=Pr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}l&64&&Ey(a),l&512&&$o(a,a.return);break;case 3:if(Gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dg(t,n)}catch(y){Ze(a,a.return,y)}}break;case 27:n===null&&l&4&&xy(a);case 26:case 5:Gi(t,a),n===null&&l&4&&wy(a),l&512&&$o(a,a.return);break;case 12:Gi(t,a);break;case 31:Gi(t,a),l&4&&Dy(t,a);break;case 13:Gi(t,a),l&4&&Oy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nA.bind(null,a),EA(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||Dt,h=Hi;var f=Dt;Hi=l,(Dt=n)&&!f?Qi(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),Hi=h,Dt=f}break;case 30:break;default:Gi(t,a)}}function Iy(t){var n=t.alternate;n!==null&&(t.alternate=null,Iy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&yr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,bn=!1;function Fi(t,n,a){for(a=a.child;a!==null;)Cy(t,n,a),a=a.sibling}function Cy(t,n,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ls,a)}catch{}switch(a.tag){case 26:Dt||mi(a,n),Fi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||mi(a,n);var l=ft,h=bn;Fs(a.type)&&(ft=a.stateNode,bn=!1),Fi(t,n,a),rl(a.stateNode),ft=l,bn=h;break;case 5:Dt||mi(a,n);case 6:if(l=ft,h=bn,ft=null,Fi(t,n,a),ft=l,bn=h,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{ft.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:ft!==null&&(bn?(t=ft,E_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):E_(ft,a.stateNode));break;case 4:l=ft,h=bn,ft=a.stateNode.containerInfo,bn=!0,Fi(t,n,a),ft=l,bn=h;break;case 0:case 11:case 14:case 15:js(2,a,n),Dt||js(4,a,n),Fi(t,n,a);break;case 1:Dt||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ay(a,n,l)),Fi(t,n,a);break;case 21:Fi(t,n,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,Fi(t,n,a),Dt=l;break;default:Fi(t,n,a)}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){Ze(n,n.return,a)}}}function Oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){Ze(n,n.return,a)}}function YE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ry),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ry),n;default:throw Error(r(435,t.tag))}}function $u(t,n){var a=YE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=iA.bind(null,t,l);l.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Fs(T.type)){ft=T.stateNode,bn=!1;break e}break;case 5:ft=T.stateNode,bn=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(ft===null)throw Error(r(160));Cy(f,y,h),ft=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,t),n=n.sibling}var ti=null;function My(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),En(t),l&4&&(js(3,t,t.return),Xo(3,t),js(5,t,t.return));break;case 1:Tn(n,t),En(t),l&512&&(Dt||a===null||mi(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(Tn(n,t),En(t),l&512&&(Dt||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,a),f[yt]=t,At(f),l=f;break e;case"link":var y=M_("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),$t(f,l,a),h.head.appendChild(f);break;case"meta":if(y=M_("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),$t(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[yt]=t,At(f),l=f}t.stateNode=l}else k_(h,t.type,t.stateNode);else t.stateNode=O_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?k_(h,t.type,t.stateNode):O_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),En(t),l&512&&(Dt||a===null||mi(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),En(t),l&512&&(Dt||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{Bn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Kd=!0);break;case 6:if(Tn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(dc=null,h=ti,ti=cc(n.containerInfo),Tn(n,t),ti=h,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(he){Ze(t,t.return,he)}Kd&&(Kd=!1,ky(t));break;case 4:l=ti,ti=cc(t.stateNode.containerInfo),Tn(n,t),En(t),ti=l;break;case 12:Tn(n,t),En(t);break;case 31:Tn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 13:Tn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zu=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Hi,Q=Dt;if(Hi=P||h,Dt=Q||C,Tn(n,t),Dt=Q,Hi=P,En(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Hi||Dt||zr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){Ze(C,C.return,he)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){Ze(C,C.return,he)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?A_(H,!0):A_(C.stateNode,!1)}catch(he){Ze(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$u(t,a))));break;case 19:Tn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Sy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Gd(t);Xu(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(Bn(y,""),a.flags&=-33);var T=Gd(t);Xu(t,T,y);break;case 3:case 4:var C=a.stateNode.containerInfo,P=Gd(t);Qd(t,P,C);break;default:throw Error(r(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ky(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),zr(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ay(n,n.return,a),zr(n);break;case 27:rl(n.stateNode);case 26:case 5:mi(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}t=t.sibling}}function Qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,a),Xo(4,f);break;case 1:if(Qi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ze(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)hg(C[h],T)}catch(P){Ze(l,l.return,P)}}a&&y&64&&Ey(f),$o(f,f.return);break;case 27:xy(f);case 26:case 5:Qi(h,f,a),a&&l===null&&y&4&&wy(f),$o(f,f.return);break;case 12:Qi(h,f,a);break;case 31:Qi(h,f,a),a&&y&4&&Dy(h,f);break;case 13:Qi(h,f,a),a&&y&4&&Oy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,a),$o(f,f.return);break;case 30:break;default:Qi(h,f,a)}n=n.sibling}}function Yd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Uo(a))}function Xd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t))}function ni(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,a,l),n=n.sibling}function Vy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,a,l),h&2048&&Xo(9,n);break;case 1:ni(t,n,a,l);break;case 3:ni(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){ni(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(n,n.return,C)}}else ni(t,n,a,l);break;case 31:ni(t,n,a,l);break;case 13:ni(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ni(t,n,a,l):Jo(t,n):f._visibility&2?ni(t,n,a,l):(f._visibility|=2,Da(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yd(y,n);break;case 24:ni(t,n,a,l),h&2048&&Xd(n.alternate,n);break;default:ni(t,n,a,l)}}function Da(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,C=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Da(f,y,T,C,h),Xo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Da(f,y,T,C,h):Jo(f,y):(Q._visibility|=2,Da(f,y,T,C,h)),h&&P&2048&&Yd(y.alternate,y);break;case 24:Da(f,y,T,C,h),h&&P&2048&&Xd(y.alternate,y);break;default:Da(f,y,T,C,h)}n=n.sibling}}function Jo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&Yd(l.alternate,l);break;case 24:Jo(a,l),h&2048&&Xd(l.alternate,l);break;default:Jo(a,l)}n=n.sibling}}var Zo=8192;function Oa(t,n,a){if(t.subtreeFlags&Zo)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:Oa(t,n,a),t.flags&Zo&&t.memoizedState!==null&&kA(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Oa(t,n,a);break;case 3:case 4:var l=ti;ti=cc(t.stateNode.containerInfo),Oa(t,n,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Zo,Zo=16777216,Oa(t,n,a),Zo=l):Oa(t,n,a));break;default:Oa(t,n,a)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Wo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,Py(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:Wo(t),t.flags&2048&&js(9,t,t.return);break;case 3:Wo(t);break;case 12:Wo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ju(t)):Wo(t);break;default:Wo(t)}}function Ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Bt=l,Py(l,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),Ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ju(n));break;default:Ju(n)}t=t.sibling}}function Py(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(Iy(l),l===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var XE={getCacheForType:function(t){var n=Yt(Nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Yt(Nt).controller.signal}},$E=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Me=null,Ue=0,Je=0,Mn=null,Ls=!1,Ma=!1,$d=!1,Ki=0,bt=0,Ps=0,Br=0,Jd=0,kn=0,ka=0,el=null,An=null,Zd=!1,Zu=0,zy=0,Wu=1/0,ec=null,zs=null,Vt=0,Bs=null,Va=null,Yi=0,Wd=0,ef=null,By=null,tl=0,tf=null;function Vn(){return(Xe&2)!==0&&Ue!==0?Ue&-Ue:G.T!==null?lf():xi()}function qy(){if(kn===0)if((Ue&536870912)===0||Pe){var t=si;si<<=1,(si&3932160)===0&&(si=262144),kn=t}else kn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),kn}function wn(t,n,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),qs(t,Ue,kn,!1)),hs(t,a),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(Br|=a),bt===4&&qs(t,Ue,kn,!1)),pi(t))}function Hy(t,n,a){if((Xe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||cs(t,n),h=l?WE(t,n):sf(t,n,!0),f=l;do{if(h===0){Ma&&!l&&qs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!JE(a)){h=sf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=el;var C=T.current.memoizedState.isDehydrated;if(C&&(Ua(T,y).flags|=256),y=sf(T,y,!1),y!==2){if($d&&!C){T.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ua(t,0),qs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qs(l,n,kn,!Ls);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Zu+300-Ft(),10<h)){if(qs(l,n,kn,!Ls),Pn(l,0,!0)!==0)break e;Yi=n,l.timeoutHandle=b_(Fy.bind(null,l,a,An,ec,Zd,n,kn,Br,ka,Ls,f,"Throttled",-0,0),h);break e}Fy(l,a,An,ec,Zd,n,kn,Br,ka,Ls,f,null,-0,0)}}break}while(!0);pi(t)}function Fy(t,n,a,l,h,f,y,T,C,P,Q,J,B,H){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt},Uy(n,f,J);var he=(f&62914560)===f?Zu-Ft():(f&4194048)===f?zy-Ft():0;if(he=VA(J,he),he!==null){Yi=f,t.cancelPendingCommit=he(Zy.bind(null,t,n,f,a,l,h,y,T,C,Q,J,null,B,H)),qs(t,f,y,!P);return}}Zy(t,n,f,a,l,h,y,T,C)}function JE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(t,n,a,l){n&=~Jd,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-cn(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&po(t,a,n)}function tc(){return(Xe&6)===0?(nl(0),!1):!0}function nf(){if(Me!==null){if(Je===0)var t=Me.return;else t=Me,ji=Or=null,_d(t),xa=null,Lo=0,t=Me;for(;t!==null;)Ty(t.alternate,t),t=t.return;Me=null}}function Ua(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,nf(),st=t,Me=a=Vi(t.current,null),Ue=n,Je=0,Mn=null,Ls=!1,Ma=cs(t,n),$d=!1,ka=kn=Jd=Br=Ps=bt=0,An=el=null,Zd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-cn(l),f=1<<h;n|=t[h],l&=~f}return Ki=n,Eu(),a}function Gy(t,n){xe=null,G.H=Qo,n===Sa||n===Cu?(n=og(),Je=3):n===ad?(n=og(),Je=4):Je=n===kd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Me===null&&(bt=1,Fu(t,Hn(n,t.current)))}function Qy(){var t=Dn.current;return t===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Kn:!1}function Ky(){var t=G.H;return G.H=Qo,t===null?Qo:t}function Yy(){var t=G.A;return G.A=XE,t}function nc(){bt=4,Ls||(Ue&4194048)!==Ue&&Dn.current!==null||(Ma=!0),(Ps&134217727)===0&&(Br&134217727)===0||st===null||qs(st,Ue,kn,!1)}function sf(t,n,a){var l=Xe;Xe|=2;var h=Ky(),f=Yy();(st!==t||Ue!==n)&&(ec=null,Ua(t,n)),n=!1;var y=bt;e:do try{if(Je!==0&&Me!==null){var T=Me,C=Mn;switch(Je){case 8:nf(),y=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var P=Je;if(Je=0,Mn=null,ja(t,T,C,P),a&&Ma){y=0;break e}break;default:P=Je,Je=0,Mn=null,ja(t,T,C,P)}}ZE(),y=bt;break}catch(Q){Gy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ji=Or=null,Xe=l,G.H=h,G.A=f,Me===null&&(st=null,Ue=0,Eu()),y}function ZE(){for(;Me!==null;)Xy(Me)}function WE(t,n){var a=Xe;Xe|=2;var l=Ky(),h=Yy();st!==t||Ue!==n?(ec=null,Wu=Ft()+500,Ua(t,n)):Ma=cs(t,n);e:do try{if(Je!==0&&Me!==null){n=Me;var f=Mn;t:switch(Je){case 1:Je=0,Mn=null,ja(t,n,f,1);break;case 2:case 9:if(rg(f)){Je=0,Mn=null,$y(n);break}n=function(){Je!==2&&Je!==9||st!==t||(Je=7),pi(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:rg(f)?(Je=0,Mn=null,$y(n)):(Je=0,Mn=null,ja(t,n,f,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var T=Me;if(y?V_(y):T.stateNode.complete){Je=0,Mn=null;var C=T.sibling;if(C!==null)Me=C;else{var P=T.return;P!==null?(Me=P,ic(P)):Me=null}break t}}Je=0,Mn=null,ja(t,n,f,5);break;case 6:Je=0,Mn=null,ja(t,n,f,6);break;case 8:nf(),bt=6;break e;default:throw Error(r(462))}}eA();break}catch(Q){Gy(t,Q)}while(!0);return ji=Or=null,G.H=l,G.A=h,Xe=a,Me!==null?0:(st=null,Ue=0,Eu(),bt)}function eA(){for(;Me!==null&&!Ih();)Xy(Me)}function Xy(t){var n=vy(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,n===null?ic(t):Me=n}function $y(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=fy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=fy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:_d(n);default:Ty(a,n),n=Me=Yp(n,Ki),n=vy(a,n,Ki)}t.memoizedProps=t.pendingProps,n===null?ic(t):Me=n}function ja(t,n,a,l){ji=Or=null,_d(n),xa=null,Lo=0;var h=n.return;try{if(qE(t,h,n,a,Ue)){bt=1,Fu(t,Hn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;bt=1,Fu(t,Hn(a,t.current)),Me=null;return}n.flags&32768?(Pe||l===1?t=!0:Ma||(Ue&536870912)!==0?t=!1:(Ls=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jy(n,t)):ic(n)}function ic(t){var n=t;do{if((n.flags&32768)!==0){Jy(n,Ls);return}t=n.return;var a=GE(n.alternate,n,Ki);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);bt===0&&(bt=5)}function Jy(t,n){do{var a=QE(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);bt=6,Me=null}function Zy(t,n,a,l,h,f,y,T,C){t.cancelPendingCommit=null;do sc();while(Vt!==0);if((Xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Gh,Gt(t,a,f,y,T,C),t===st&&(Me=st=null,Ue=0),Va=n,Bs=t,Yi=a,Wd=f,ef=h,By=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sA(wi,function(){return i_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ae.p,ae.p=2,y=Xe,Xe|=4;try{KE(t,n,a)}finally{Xe=y,ae.p=h,G.T=l}}Vt=1,Wy(),e_(),t_()}}function Wy(){if(Vt===1){Vt=0;var t=Bs,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var h=Xe;Xe|=4;try{My(n,t);var f=gf,y=Pp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(C!==null&&zh(T)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=T.textContent.length,ve=Math.min(C.start,he),it=C.end===void 0?ve:Math.min(C.end,he);!H.extend&&ve>it&&(y=it,it=ve,ve=y);var U=jp(T,ve),M=jp(T,it);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=J.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),ve>it?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}gc=!!pf,gf=pf=null}finally{Xe=h,ae.p=l,G.T=a}}t.current=n,Vt=2}}function e_(){if(Vt===2){Vt=0;var t=Bs,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var h=Xe;Xe|=4;try{Ny(t,n.alternate,n)}finally{Xe=h,ae.p=l,G.T=a}}Vt=3}}function t_(){if(Vt===4||Vt===3){Vt=0,co();var t=Bs,n=Va,a=Yi,l=By;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Va=Bs=null,n_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),yo(a),n=n.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ls,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ae.p,ae.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ae.p=h}}(Yi&3)!==0&&sc(),pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===tf?tl++:(tl=0,tf=t):tl=0,nl(0)}}function n_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Uo(n)))}function sc(){return Wy(),e_(),t_(),i_()}function i_(){if(Vt!==5)return!1;var t=Bs,n=Wd;Wd=0;var a=yo(Yi),l=G.T,h=ae.p;try{ae.p=32>a?32:a,G.T=null,a=ef,ef=null;var f=Bs,y=Yi;if(Vt=0,Va=Bs=null,Yi=0,(Xe&6)!==0)throw Error(r(331));var T=Xe;if(Xe|=4,Ly(f.current),Vy(f,f.current,y,a),Xe=T,nl(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ls,f)}catch{}return!0}finally{ae.p=h,G.T=l,n_(t,n)}}function s_(t,n,a){n=Hn(a,n),n=Md(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(hs(t,2),pi(t))}function Ze(t,n,a){if(t.tag===3)s_(t,t,a);else for(;n!==null;){if(n.tag===3){s_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=Hn(a,t),a=ry(2),l=ks(n,a,2),l!==null&&(ay(a,l,n,t),hs(l,2),pi(l));break}}n=n.return}}function rf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||($d=!0,h.add(a),t=tA.bind(null,t,n,a),n.then(t,t))}function tA(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ue&a)===a&&(bt===4||bt===3&&(Ue&62914560)===Ue&&300>Ft()-Zu?(Xe&2)===0&&Ua(t,0):Jd|=a,ka===Ue&&(ka=0)),pi(t)}function r_(t,n){n===0&&(n=mo()),t=Ir(t,n),t!==null&&(hs(t,n),pi(t))}function nA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),r_(t,a)}function iA(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),r_(t,a)}function sA(t,n){return mr(t,n)}var rc=null,La=null,af=!1,ac=!1,of=!1,Hs=0;function pi(t){t!==La&&t.next===null&&(La===null?rc=La=t:La=La.next=t),ac=!0,af||(af=!0,aA())}function nl(t,n){if(!of&&ac){of=!0;do for(var a=!1,l=rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-cn(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,u_(l,f))}else f=Ue,f=Pn(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||cs(l,f)||(a=!0,u_(l,f));l=l.next}while(a);of=!1}}function rA(){a_()}function a_(){ac=af=!1;var t=0;Hs!==0&&gA()&&(t=Hs);for(var n=Ft(),a=null,l=rc;l!==null;){var h=l.next,f=o_(l,n);f===0?(l.next=null,a===null?rc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(f&3)!==0)&&(ac=!0)),l=h}Vt!==0&&Vt!==5||nl(t),Hs!==0&&(Hs=0)}function o_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-cn(f),T=1<<y,C=h[y];C===-1?((T&a)===0||(T&l)!==0)&&(h[y]=sa(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=st,a=Ue,a=Pn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||cs(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ia(l),yo(a)){case 2:case 8:a=jt;break;case 32:a=wi;break;case 268435456:a=ho;break;default:a=wi}return l=l_.bind(null,t),a=mr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ia(l),t.callbackPriority=2,t.callbackNode=null,2}function l_(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(sc()&&t.callbackNode!==a)return null;var l=Ue;return l=Pn(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hy(t,l,n),o_(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?l_.bind(null,t):null)}function u_(t,n){if(sc())return null;Hy(t,n,!0)}function aA(){_A(function(){(Xe&6)!==0?mr(kt,rA):a_()})}function lf(){if(Hs===0){var t=Aa;t===0&&(t=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Hs=t}return Hs}function c_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ui(""+t)}function h_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function oA(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=c_((h[Qt]||null).action),y=l.submitter;y&&(n=(n=y[Qt]||null)?c_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Er("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=y?h_(h,y):new FormData(h);Rd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=y?h_(h,y):new FormData(h),Rd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var uf=0;uf<Fh.length;uf++){var cf=Fh[uf],lA=cf.toLowerCase(),uA=cf[0].toUpperCase()+cf.slice(1);ei(lA,"on"+uA)}ei(qp,"onAnimationEnd"),ei(Hp,"onAnimationIteration"),ei(Fp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(SE,"onTransitionRun"),ei(xE,"onTransitionStart"),ei(RE,"onTransitionCancel"),ei(Gp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function d_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Tu(Q)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(T=l[y],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Tu(Q)}h.currentTarget=null,f=C}}}}function ke(t,n){var a=n[ms];a===void 0&&(a=n[ms]=new Set);var l=t+"__bubble";a.has(l)||(f_(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),f_(a,t,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function df(t){if(!t[oc]){t[oc]=!0,ra.forEach(function(a){a!=="selectionchange"&&(cA.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[oc]||(n[oc]=!0,hf("selectionchange",!1,n))}}function f_(t,n,a,l){switch(q_(n)){case 2:var h=LA;break;case 8:h=PA;break;default:h=Rf}a=h.bind(null,n,a,t),h=void 0,!So||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function ff(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=Ni(T),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}T=T.parentNode}}l=l.return}ru(function(){var P=f,Q=ca(a),J=[];e:{var B=Qp.get(t);if(B!==void 0){var H=Er,he=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":H=mu;break;case"focusin":he="focus",H=ws;break;case"focusout":he="blur",H=ws;break;case"beforeblur":case"afterblur":H=ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=gu;break;case qp:case Hp:case Fp:H=fa;break;case Gp:H=ma;break;case"scroll":case"scrollend":H=au;break;case"wheel":H=_u;break;case"copy":case"cut":case"paste":H=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Co;break;case"toggle":case"beforetoggle":H=xs}var ve=(n&4)!==0,it=!ve&&(t==="scroll"||t==="scrollend"),U=ve?B!==null?B+"Capture":null:B;ve=[];for(var M=P,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||U===null||(X=_n(M,U),X!=null&&ve.push(sl(M,X,L))),it)break;M=M.return}0<ve.length&&(B=new H(B,he,null,a,Q),J.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==ua&&(he=a.relatedTarget||a.fromElement)&&(Ni(he)||he[ai]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=P,he=he?Ni(he):null,he!==null&&(it=u(he),ve=he.tag,he!==it||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(H=null,he=P),H!==he)){if(ve=ou,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Co,X="onPointerLeave",U="onPointerEnter",M="pointer"),it=H==null?B:_r(H),L=he==null?B:_r(he),B=new ve(X,M+"leave",H,a,Q),B.target=it,B.relatedTarget=L,X=null,Ni(Q)===P&&(ve=new ve(U,M+"enter",he,a,Q),ve.target=L,ve.relatedTarget=it,X=ve),it=X,H&&he)t:{for(ve=hA,U=H,M=he,L=0,X=U;X;X=ve(X))L++;X=0;for(var ye=M;ye;ye=ve(ye))X++;for(;0<L-X;)U=ve(U),L--;for(;0<X-L;)M=ve(M),X--;for(;L--;){if(U===M||M!==null&&U===M.alternate){ve=U;break t}U=ve(U),M=ve(M)}ve=null}else ve=null;H!==null&&m_(J,B,H,ve,!1),he!==null&&it!==null&&m_(J,it,he,ve,!0)}}e:{if(B=P?_r(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Qe=Dp;else if(vn(B))if(Op)Qe=EE;else{Qe=bE;var fe=vE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ao(P.elementType)&&(Qe=Dp):Qe=TE;if(Qe&&(Qe=Qe(t,P))){xr(J,Qe,a,Q);break e}fe&&fe(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&la(B,"number",B.value)}switch(fe=P?_r(P):window,t){case"focusin":(vn(fe)||fe.contentEditable==="true")&&(pa=fe,Bh=P,Mo=null);break;case"focusout":Mo=Bh=pa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,zp(J,a,Q);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":zp(J,a,Q)}var Ie;if(m)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ce?$e(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(j&&a.locale!=="ko"&&(Ce||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ce&&(Ie=bs()):(Nn=Q,ha="value"in Nn?Nn.value:Nn.textContent,Ce=!0)),fe=lc(P,je),0<fe.length&&(je=new Ro(je,t,null,a,Q),J.push({event:je,listeners:fe}),Ie?je.data=Ie:(Ie=Rt(a),Ie!==null&&(je.data=Ie)))),(Ie=A?Pt(t,a):zt(t,a))&&(je=lc(P,"onBeforeInput"),0<je.length&&(fe=new Ro("onBeforeInput","beforeinput",null,a,Q),J.push({event:fe,listeners:je}),fe.data=Ie)),oA(J,t,P,a,Q)}d_(J,n)})}function sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function lc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_n(t,a),h!=null&&l.unshift(sl(t,h,f)),h=_n(t,n),h!=null&&l.push(sl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function hA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m_(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=_n(a,f),P!=null&&y.unshift(sl(a,P,C))):h||(P=_n(a,f),P!=null&&y.push(sl(a,P,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var dA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function p_(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(fA,"")}function g_(t,n){return n=p_(n),p_(t)===n}function nt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Bn(t,""+l);break;case"className":ys(t,"class",l);break;case"tabIndex":ys(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(t,a,l);break;case"style":iu(t,l,f);break;case"data":if(n!=="object"){ys(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ui(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ui(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lt);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ui(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),gs(t,"popover",l);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,gs(t,a,l))}}function mf(t,n,a,l,h,f){switch(a){case"style":iu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):gs(t,a,l)}}}function $t(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,f,y,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),l&&nt(t,n,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=f=y=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:nt(t,n,l,Q,a,null)}}vr(t,f,T,C,P,y,h,!1);return;case"select":ke("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:nt(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Ge(t,!!l,n,!1):a!=null&&Ge(t,!!l,a,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:nt(t,n,y,T,a,null)}vs(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,n,C,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<il.length;l++)ke(il[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,P,l,a,null)}return;default:if(Ao(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&mf(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,n,T,l,a,null))}function mA(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,C=null,P=null,Q=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(H)||nt(t,n,H,null,l,J)}}for(var B in l){var H=l[B];if(J=a[B],l.hasOwnProperty(B)&&(H!=null||J!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==J&&nt(t,n,B,H,l,J)}}_s(t,y,T,C,P,Q,f,h);return;case"select":H=y=T=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||nt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==C&&nt(t,n,h,f,l,C)}n=T,a=y,l=H,B!=null?Ge(t,!!a,B,!1):!!l!=!!a&&(n!=null?Ge(t,!!a,n,!0):Ge(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&nt(t,n,y,h,l,f)}br(t,B,H);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:nt(t,n,he,null,l,B)}for(C in l)if(B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:nt(t,n,C,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&nt(t,n,ve,null,l,B);for(P in l)if(B=l[P],H=a[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:nt(t,n,P,B,l,H)}return;default:if(Ao(n)){for(var it in a)B=a[it],a.hasOwnProperty(it)&&B!==void 0&&!l.hasOwnProperty(it)&&mf(t,n,it,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||mf(t,n,Q,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&nt(t,n,U,null,l,B);for(J in l)B=l[J],H=a[J],!l.hasOwnProperty(J)||B===H||B==null&&H==null||nt(t,n,J,B,l,H)}function y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&y_(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>T)break;var Q=C.transferSize,J=C.initiatorType;Q&&y_(J)&&(C=C.responseEnd,y+=Q*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pf=null,gf=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function gA(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(t){return T_.resolve(null).then(t).catch(vA)}:b_;function vA(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function E_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),qa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,rl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&rl(t.ownerDocument.body);a=h}while(a);qa(n)}function A_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bA(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function TA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function w_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function EA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ef=null;function S_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function x_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function R_(t,n,a){switch(n=uc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);yr(t)}var Xn=new Map,N_=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xi=ae.d;ae.d={f:AA,r:wA,D:SA,C:xA,L:RA,m:NA,X:CA,S:IA,M:DA};function AA(){var t=Xi.f(),n=tc();return t||n}function wA(t){var n=Ii(t);n!==null&&n.tag===5&&n.type==="form"?Gg(n):Xi.r(t)}var Pa=typeof document>"u"?null:document;function I_(t,n,a){var l=Pa;if(l&&typeof n=="string"&&n){var h=_t(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N_.has(h)||(N_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$t(n,"link",t),At(n),l.head.appendChild(n)))}}function SA(t){Xi.D(t),I_("dns-prefetch",t,null)}function xA(t,n){Xi.C(t,n),I_("preconnect",t,n)}function RA(t,n,a){Xi.L(t,n,a);var l=Pa;if(l&&t&&n){var h='link[rel="preload"][as="'+_t(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var f=h;switch(n){case"style":f=za(t);break;case"script":f=Ba(t)}Xn.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(al(f))||n==="script"&&l.querySelector(ol(f))||(n=l.createElement("link"),$t(n,"link",t),At(n),l.head.appendChild(n)))}}function NA(t,n){Xi.m(t,n);var a=Pa;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(t)}if(!Xn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Xn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(f)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function IA(t,n,a){Xi.S(t,n,a);var l=Pa;if(l&&t){var h=Zn(l).hoistableStyles,f=za(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(al(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Xn.get(f))&&Af(t,a);var C=y=l.createElement("link");At(C),$t(C,"link",t),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function CA(t,n){Xi.X(t,n);var a=Pa;if(a&&t){var l=Zn(a).hoistableScripts,h=Ba(t),f=l.get(h);f||(f=a.querySelector(ol(h)),f||(t=x({src:t,async:!0},n),(n=Xn.get(h))&&wf(t,n),f=a.createElement("script"),At(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function DA(t,n){Xi.M(t,n);var a=Pa;if(a&&t){var l=Zn(a).hoistableScripts,h=Ba(t),f=l.get(h);f||(f=a.querySelector(ol(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Xn.get(h))&&wf(t,n),f=a.createElement("script"),At(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function C_(t,n,a,l){var h=(h=Ne.current)?cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=za(a.href),a=Zn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var f=Zn(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),f||OA(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=Zn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function za(t){return'href="'+_t(t)+'"'}function al(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function OA(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$t(n,"link",a),At(n),t.head.appendChild(n))}function Ba(t){return'[src="'+_t(t)+'"]'}function ol(t){return"script[async]"+t}function O_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return n.instance=l,At(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",h),hc(l,a.precedence,t),n.instance=l;case"stylesheet":h=za(a.href);var f=t.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,At(f),f;l=D_(a),(h=Xn.get(h))&&Af(l,h),f=(t.ownerDocument||t).createElement("link"),At(f);var y=f;return y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),$t(f,"link",l),n.state.loading|=4,hc(f,a.precedence,t),n.instance=f;case"script":return f=Ba(a.src),(h=t.querySelector(ol(f)))?(n.instance=h,At(h),h):(l=a,(h=Xn.get(f))&&(l=x({},a),wf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),$t(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,a.precedence,t));return n.instance}function hc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var dc=null;function M_(t,n,a){if(dc===null){var l=new Map,h=dc=new Map;h.set(a,l)}else h=dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ri]||f[yt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function k_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function MA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kA(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=za(l.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=fc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=n.ownerDocument||n,l=D_(l),(h=Xn.get(h))&&Af(l,h),f=f.createElement("link"),At(f);var y=f;y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),$t(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sf=0;function VA(t,n){return t.stylesheets&&t.count===0&&pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sf===0&&(Sf=62500*pA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,n.forEach(UA,t),mc=null,fc.call(t))}function UA(t,n){if(!(n.state.loading&4)){var a=mc.get(t);if(a)var l=a.get(null);else{a=new Map,mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ll={$$typeof:se,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function jA(t,n,a,l,h,f,y,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function U_(t,n,a,l,h,f,y,T,C,P,Q,J){return t=new jA(t,n,a,y,C,P,Q,J,T),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=id(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},od(f),t}function j_(t){return t?(t=_a,t):_a}function L_(t,n,a,l,h,f){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ms(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ks(t,l,n),a!==null&&(wn(a,t,n),zo(a,t,n))}function P_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xf(t,n){P_(t,n),(t=t.alternate)&&P_(t,n)}function z_(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&wn(n,t,67108864),xf(t,67108864)}}function B_(t){if(t.tag===13||t.tag===31){var n=Vn();n=go(n);var a=Ir(t,n);a!==null&&wn(a,t,n),xf(t,n)}}var gc=!0;function LA(t,n,a,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=2,Rf(t,n,a,l)}finally{ae.p=f,G.T=h}}function PA(t,n,a,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=8,Rf(t,n,a,l)}finally{ae.p=f,G.T=h}}function Rf(t,n,a,l){if(gc){var h=Nf(l);if(h===null)ff(t,n,l,yc,a),H_(t,l);else if(BA(h,t,n,a,l))l.stopPropagation();else if(H_(t,l),n&4&&-1<zA.indexOf(t)){for(;h!==null;){var f=Ii(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Jn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var C=1<<31-cn(y);T.entanglements[1]|=C,y&=~C}pi(f),(Xe&6)===0&&(Wu=Ft()+500,nl(0))}}break;case 31:case 13:T=Ir(f,2),T!==null&&wn(T,f,2),tc(),xf(f,2)}if(f=Nf(l),f===null&&ff(t,n,l,yc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else ff(t,n,l,null,a)}}function Nf(t){return t=ca(t),If(t)}var yc=null;function If(t){if(yc=null,t=Ni(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yc=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case kt:return 2;case jt:return 8;case wi:case Jl:return 32;case ho:return 268435456;default:return 32}default:return 32}}var Cf=!1,Gs=null,Qs=null,Ks=null,ul=new Map,cl=new Map,Ys=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,n){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ii(n),n!==null&&z_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BA(t,n,a,l,h){switch(n){case"focusin":return Gs=hl(Gs,t,n,a,l,h),!0;case"dragenter":return Qs=hl(Qs,t,n,a,l,h),!0;case"mouseover":return Ks=hl(Ks,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,t,n,a,l,h)),!0}return!1}function F_(t){var n=Ni(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Wl(t.priority,function(){B_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Wl(t.priority,function(){B_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Nf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ua=l,a.target.dispatchEvent(l),ua=null}else return n=Ii(a),n!==null&&z_(n),t.blockedOn=a,!1;n.shift()}return!0}function G_(t,n,a){_c(t)&&a.delete(n)}function qA(){Cf=!1,Gs!==null&&_c(Gs)&&(Gs=null),Qs!==null&&_c(Qs)&&(Qs=null),Ks!==null&&_c(Ks)&&(Ks=null),ul.forEach(G_),cl.forEach(G_)}function vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cf||(Cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qA)))}var bc=null;function Q_(t){bc!==t&&(bc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===t&&(bc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(If(l||a)===null)continue;break}var f=Ii(a);f!==null&&(t.splice(n,3),n-=3,Rd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function qa(t){function n(C){return vc(C,t)}Gs!==null&&vc(Gs,t),Qs!==null&&vc(Qs,t),Ks!==null&&vc(Ks,t),ul.forEach(n),cl.forEach(n);for(var a=0;a<Ys.length;a++){var l=Ys[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&Ys.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Qt]||null;if(typeof f=="function")y||Q_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qt]||null)T=y.formAction;else if(If(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Q_(a)}}}function K_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Df(t){this._internalRoot=t}Tc.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Vn();L_(a,l,t,n,null,null)},Tc.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L_(t.current,2,null,t,null,null),tc(),n[ai]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ys.length&&n!==0&&n<Ys[a].priority;a++);Ys.splice(a,0,t),a===0&&F_(t)}};var Y_=e.version;if(Y_!=="19.2.4")throw Error(r(527,Y_,"19.2.4"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var HA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ls=Ec.inject(HA),nn=Ec}catch{}}return fl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ty,f=ny,y=iy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=U_(t,1,!1,null,null,a,l,null,h,f,y,K_),t[ai]=n.current,df(t),new Df(n)},fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ty,y=ny,T=iy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=U_(t,1,!0,n,a??null,l,h,C,f,y,T,K_),n.context=j_(null),a=n.current,l=Vn(),l=go(l),h=Ms(l),h.callback=null,ks(a,h,l),a=l,n.current.lanes=a,hs(n,a),pi(n),t[ai]=n.current,df(t),new Tc(n)},fl.version="19.2.4",fl}var s0;function e1(){if(s0)return kf.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kf.exports=WA(),kf.exports}var t1=e1();const n1=Mv(t1);var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},i1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],p=s[i++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=u>>2,x=(u&3)<<4|p>>4;let D=(p&15)<<2|_>>6,q=_&63;g||(q=64,d||(D=64)),r.push(i[E],i[x],i[D],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):i1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||p==null||_==null||x==null)throw new s1;const D=u<<2|p>>4;if(r.push(D),_!==64){const q=p<<4&240|_>>2;if(r.push(q),x!==64){const K=_<<6&192|x;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class s1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(s){const e=kv(s);return Vv.encodeByteArray(e,!0)},qc=function(s){return r1(s).replace(/\./g,"")},Uv=function(s){try{return Vv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof r0>"u")return;const s=r0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},u1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uv(s[1]);return e&&JSON.parse(e)},ah=()=>{try{return o1()||l1()||u1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>{var e,i;return(i=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},Lv=s=>{const e=jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Pv=()=>{var s;return(s=ah())===null||s===void 0?void 0:s.config},zv=s=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function d1(){var s;const e=(s=ah())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function p1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g1(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function y1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="FirebaseError";class Ai extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=b1,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?T1(u,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ai(o,p,r)}}function T1(s,e){return s.replace(E1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const E1=/\{\$([^}]+)}/g;function A1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Hc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=s[o],d=e[o];if(a0(u)&&a0(d)){if(!Hc(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function a0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function w1(s,e){const i=new S1(s,e);return i.subscribe.bind(i)}class S1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");x1(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Lf),o.error===void 0&&(o.error=Lf),o.complete===void 0&&(o.complete=Lf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s){return s&&s._delegate?s._delegate:s}class lr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new c1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I1(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(s){return s===qr?void 0:s}function I1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new R1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const D1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},O1=ze.INFO,M1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},k1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=M1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=O1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const V1=(s,e)=>e.some(i=>s instanceof i);let o0,l0;function U1(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,em=new WeakMap,Hv=new WeakMap,Pf=new WeakMap,Om=new WeakMap;function L1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(ir(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function P1(s){if(em.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function z1(s){tm=s(tm)}function B1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(zf(this),e,...i);return Hv.set(r,e.sort?e.sort():[e]),ir(r)}:j1().includes(s)?function(...e){return s.apply(zf(this),e),ir(qv.get(this))}:function(...e){return ir(s.apply(zf(this),e))}}function q1(s){return typeof s=="function"?B1(s):(s instanceof IDBTransaction&&P1(s),V1(s,U1())?new Proxy(s,tm):s)}function ir(s){if(s instanceof IDBRequest)return L1(s);if(Pf.has(s))return Pf.get(s);const e=q1(s);return e!==s&&(Pf.set(s,e),Om.set(e,s)),e}const zf=s=>Om.get(s);function H1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=ir(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ir(d.result),g.oldVersion,g.newVersion,ir(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const F1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],Bf=new Map;function u0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=G1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||F1.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&g.done]))[0]};return Bf.set(e,u),u}z1(s=>({...s,get:(e,i,r)=>u0(e,i)||s.get(e,i,r),has:(e,i)=>!!u0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(K1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function K1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",c0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Dm("@firebase/app"),Y1="@firebase/app-compat",X1="@firebase/analytics-compat",$1="@firebase/analytics",J1="@firebase/app-check-compat",Z1="@firebase/app-check",W1="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",iw="@firebase/database-compat",sw="@firebase/functions",rw="@firebase/functions-compat",aw="@firebase/installations",ow="@firebase/installations-compat",lw="@firebase/messaging",uw="@firebase/messaging-compat",cw="@firebase/performance",hw="@firebase/performance-compat",dw="@firebase/remote-config",fw="@firebase/remote-config-compat",mw="@firebase/storage",pw="@firebase/storage-compat",gw="@firebase/firestore",yw="@firebase/vertexai-preview",_w="@firebase/firestore-compat",vw="firebase",bw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",Tw={[nm]:"fire-core",[Y1]:"fire-core-compat",[$1]:"fire-analytics",[X1]:"fire-analytics-compat",[Z1]:"fire-app-check",[J1]:"fire-app-check-compat",[W1]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[iw]:"fire-rtdb-compat",[sw]:"fire-fn",[rw]:"fire-fn-compat",[aw]:"fire-iid",[ow]:"fire-iid-compat",[lw]:"fire-fcm",[uw]:"fire-fcm-compat",[cw]:"fire-perf",[hw]:"fire-perf-compat",[dw]:"fire-rc",[fw]:"fire-rc-compat",[mw]:"fire-gcs",[pw]:"fire-gcs-compat",[gw]:"fire-fst",[_w]:"fire-fst-compat",[yw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,Ew=new Map,sm=new Map;function h0(s,e){try{s.container.addComponent(e)}catch(i){is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qr(s){const e=s.name;if(sm.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of Fc.values())h0(i,s);for(const i of Ew.values())h0(i,s);return!0}function oh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Zi(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Ul("app","Firebase",Aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=bw;function Fv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:im,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw sr.create("bad-app-name",{appName:String(o)});if(i||(i=Pv()),!i)throw sr.create("no-options");const u=Fc.get(o);if(u){if(Hc(i,u.options)&&Hc(r,u.config))return u;throw sr.create("duplicate-app",{appName:o})}const d=new C1(o);for(const g of sm.values())d.addComponent(g);const p=new ww(i,r,d);return Fc.set(o,p),p}function Mm(s=im){const e=Fc.get(s);if(!e&&s===im&&Pv())return Fv();if(!e)throw sr.create("no-app",{appName:s});return e}function yi(s,e,i){var r;let o=(r=Tw[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(p.join(" "));return}Qr(new lr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebase-heartbeat-database",xw=1,xl="firebase-heartbeat-store";let qf=null;function Gv(){return qf||(qf=H1(Sw,xw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw sr.create("idb-open",{originalErrorMessage:s.message})})),qf}async function Rw(s){try{const i=(await Gv()).transaction(xl),r=await i.objectStore(xl).get(Qv(s));return await i.done,r}catch(e){if(e instanceof Ai)is.warn(e.message);else{const i=sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(i.message)}}}async function d0(s,e){try{const r=(await Gv()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,Qv(s)),await r.done}catch(i){if(i instanceof Ai)is.warn(i.message);else{const r=sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});is.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=1024,Iw=720*60*60*1e3;class Cw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ow(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=f0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=Iw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=f0(),{heartbeatsToSend:r,unsentEntries:o}=Dw(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return is.warn(i),""}}}function f0(){return new Date().toISOString().substring(0,10)}function Dw(s,e=Nw){const i=[];let r=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),m0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Rw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function m0(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(s){Qr(new lr("platform-logger",e=>new Q1(e),"PRIVATE")),Qr(new lr("heartbeat",e=>new Cw(e),"PRIVATE")),yi(nm,c0,s),yi(nm,c0,"esm2017"),yi("fire-js","")}Mw("");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,Kv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.D=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(I,O,V){for(var N=Array(arguments.length-2),et=2;et<arguments.length;et++)N[et-2]=arguments[et];return w.prototype[O].apply(I,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,w,R){R||(R=0);var I=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)I[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)I[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],O=S.g[2];var V=S.g[3],N=w+(V^R&(O^V))+I[0]+3614090360&4294967295;w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[1]+3905402710&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[3]+3250441966&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[5]+1200080426&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[7]+4249261313&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[9]+2336552879&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[11]+2304563134&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[13]+4254626195&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[15]+1236535329&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(O^V&(R^O))+I[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[6]+3225465664&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[0]+3921069994&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[10]+38016083&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[4]+3889429448&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[14]+3275163606&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[8]+1163531501&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[2]+4243563512&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[12]+2368359562&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(R^O^V)+I[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[8]+2272392833&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[14]+4259657740&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[4]+1272893353&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[10]+3200236656&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[0]+3936430074&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[6]+76029189&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[12]+3873151461&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[2]+3299628645&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(O^(R|~V))+I[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[7]+1126891415&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[5]+4237533241&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[3]+2399980690&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[1]+2240044497&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[15]+4264355552&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[13]+1309151649&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[11]+3174756917&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var R=w-this.blockSize,I=this.B,O=this.h,V=0;V<w;){if(O==0)for(;V<=R;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<w;)if(I[O++]=S.charCodeAt(V++),O==this.blockSize){o(this,I),O=0;break}}else for(;V<w;)if(I[O++]=S[V++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var R=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=R&255,R/=256;for(this.u(S),S=Array(16),w=R=0;4>w;++w)for(var I=0;32>I;I+=8)S[R++]=this.g[w]>>>I&255;return S};function u(S,w){var R=p;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function d(S,w){this.h=w;for(var R=[],I=!0,O=S.length-1;0<=O;O--){var V=S[O]|0;I&&V==w||(R[O]=V,I=!1)}this.g=R}var p={};function g(S){return-128<=S&&128>S?u(S,function(w){return new d([w|0],0>w?-1:0)}):new d([S|0],0>S?-1:0)}function _(S){if(isNaN(S)||!isFinite(S))return x;if(0>S)return $(_(-S));for(var w=[],R=1,I=0;S>=R;I++)w[I]=S/R|0,R*=4294967296;return new d(w,0)}function E(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return $(E(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(w,8)),I=x,O=0;O<S.length;O+=8){var V=Math.min(8,S.length-O),N=parseInt(S.substring(O,O+V),w);8>V?(V=_(Math.pow(w,V)),I=I.j(V).add(_(N))):(I=I.j(R),I=I.add(_(N)))}return I}var x=g(0),D=g(1),q=g(16777216);s=d.prototype,s.m=function(){if(ne(this))return-$(this).m();for(var S=0,w=1,R=0;R<this.g.length;R++){var I=this.i(R);S+=(0<=I?I:4294967296+I)*w,w*=4294967296}return S},s.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(K(this))return"0";if(ne(this))return"-"+$(this).toString(S);for(var w=_(Math.pow(S,6)),R=this,I="";;){var O=Z(R,w).g;R=ee(R,O.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=O,K(R))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},s.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function K(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function ne(S){return S.h==-1}s.l=function(S){return S=ee(this,S),ne(S)?-1:K(S)?0:1};function $(S){for(var w=S.g.length,R=[],I=0;I<w;I++)R[I]=~S.g[I];return new d(R,~S.h).add(D)}s.abs=function(){return ne(this)?$(this):this},s.add=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0,O=0;O<=w;O++){var V=I+(this.i(O)&65535)+(S.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);I=N>>>16,V&=65535,N&=65535,R[O]=N<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ee(S,w){return S.add($(w))}s.j=function(S){if(K(this)||K(S))return x;if(ne(this))return ne(S)?$(this).j($(S)):$($(this).j(S));if(ne(S))return $(this.j($(S)));if(0>this.l(q)&&0>S.l(q))return _(this.m()*S.m());for(var w=this.g.length+S.g.length,R=[],I=0;I<2*w;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<S.g.length;O++){var V=this.i(I)>>>16,N=this.i(I)&65535,et=S.i(O)>>>16,dt=S.i(O)&65535;R[2*I+2*O]+=N*dt,le(R,2*I+2*O),R[2*I+2*O+1]+=V*dt,le(R,2*I+2*O+1),R[2*I+2*O+1]+=N*et,le(R,2*I+2*O+1),R[2*I+2*O+2]+=V*et,le(R,2*I+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function le(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function se(S,w){this.g=S,this.h=w}function Z(S,w){if(K(w))throw Error("division by zero");if(K(S))return new se(x,x);if(ne(S))return w=Z($(S),w),new se($(w.g),$(w.h));if(ne(w))return w=Z(S,$(w)),new se($(w.g),w.h);if(30<S.g.length){if(ne(S)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,I=w;0>=I.l(S);)R=be(R),I=be(I);var O=z(R,1),V=z(I,1);for(I=z(I,2),R=z(R,2);!K(I);){var N=V.add(I);0>=N.l(S)&&(O=O.add(R),V=N),I=z(I,1),R=z(R,1)}return w=ee(S,O.j(w)),new se(O,w)}for(O=x;0<=S.l(w);){for(R=Math.max(1,Math.floor(S.m()/w.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=_(R),N=V.j(w);ne(N)||0<N.l(S);)R-=I,V=_(R),N=V.j(w);K(V)&&(V=D),O=O.add(V),S=ee(S,N)}return new se(O,S)}s.A=function(S){return Z(this,S).h},s.and=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)&S.i(I);return new d(R,this.h&S.h)},s.or=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)|S.i(I);return new d(R,this.h|S.h)},s.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)^S.i(I);return new d(R,this.h^S.h)};function be(S){for(var w=S.g.length+1,R=[],I=0;I<w;I++)R[I]=S.i(I)<<1|S.i(I-1)>>>31;return new d(R,S.h)}function z(S,w){var R=w>>5;w%=32;for(var I=S.g.length-R,O=[],V=0;V<I;V++)O[V]=0<w?S.i(V+R)>>>w|S.i(V+R+1)<<32-w:S.i(V+R);return new d(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Fr=d}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yv,gl,Xv,Oc,rm,$v,Jv,Zv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var F=v++;return{value:m(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function _(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,v){return c.call.apply(c.bind,arguments)}function x(c,m,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function D(c,m,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:x,D.apply(null,arguments)}function q(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function K(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,F){for(var re=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)re[$e-2]=arguments[$e];return m.prototype[j].apply(A,re)}}function ne(c){const m=c.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function $(c,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const j=c.length||0,F=A.length||0;c.length=j+F;for(let re=0;re<F;re++)c[j+re]=A[re]}else c.push(A)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function le(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var be=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function z(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function S(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function w(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let F=0;F<R.length;F++)v=R[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function O(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function V(c){p.setTimeout(()=>{throw c},0)}function N(){var c=Be;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,v){const A=dt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var dt=new ee(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,pe=!1,Be=new et,Fe=()=>{const c=p.Promise.resolve(void 0);ae=()=>{c.then(k)}};var k=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var m=dt;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}pe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return c})();function ge(c,m){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(be){e:{try{Z(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ge.aa.h.call(this)}}K(ge,ie);var Ne={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),oe=0;function me(c,m,v,A,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++oe,this.da=this.fa=!1}function Ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,j){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var re=Oe(c,m,A,j);return-1<re?(m=c[re],v||(m.fa=!1)):(m=new me(m,this.src,F,!!A,j),m.fa=v,c.push(m)),m};function ot(c,m){var v=m.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=j)&&Array.prototype.splice.call(A,j,1),F&&(Ve(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Oe(c,m,v,A){for(var j=0;j<c.length;++j){var F=c[j];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==A)return j}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),mt={};function Ht(c,m,v,A,j){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Ht(c,m[F],v,A,j);return null}return v=$l(v),c&&c[De]?c.K(m,v,_(A)?!!A.capture:!1,j):Nh(c,m,v,!1,A,j)}function Nh(c,m,v,A,j,F){if(!m)throw Error("Invalid event type");var re=_(j)?!!j.capture:!!j,$e=co(c);if($e||(c[qe]=$e=new at(c)),v=$e.add(m,v,A,re,F),v.proxy)return v;if(A=Xl(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ue||(j=re),j===void 0&&(j=!1),c.addEventListener(m.toString(),A,j);else if(c.attachEvent)c.attachEvent(ia(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xl(){function c(v){return m.call(c.src,c.listener,v)}const m=Ih;return c}function na(c,m,v,A,j){if(Array.isArray(m))for(var F=0;F<m.length;F++)na(c,m[F],v,A,j);else A=_(A)?!!A.capture:!!A,v=$l(v),c&&c[De]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],v=Oe(F,v,A,j),-1<v&&(Ve(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=co(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Oe(m,v,A,j)),(v=-1<c?m[c]:null)&&mr(v))}function mr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[De])ot(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ia(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=co(m))?(ot(v,c),v.h==0&&(v.src=null,m[qe]=null)):Ve(c)}}}function ia(c){return c in mt?mt[c]:mt[c]="on"+c}function Ih(c,m){if(c.da)c=!0;else{m=new ge(m,this);var v=c.listener,A=c.ha||c.src;c.fa&&mr(c),c=v.call(A,m)}return c}function co(c){return c=c[qe],c instanceof at?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(m){return c.handleEvent(m)}),c[Ft])}function kt(){Y.call(this),this.i=new at(this),this.M=this,this.F=null}K(kt,Y),kt.prototype[De]=!0,kt.prototype.removeEventListener=function(c,m,v,A){na(this,c,m,v,A)};function jt(c,m){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new ie(m,c);else if(m instanceof ie)m.target=m.target||c;else{var j=m;m=new ie(A,c),I(m,j)}if(j=!0,v)for(var F=v.length-1;0<=F;F--){var re=m.g=v[F];j=wi(re,A,!0,m)&&j}if(re=m.g=c,j=wi(re,A,!0,m)&&j,j=wi(re,A,!1,m)&&j,v)for(F=0;F<v.length;F++)re=m.g=v[F],j=wi(re,A,!1,m)&&j}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],A=0;A<v.length;A++)Ve(v[A]);delete c.g[m],c.h--}}this.F=null},kt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},kt.prototype.L=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function wi(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,F=0;F<m.length;++F){var re=m[F];if(re&&!re.da&&re.capture==v){var $e=re.listener,Rt=re.ha||re.src;re.fa&&ot(c.i,re),j=$e.call(Rt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Jl(c,m,v){if(typeof c=="function")v&&(c=D(c,v));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function ho(c){c.g=Jl(()=>{c.g=null,c.i&&(c.i=!1,ho(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ch extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){Y.call(this),this.h=c,this.g={}}K(pr,Y);var ls=[];function nn(c){z(c.g,function(m,v){this.g.hasOwnProperty(v)&&mr(m)},c),c.g={}}pr.prototype.N=function(){pr.aa.N.call(this),nn(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=p.JSON.stringify,cn=p.JSON.parse,Dh=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function fo(){}fo.prototype.h=null;function Zl(c){return c.h||(c.h=c.i())}function gr(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){ie.call(this,"d")}K(us,ie);function Jn(){ie.call(this,"c")}K(Jn,ie);var Pn={},cs=null;function sa(){return cs=cs||new kt}Pn.La="serverreachability";function mo(c){ie.call(this,Pn.La,c)}K(mo,ie);function Si(c){const m=sa();jt(m,new mo(m))}Pn.STAT_EVENT="statevent";function hs(c,m){ie.call(this,Pn.STAT_EVENT,c),this.stat=m}K(hs,ie);function Gt(c){const m=sa();jt(m,new hs(m,c))}Pn.Ma="timingevent";function po(c,m){ie.call(this,Pn.Ma,c),this.size=m}K(po,ie);function ds(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function fs(){this.g=!0}fs.prototype.xa=function(){this.g=!1};function go(c,m,v,A,j,F){c.info(function(){if(c.g)if(F)for(var re="",$e=F.split("&"),Rt=0;Rt<$e.length;Rt++){var Ce=$e[Rt].split("=");if(1<Ce.length){var Pt=Ce[0];Ce=Ce[1];var zt=Pt.split("_");re=2<=zt.length&&zt[1]=="type"?re+(Pt+"="+Ce+"&"):re+(Pt+"=redacted&")}}else re=null;else re=F;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+re})}function yo(c,m,v,A,j,F,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+F+" "+re})}function xi(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ri(c,v)+(A?" "+A:"")})}function Wl(c,m){c.info(function(){return"TIMEOUT: "+m})}fs.prototype.info=function(){};function ri(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return Ln(v)}catch{return m}}var yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ai;function ms(){}K(ms,fo),ms.prototype.g=function(){return new XMLHttpRequest},ms.prototype.i=function(){return{}},ai=new ms;function oi(c,m,v,A){this.j=c,this.i=m,this.l=v,this.R=A||1,this.U=new pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eu}function eu(){this.i=null,this.g="",this.h=!1}var _o={},Ri={};function yr(c,m,v){c.L=1,c.v=br(_t(m)),c.m=v,c.P=!0,Ni(c,null)}function Ni(c,m){c.F=Date.now(),Zn(c),c.A=_t(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Di(v.i,"t",A),c.C=0,v=c.j.J,c.h=new eu,c.g=gu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Ch(D(c.Y,c,c.g),c.O)),m=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ls[0]=j.toString()),j=ls);for(var F=0;F<j.length;F++){var re=Ht(v,j[F],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Si(),go(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;const m=this.M;m&&fn(c)==3?m.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const zt=fn(this.g);var m=this.g.Ba();const Rs=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Ar(this.g)))){this.J||zt!=4||m==7||(m==8||0>=Rs?Si(3):Si(2)),ra(this);var v=this.g.Z();this.X=v;t:if(Ii(this)){var A=Ar(this.g);c="";var j=A.length,F=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),ps(this);var re="";break t}this.h.i=new p.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(F&&m==j-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,yo(this.i,this.u,this.A,this.l,this.R,zt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Rt=this.g;if(($e=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le($e)){var Ce=$e;break t}}Ce=null}if(v=Ce)xi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,li(this,v);else{this.o=!1,this.s=3,Gt(12),hn(this),ps(this);break e}}if(this.P){v=!0;let vn;for(;!this.J&&this.C<re.length;)if(vn=_r(this,re),vn==Ri){zt==4&&(this.s=4,Gt(14),v=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==_o){this.s=4,Gt(15),xi(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else xi(this.i,this.l,vn,null),li(this,vn);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||re.length!=0||this.h.h||(this.s=1,Gt(16),v=!1),this.o=this.o&&v,!v)xi(this.i,this.l,re,"[Invalid Chunked Response]"),hn(this),ps(this);else if(0<re.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Io(Pt),Pt.M=!0,Gt(11))}}else xi(this.i,this.l,re,null),li(this,re);zt==4&&hn(this),this.o&&!this.J&&(zt==4?fu(this.j,this):(this.o=!1,Zn(this)))}else ou(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),hn(this),ps(this)}}}catch{}finally{}};function Ii(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _r(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ri:(v=Number(m.substring(v,A)),isNaN(v)?_o:(A+=1,A+v>m.length?Ri:(m=m.slice(A,A+v),c.C=A+v,m)))}oi.prototype.cancel=function(){this.J=!0,hn(this)};function Zn(c){c.S=Date.now()+c.I,At(c,c.I)}function At(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ds(D(c.ba,c),m)}function ra(c){c.B&&(p.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wl(this.i,this.A),this.L!=2&&(Si(),Gt(17)),hn(this),this.s=2,ps(this)):At(this,this.S-c)};function ps(c){c.j.G==0||c.J||fu(c.j,c)}function hn(c){ra(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,nn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function li(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||gs(v.h,c))){if(!c.K&&gs(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ss(v),ws(v);else break e;No(v),Gt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ds(D(v.Za,v),6e3));if(1>=tu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mi(v,11)}else if((c.K||v.g==c)&&Ss(v),!le(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Ce=j[m];if(v.T=Ce[0],Ce=Ce[1],v.G==2)if(Ce[0]=="c"){v.K=Ce[1],v.ia=Ce[2];const Pt=Ce[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const zt=Ce[4];zt!=null&&(v.Aa=zt,v.j.info("SVER="+v.Aa));const Rs=Ce[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(A=1.5*Rs,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const vn=c.g;if(vn){const xr=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var F=A.h;F.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ys(F,F.h),F.h=null))}if(A.D){const ki=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ki&&(A.ya=ki,Ge(A.I,A.D,ki))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=c;if(A.qa=pu(A,A.J?A.ia:null,A.W),re.K){zn(A.h,re);var $e=re,Rt=A.L;Rt&&($e.I=Rt),$e.B&&(ra($e),Zn($e)),A.g=re}else hu(A);0<v.i.length&&fa(v)}else Ce[0]!="stop"&&Ce[0]!="close"||Mi(v,7);else v.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Mi(v,7):xo(v):Ce[0]!="noop"&&v.l&&v.l.ta(Ce),v.v=0)}}Si(4)}catch{}}var Oh=class{constructor(c,m){this.g=c,this.map=m}};function vo(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tu(c){return c.h?1:c.g?c.g.size:0}function gs(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ys(c,m){c.g?c.g.add(m):c.h=m}function zn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return ne(c.i)}function nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],v=c.length,A=0;A<v;A++)m.push(c[A]);return m}m=[],v=0;for(A in c)m[v++]=c[A];return m}function Mh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const A in c)m[v++]=A;return m}}}function aa(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Mh(c),A=nu(c),j=A.length,F=0;F<j;F++)m.call(void 0,A[F],v&&v[F],c)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var F=c[v].substring(0,A);j=c[v].substring(A+1)}else F=c[v];m(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.s),this.l=c.l;var m=c.i,v=new ui;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),la(this,v),this.m=c.m}else c&&(m=String(c).match(To))?(this.h=!1,_s(this,m[1]||"",!0),this.o=vs(m[2]||""),this.g=vs(m[3]||"",!0),vr(this,m[4]),this.l=vs(m[5]||"",!0),la(this,m[6]||"",!0),this.m=vs(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Ci.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Bn(m,Eo,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Bn(m,Eo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bn(v,v.charAt(0)=="/"?Ao:iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bn(v,Uh)),c.join("")};function _t(c){return new Ci(c)}function _s(c,m,v){c.j=v?vs(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function la(c,m,v){m instanceof ui?(c.i=m,su(c.i,c.h)):(v||(m=Bn(m,Vh)),c.i=new ui(m,c.h))}function Ge(c,m,v){c.i.set(m,v)}function br(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vs(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,kh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,iu=/[#\?:]/g,Ao=/[#\?]/g,Vh=/[#\?@]/g,Uh=/#/g;function ui(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ui.prototype,s.add=function(c,m){Lt(this),this.i=null,c=Rn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function ua(c,m){Lt(c),m=Rn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ca(c,m){return Lt(c),m=Rn(c,m),c.g.has(m)}s.forEach=function(c,m){Lt(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(m,j,A,this)},this)},this)},s.na=function(){Lt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const j=c[A];for(let F=0;F<j.length;F++)v.push(m[A])}return v},s.V=function(c){Lt(this);let m=[];if(typeof c=="string")ca(this,c)&&(m=m.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},s.set=function(c,m){return Lt(this),this.i=null,c=Rn(this,c),ca(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Di(c,m,v){ua(c,m),0<v.length&&(c.i=null,c.g.set(Rn(c,m),ne(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const F=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var j=F;re[A]!==""&&(j+="="+encodeURIComponent(String(re[A]))),c.push(j)}}return this.i=c.join("&")};function Rn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function su(c,m){m&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(ua(this,A),Di(this,j,v))},c)),c.j=m}function wo(c,m){const v=new fs;if(p.Image){const A=new Image;A.onload=q(_n,v,"TestLoadImage: loaded",!0,m,A),A.onerror=q(_n,v,"TestLoadImage: error",!1,m,A),A.onabort=q(_n,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(_n,v,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function ru(c,m){const v=new fs,A=new AbortController,j=setTimeout(()=>{A.abort(),_n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(j),F.ok?_n(v,"TestPingServer: ok",!0,m):_n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),_n(v,"TestPingServer: error",!1,m)})}function _n(c,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Wn(){this.g=new Dh}function So(c,m,v){const A=v||"";try{aa(c,function(j,F){let re=j;_(j)&&(re=Ln(j)),m.push(A+F+"="+encodeURIComponent(re))})}catch(j){throw m.push(A+"type="+encodeURIComponent("_badmap")),j}}function ci(c){this.l=c.Ub||null,this.j=c.eb||!1}K(ci,fo),ci.prototype.g=function(){return new Nn(this.l,this.j)},ci.prototype.i=(function(c){return function(){return c}})({});function Nn(c,m){kt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Nn,kt),s=Nn.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,bs(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?hi(this):bs(this),this.readyState==3&&ha(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,hi(this))},s.Qa=function(c){this.g&&(this.response=c,hi(this))},s.ga=function(){this.g&&hi(this)};function hi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bs(c)}s.setRequestHeader=function(c,m){this.u.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function bs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tr(c){let m="";return z(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ts(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Tr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ge(c,m,v))}function lt(c){kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(lt,kt);var sn=/^https?$/i,Oi=["POST","PUT"];s=lt.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ai.g(),this.v=this.o?Zl(this.o):Zl(ai),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){Er(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Oi,m,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Er(this,F)}};function Er(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Es(c),As(c)}function Es(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),As(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),lt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},s.bb=function(){au(this)};function au(c){if(c.h&&typeof d<"u"&&(!c.v[1]||fn(c)!=4||c.Z()!=2)){if(c.u&&fn(c)==4)Jl(c.Ea,0,c);else if(jt(c,"readystatechange"),fn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=re===0){var j=String(c.D).match(To)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),A=!sn.test(j?j.toLowerCase():"")}v=A}if(v)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var F=2<fn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Es(c)}}finally{As(c)}}}}function As(c,m){if(c.g){da(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||jt(c,"ready");try{v.onreadystatechange=A}catch{}}}function da(c){c.I&&(p.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function fn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),cn(m)}};function Ar(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ou(c){const m={};c=(c.g&&2<=fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(le(c[A]))continue;var v=O(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[j]||[];m[j]=F,F.push(v)}S(m,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function lu(c){this.Aa=0,this.i=[],this.j=new fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,c),this.cb=wr("retryDelaySeedMs",1e4,c),this.Wa=wr("forwardChannelMaxRetries",2,c),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vo(c&&c.concurrentRequestLimit),this.Da=new Wn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=lu.prototype,s.la=8,s.G=1,s.connect=function(c,m,v,A){Gt(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=pu(this,null,this.W),fa(this)};function xo(c){if(uu(c),c.G==3){var m=c.U++,v=_t(c.I);if(Ge(v,"SID",c.K),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),Sr(c,v),m=new oi(c,c.j,m),m.L=2,m.v=br(_t(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zn(m)}Co(c)}function ws(c){c.g&&(Io(c),c.g.cancel(),c.g=null)}function uu(c){ws(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function fa(c){if(!bo(c.h)&&!c.s){c.s=!0;var m=c.Ga;ae||Fe(),pe||(ae(),pe=!0),Be.add(m,c),c.B=0}}function jh(c,m){return tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ds(D(c.Ga,c,m),mu(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new oi(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ro(this,j,m),v=_t(this.I),Ge(v,"RID",c),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),Sr(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(Tr(F)))+"&"+m:this.m&&Ts(v,this.m,F)),ys(this.h,j),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",m),Ge(v,"SID","null"),j.T=!0,yr(j,v,null)):yr(j,v,m),this.G=2}}else this.G==3&&(c?cu(this,c):this.i.length==0||bo(this.h)||cu(this))};function cu(c,m){var v;m?v=m.l:v=c.U++;const A=_t(c.I);Ge(A,"SID",c.K),Ge(A,"RID",v),Ge(A,"AID",c.T),Sr(c,A),c.m&&c.o&&Ts(A,c.m,c.o),v=new oi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ro(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ys(c.h,v),yr(v,A,m)}function Sr(c,m){c.H&&z(c.H,function(v,A){Ge(m,A,v)}),c.l&&aa({},function(v,A){Ge(m,A,v)})}function Ro(c,m,v){v=Math.min(c.i.length,v);var A=c.l?D(c.l.Na,c.l,c):null;e:{var j=c.i;let F=-1;for(;;){const re=["count="+v];F==-1?0<v?(F=j[0].g,re.push("ofs="+F)):F=0:re.push("ofs="+F);let $e=!0;for(let Rt=0;Rt<v;Rt++){let Ce=j[Rt].g;const Pt=j[Rt].map;if(Ce-=F,0>Ce)F=Math.max(0,j[Rt].g-100),$e=!1;else try{So(Pt,re,"req"+Ce+"_")}catch{A&&A(Pt)}}if($e){A=re.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,A}function hu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ae||Fe(),pe||(ae(),pe=!0),Be.add(m,c),c.v=0}}function No(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ds(D(c.Fa,c),mu(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ds(D(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),ws(this),du(this))};function Io(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function du(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=_t(c.qa);Ge(m,"RID","rpc"),Ge(m,"SID",c.K),Ge(m,"AID",c.T),Ge(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(m,"TO",c.ja),Ge(m,"TYPE","xmlhttp"),Sr(c,m),c.m&&c.o&&Ts(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=br(_t(m)),v.m=null,v.P=!0,Ni(v,c)}s.Za=function(){this.C!=null&&(this.C=null,ws(this),No(this),Gt(19))};function Ss(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function fu(c,m){var v=null;if(c.g==m){Ss(c),Io(c),c.g=null;var A=2}else if(gs(c.h,m))v=m.D,zn(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;A=sa(),jt(A,new po(A,v)),fa(c)}else hu(c);else if(j=m.s,j==3||j==0&&0<m.X||!(A==1&&jh(c,m)||A==2&&No(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function mu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Mi(c,m){if(c.j.info("Error code "+m),m==2){var v=D(c.fb,c),A=c.Xa;const j=!A;A=new Ci(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||_s(A,"https"),br(A),j?wo(A.toString(),v):ru(A.toString(),v)}else Gt(2);c.G=0,c.l&&c.l.sa(m),Co(c),uu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Co(c){if(c.G=0,c.ka=[],c.l){const m=dn(c.h);(m.length!=0||c.i.length!=0)&&($(c.ka,m),$(c.ka,c.i),c.h.i.length=0,ne(c.i),c.i.length=0),c.l.ra()}}function pu(c,m,v){var A=v instanceof Ci?_t(v):new Ci(v);if(A.g!="")m&&(A.g=m+"."+A.g),vr(A,A.s);else{var j=p.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var F=new Ci(null);A&&_s(F,A),m&&(F.g=m),j&&vr(F,j),v&&(F.l=v),A=F}return v=c.D,m=c.ya,v&&m&&Ge(A,v,m),Ge(A,"VER",c.la),Sr(c,A),A}function gu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new lt(new ci({eb:v})):new lt(c.pa),m.Ha(c.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ma(){}ma.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){kt.call(this),this.g=new lu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!le(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!le(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new xs(this)}K(mn,kt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){xo(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ln(c),c=v);m.i.push(new Oh(m.Ya++,c)),m.G==3&&fa(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,mn.aa.N.call(this)};function _u(c){us.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}K(_u,us);function vu(){Jn.call(this),this.status=1}K(vu,Jn);function xs(c){this.g=c}K(xs,yu),xs.prototype.ua=function(){jt(this.g,"a")},xs.prototype.ta=function(c){jt(this.g,new _u(c))},xs.prototype.sa=function(c){jt(this.g,new vu)},xs.prototype.ra=function(){jt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Zv=function(){return new ma},Jv=function(){return sa()},$v=Pn,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,Oc=yt,Qt.COMPLETE="complete",Xv=Qt,gr.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",kt.prototype.listen=kt.prototype.K,gl=gr,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,Yv=lt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Dm("@firebase/firestore");function ml(){return Kr.logLevel}function de(s,...e){if(Kr.logLevel<=ze.DEBUG){const i=e.map(km);Kr.debug(`Firestore (${ao}): ${s}`,...i)}}function ss(s,...e){if(Kr.logLevel<=ze.ERROR){const i=e.map(km);Kr.error(`Firestore (${ao}): ${s}`,...i)}}function Ja(s,...e){if(Kr.logLevel<=ze.WARN){const i=e.map(km);Kr.warn(`Firestore (${ao}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+s;throw ss(e),new Error(e)}function We(s,e){s||Ee()}function Se(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ai{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class Vw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Uw{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new Wv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new on(e)}}class jw{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lw{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new jw(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){We(this.o===void 0);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string"),this.R=i.token,new Pw(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Bw(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=e.charAt(o[u]%e.length))}return r}}function Ye(s,e){return s<e?-1:s>e?1:0}function Za(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*i));return new Ut(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Ut(0,0))}static max(){return new we(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ee(),r===void 0?r=e.length-i:r>e.length-i&&Ee(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const u=e.get(o),d=i.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class ht extends Rl{construct(e,i,r){return new ht(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Rl{construct(e,i,r){return new Wt(e,i,r)}static isValidIdentifier(e){return qw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(u(),o++)}if(u(),d)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}function Hw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new Ut(i+1,0):new Ut(i,r));return new ur(o,_e.empty(),e)}function Fw(s){return new ur(s.readTime,s.key,-1)}class ur{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ur(we.min(),_e.empty(),-1)}static max(){return new ur(we.max(),_e.empty(),-1)}}function Gw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Ye(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==Qw)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):te.reject(i)}static resolve(e){return new te(((i,r)=>{i(e)}))}static reject(e){return new te(((i,r)=>{r(e)}))}static waitFor(e){return new te(((i,r)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&i()}),(g=>r(g)))})),d=!0,u===o&&i()}))}static or(e){let i=te.resolve(!1);for(const r of e)i=i.next((o=>o?te.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(e,i){return new te(((r,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;i(e[_]).next((E=>{d[_]=E,++p,p===u&&r(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new te(((r,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):r()};u()}))}}function Yw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Pl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vm.oe=-1;function lh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function Xw(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function tb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,u){return new Zt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,i,r,o,u){return this}insert(e,i,r){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new en(this.comparator);return i.data=e,i}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Un([])}unionWith(e){let i=new en(Wt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nb("Invalid base64 string: "+u):u}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const $w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(We(!!s),typeof s=="string"){let e=0;const i=$w.exec(s);if(We(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Yr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function jm(s){const e=s.mapValue.fields.__previous_value__;return Um(e)?jm(e):e}function Nl(s){const e=cr(s.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,i,r,o,u,d,p,g,_){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}class Il{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={mapValue:{}};function Xr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:Ww(s)?9007199254740991:Zw(s)?10:11:Ee()}function Ei(s,e){if(s===e)return!0;const i=Xr(s);if(i!==Xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Nl(s).isEqual(Nl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=cr(o.timestampValue),p=cr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=xt(o.doubleValue),p=xt(u.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Za(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(y0(d)!==y0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ei(d[g],p[g])))return!1;return!0})(s,e);default:return Ee()}}function Cl(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function Wa(s,e){if(s===e)return 0;const i=Xr(s),r=Xr(e);if(i!==r)return Ye(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ye(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=xt(u.integerValue||u.doubleValue),g=xt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return v0(s.timestampValue,e.timestampValue);case 4:return v0(Nl(s),Nl(e));case 5:return Ye(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Yr(u),g=Yr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const E=Ye(p[_],g[_]);if(E!==0)return E}return Ye(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ye(xt(u.latitude),xt(d.latitude));return p!==0?p:Ye(xt(u.longitude),xt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return b0(s.arrayValue,e.arrayValue);case 10:return(function(u,d){var p,g,_,E;const x=u.fields||{},D=d.fields||{},q=(p=x.value)===null||p===void 0?void 0:p.arrayValue,K=(g=D.value)===null||g===void 0?void 0:g.arrayValue,ne=Ye(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return ne!==0?ne:b0(q,K)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Sc.mapValue&&d===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=d.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const D=Ye(g[x],E[x]);if(D!==0)return D;const q=Wa(p[g[x]],_[E[x]]);if(q!==0)return q}return Ye(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ee()}}function v0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ye(s,e);const i=cr(s),r=cr(e),o=Ye(i.seconds,r.seconds);return o!==0?o:Ye(i.nanos,r.nanos)}function b0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=Wa(i[o],r[o]);if(u)return u}return Ye(i.length,r.length)}function eo(s){return am(s)}function am(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=cr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=am(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${am(i.fields[d])}`;return o+"}"})(s.mapValue):Ee()}function T0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function om(s){return!!s&&"integerValue"in s}function Lm(s){return!!s&&"arrayValue"in s}function E0(s){return!!s&&"nullValue"in s}function A0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Mc(s){return!!s&&"mapValue"in s}function Zw(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function bl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Wr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=bl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=bl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Ww(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Mc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(i)}setAll(e){let i=Wt.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=bl(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(e){const i=this.field(e.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Wr(i,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Sn(bl(this.value))}}function ib(s){const e=[];return Wr(s.fields,((i,r)=>{const o=new Wt([i]);if(Mc(r)){const u=ib(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,r,o,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,o){return new ln(e,1,i,we.min(),r,o,0)}static newNoDocument(e,i){return new ln(e,2,i,we.min(),we.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,we.min(),we.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i){this.position=e,this.inclusive=i}}function w0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=Wa(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function S0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i="asc"){this.field=e,this.dir=i}}function eS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{}class Mt extends sb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new nS(e,i,r):i==="array-contains"?new rS(e,r):i==="in"?new aS(e,r):i==="not-in"?new oS(e,r):i==="array-contains-any"?new lS(e,r):new Mt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new iS(e,r):new sS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Wa(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends sb{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new ii(e,i)}matches(e){return rb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rb(s){return s.op==="and"}function ab(s){return tS(s)&&rb(s)}function tS(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function lm(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(ab(s))return s.filters.map((e=>lm(e))).join(",");{const e=s.filters.map((i=>lm(i))).join(",");return`${s.op}(${e})`}}function ob(s,e){return s instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,d,p)=>u&&ob(d,o.filters[p])),!0):!1})(s,e):void Ee()}function lb(s){return s instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(lb).join(" ,")+"}"})(s):"Filter"}class nS extends Mt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class iS extends Mt{constructor(e,i){super(e,"in",i),this.keys=ub("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class sS extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=ub("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ub(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class rS extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&Cl(i.arrayValue,this.value)}}class aS extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class oS extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Cl(this.value.arrayValue,i)}}class lS extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Cl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i=null,r=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.ue=null}}function x0(s,e=null,i=[],r=[],o=null,u=null,d=null){return new uS(s,e,i,r,o,u,d)}function Pm(s){const e=Se(s);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>lm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),lh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>eo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>eo(r))).join(",")),e.ue=i}return e.ue}function zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!eS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ob(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!S0(s.startAt,e.startAt)&&S0(s.endAt,e.endAt)}function um(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,i=null,r=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cS(s,e,i,r,o,u,d,p){return new zl(s,e,i,r,o,u,d,p)}function Bm(s){return new zl(s)}function R0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cb(s){return s.collectionGroup!==null}function Tl(s){const e=Se(s);if(e.ce===null){e.ce=[];const i=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new en(Wt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Kc(u,r))})),i.has(Wt.keyField().canonicalString())||e.ce.push(new Kc(Wt.keyField(),r))}return e.ce}function _i(s){const e=Se(s);return e.le||(e.le=hS(e,Tl(s))),e.le}function hS(s,e){if(s.limitType==="F")return x0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kc(o.field,u)}));const i=s.endAt?new Qc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qc(s.startAt.position,s.startAt.inclusive):null;return x0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function cm(s,e){const i=s.filters.concat([e]);return new zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function hm(s,e,i){return new zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function uh(s,e){return zm(_i(s),_i(e))&&s.limitType===e.limitType}function hb(s){return`${Pm(_i(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>lb(o))).join(", ")}]`),lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>eo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>eo(o))).join(",")),`Target(${r})`})(_i(s))}; limitType=${s.limitType})`}function ch(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of Tl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const _=w0(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Tl(r),o)||r.endAt&&!(function(d,p,g){const _=w0(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Tl(r),o))})(s,e)}function dS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function db(s){return(e,i)=>{let r=!1;for(const o of Tl(s)){const u=fS(o,e,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function fS(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),_=p.data.field(u);return g!==null&&_!==null?Wa(g,_):Ee()})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((i,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new gt(_e.comparator);function rs(){return mS}const fb=new gt(_e.comparator);function yl(...s){let e=fb;for(const i of s)e=e.insert(i.key,i);return e}function mb(s){let e=fb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Hr(){return El()}function pb(){return El()}function El(){return new oo((s=>s.toString()),((s,e)=>s.isEqual(e)))}const pS=new gt(_e.comparator),gS=new en(_e.comparator);function Le(...s){let e=gS;for(const i of s)e=e.add(i);return e}const yS=new en(Ye);function _S(){return yS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function gb(s){return{integerValue:""+s}}function vS(s,e){return Xw(e)?gb(e):qm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function bS(s,e,i){return s instanceof Yc?(function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=jm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,e):s instanceof Dl?_b(s,e):s instanceof Ol?vb(s,e):(function(o,u){const d=yb(o,u),p=N0(d)+N0(o.Pe);return om(d)&&om(o.Pe)?gb(p):qm(o.serializer,p)})(s,e)}function TS(s,e,i){return s instanceof Dl?_b(s,e):s instanceof Ol?vb(s,e):i}function yb(s,e){return s instanceof Xc?(function(r){return om(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Yc extends hh{}class Dl extends hh{constructor(e){super(),this.elements=e}}function _b(s,e){const i=bb(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ol extends hh{constructor(e){super(),this.elements=e}}function vb(s,e){let i=bb(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class Xc extends hh{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function N0(s){return xt(s.integerValue||s.doubleValue)}function bb(s){return Lm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ES(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Dl&&o instanceof Dl||r instanceof Ol&&o instanceof Ol?Za(r.elements,o.elements,Ei):r instanceof Xc&&o instanceof Xc?Ei(r.Pe,o.Pe):r instanceof Yc&&o instanceof Yc})(s.transform,e.transform)}class AS{constructor(e,i){this.version=e,this.transformResults=i}}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class dh{}function Tb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hm(s.key,$n.none()):new Bl(s.key,s.data,$n.none());{const i=s.data,r=Sn.empty();let o=new en(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new fr(s.key,r,new Un(o.toArray()),$n.none())}}function wS(s,e,i){s instanceof Bl?(function(o,u,d){const p=o.value.clone(),g=C0(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof fr?(function(o,u,d){if(!kc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=C0(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(Eb(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Al(s,e,i,r){return s instanceof Bl?(function(u,d,p,g){if(!kc(u.precondition,d))return p;const _=u.value.clone(),E=D0(u.fieldTransforms,g,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof fr?(function(u,d,p,g){if(!kc(u.precondition,d))return p;const _=D0(u.fieldTransforms,g,d),E=d.data;return E.setAll(Eb(u)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(u,d,p){return kc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function SS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=yb(r.transform,o||null);u!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,u))}return i||null}function I0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,((u,d)=>ES(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Bl extends dh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fr extends dh{constructor(e,i,r,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Eb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function C0(s,e,i){const r=new Map;We(s.length===i.length);for(let o=0;o<i.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);r.set(u.field,TS(d,p,i[o]))}return r}function D0(s,e,i){const r=new Map;for(const o of s){const u=o.transform,d=i.data.field(o.field);r.set(o.field,bS(u,d,e))}return r}class Hm extends dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xS extends dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wS(u,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Al(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Al(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=pb();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(o.key)?null:p;const g=Tb(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,r)=>I0(i,r)))&&Za(this.baseMutations,e.baseMutations,((i,r)=>I0(i,r)))}}class Fm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){We(e.mutations.length===r.length);let o=(function(){return pS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Fm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function CS(s){switch(s){default:return Ee();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Ab(s){if(s===void 0)return ss("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ot.OK:return W.OK;case Ot.CANCELLED:return W.CANCELLED;case Ot.UNKNOWN:return W.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return W.INTERNAL;case Ot.UNAVAILABLE:return W.UNAVAILABLE;case Ot.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ot.NOT_FOUND:return W.NOT_FOUND;case Ot.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ot.ABORTED:return W.ABORTED;case Ot.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ot.DATA_LOSS:return W.DATA_LOSS;default:return Ee()}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Fr([4294967295,4294967295],0);function O0(s){const e=DS().encode(s),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function M0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([i,r],0),new Fr([o,u],0)]}class Gm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Fr.fromNumber(this.Ie)}Ee(e,i,r){let o=e.add(i.multiply(Fr.fromNumber(r)));return o.compare(OS)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=O0(e),[r,o]=M0(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(r,o,u);if(!this.de(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Gm(u,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.Ie===0)return;const i=O0(e),[r,o]=M0(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(r,o,u);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i,r,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new fh(we.min(),o,new gt(Ye),rs(),Le())}}class ql{constructor(e,i,r,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ql(r,i,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i,r,o){this.Re=e,this.removedTargetIds=i,this.key=r,this.Ve=o}}class wb{constructor(e,i){this.targetId=e,this.me=i}}class Sb{constructor(e,i,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class k0{constructor(){this.fe=0,this.ge=U0(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),i=Le(),r=Le();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ee()}})),new ql(this.pe,this.ye,e,i,r)}Ce(){this.we=!1,this.ge=U0()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MS{constructor(e){this.Le=e,this.Be=new Map,this.ke=rs(),this.qe=V0(),this.Qe=new gt(Ye)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const r=this.Ge(i);switch(e.state){case 0:this.ze(i)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),r.De(e.resumeToken));break;default:Ee()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((r,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,r=e.me.count,o=this.Je(i);if(o){const u=o.target;if(um(u))if(r===0){const d=new _e(u.path);this.Ue(i,d,ln.newNoDocument(d,we.min()))}else We(r===1);else{const d=this.Ye(i);if(d!==r){const p=this.Ze(e),g=p?this.Xe(p,e,d):1;if(g!==0){this.je(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,_)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let d,p;try{d=Yr(r).toUint8Array()}catch(g){if(g instanceof nb)return Ja("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gm(d,o,u)}catch(g){return Ja(g instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ie===0?null:p}Xe(e,i,r){return i.me.count===r-this.nt(e,i.targetId)?0:2}nt(e,i){const r=this.Le.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Ue(i,u,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((u,d)=>{const p=this.Je(d);if(p){if(u.current&&um(p.target)){const g=new _e(p.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,ln.newNoDocument(g,e))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let r=Le();this.qe.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(e)));const o=new fh(e,i,this.Qe,this.ke,r);return this.ke=rs(),this.qe=V0(),this.Qe=new gt(Ye),o}$e(e,i){if(!this.ze(e))return;const r=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,r),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),r&&(this.ke=this.ke.insert(i,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new k0,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new en(Ye),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k0),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function V0(){return new gt(_e.comparator)}function U0(){return new gt(_e.comparator)}const kS={asc:"ASCENDING",desc:"DESCENDING"},VS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},US={and:"AND",or:"OR"};class jS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dm(s,e){return s.useProto3Json||lh(e)?e:{value:e}}function $c(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function LS(s,e){return $c(s,e.toTimestamp())}function vi(s){return We(!!s),we.fromTimestamp((function(i){const r=cr(i);return new Ut(r.seconds,r.nanos)})(s))}function Qm(s,e){return fm(s,e).canonicalString()}function fm(s,e){const i=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Rb(s){const e=ht.fromString(s);return We(Ob(e)),e}function mm(s,e){return Qm(s.databaseId,e.path)}function Hf(s,e){const i=Rb(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(Ib(i))}function Nb(s,e){return Qm(s.databaseId,e)}function PS(s){const e=Rb(s);return e.length===4?ht.emptyPath():Ib(e)}function pm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ib(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function j0(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function zS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string"),tn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),tn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:Ab(_.code);return new ce(E,_.message||"")})(d);i=new Sb(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Hf(s,r.document.name),u=vi(r.document.updateTime),d=r.document.createTime?vi(r.document.createTime):we.min(),p=new Sn({mapValue:{fields:r.document.fields}}),g=ln.newFoundDocument(o,u,d,p),_=r.targetIds||[],E=r.removedTargetIds||[];i=new Vc(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Hf(s,r.document),u=r.readTime?vi(r.readTime):we.min(),d=ln.newNoDocument(o,u),p=r.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Hf(s,r.document),u=r.removedTargetIds||[];i=new Vc([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new IS(o,u),p=r.targetId;i=new wb(p,d)}}return i}function BS(s,e){let i;if(e instanceof Bl)i={update:j0(s,e.key,e.value)};else if(e instanceof Hm)i={delete:mm(s,e.key)};else if(e instanceof fr)i={update:j0(s,e.key,e.data),updateMask:$S(e.fieldMask)};else{if(!(e instanceof xS))return Ee();i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw Ee()})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()})(s,e.precondition)),i}function qS(s,e){return s&&s.length>0?(We(e!==void 0),s.map((i=>(function(o,u){let d=o.updateTime?vi(o.updateTime):vi(u);return d.isEqual(we.min())&&(d=vi(u)),new AS(d,o.transformResults||[])})(i,e)))):[]}function HS(s,e){return{documents:[Nb(s,e.path)]}}function FS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Nb(s,o);const u=(function(_){if(_.length!==0)return Db(ii.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((E=>(function(D){return{field:Fa(D.field),direction:KS(D.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:i,parent:o}}function GS(s){let e=PS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){We(r===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(x){const D=Cb(x);return D instanceof ii&&ab(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((D=>(function(K){return new Kc(Ga(K.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let D;return D=typeof x=="object"?x.value:x,lh(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(x){const D=!!x.before,q=x.values||[];return new Qc(q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const D=!x.before,q=x.values||[];return new Qc(q,D)})(i.endAt)),cS(e,o,d,u,p,"F",g,_)}function QS(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Cb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(i.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(i.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}})(s):s.fieldFilter!==void 0?(function(i){return Mt.create(Ga(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((r=>Cb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}})(i.compositeFilter.op))})(s):Ee()}function KS(s){return kS[s]}function YS(s){return VS[s]}function XS(s){return US[s]}function Fa(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Wt.fromServerFormat(s.fieldPath)}function Db(s){return s instanceof Mt?(function(i){if(i.op==="=="){if(A0(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(E0(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A0(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(E0(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:YS(i.op),value:i.value}}})(s):s instanceof ii?(function(i){const r=i.getFilters().map((o=>Db(o)));return r.length===1?r[0]:{compositeFilter:{op:XS(i.op),filters:r}}})(s):Ee()}function $S(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Ob(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,i,r,o,u=we.min(),d=we.min(),p=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.ct=e}}function ZS(s){const e=GS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.un=new ex}addToCollectionParentIndex(e,i){return this.un.add(i),te.resolve()}getCollectionParents(e,i){return te.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return te.resolve()}deleteFieldIndex(e,i){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,i){return te.resolve()}getDocumentsMatchingTarget(e,i){return te.resolve(null)}getIndexType(e,i){return te.resolve(0)}getFieldIndexes(e,i){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,i){return te.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,i){return te.resolve(ur.min())}updateCollectionGroup(e,i,r){return te.resolve()}updateIndexEntries(e,i){return te.resolve()}}class ex{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new en(ht.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new to(0)}static kn(){return new to(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.changes=new oo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?te.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Al(r.mutation,o,Un.empty(),Ut.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Le()){const o=Hr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((u=>{let d=yl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Hr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Le())))}populateOverlays(e,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let u=rs();const d=El(),p=(function(){return El()})();return i.forEach(((g,_)=>{const E=r.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof fr)?u=u.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Al(E.mutation,_,E.mutation.getFieldMask(),Ut.now())):d.set(_.key,Un.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>{var x;return p.set(_,new nx(E,(x=d.get(_))!==null&&x!==void 0?x:null))})),p)))}recalculateAndSaveOverlays(e,i){const r=El();let o=new gt(((d,p)=>d-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let E=r.get(g)||Un.empty();E=p.applyToLocalView(_,E),r.set(g,E);const x=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,E=g.value,x=pb();E.forEach((D=>{if(!u.has(D)){const q=Tb(i.get(D),r.get(D));q!==null&&x.set(D,q),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return te.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-u.size):te.resolve(Hr());let p=-1,g=u;return d.next((_=>te.forEach(_,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,Le()))).next((E=>({batchId:p,changes:mb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let o=yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const u=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(g=>{const _=(function(x,D){return new zl(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((E=>{E.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,o)))).next((d=>{u.forEach(((g,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,ln.newInvalidDocument(E)))}));let p=yl();return d.forEach(((g,_)=>{const E=u.get(g);E!==void 0&&Al(E.mutation,_,Un.empty(),Ut.now()),ch(i,_)&&(p=p.insert(g,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return te.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(i)),te.resolve()}getNamedQuery(e,i){return te.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:ZS(o.bundledQuery),readTime:vi(o.readTime)}})(i)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.overlays=new gt(_e.comparator),this.Ir=new Map}getOverlay(e,i){return te.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Hr();return te.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,u)=>{this.ht(e,i,u)})),te.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,i,r){const o=Hr(),u=i.length+1,d=new _e(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let u=new gt(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=Hr(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Hr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return te.resolve(p)}ht(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NS(i,r));let u=this.Ir.get(i);u===void 0&&(u=Le(),this.Ir.set(i,u)),this.Ir.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Tr=new en(qt.Er),this.dr=new en(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const r=new qt(e,i);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Vr(new qt(e,i))}mr(e,i){e.forEach((r=>this.removeReference(r,i)))}gr(e){const i=new _e(new ht([])),r=new qt(i,e),o=new qt(i,e+1),u=[];return this.dr.forEachInRange([r,o],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new _e(new ht([])),r=new qt(i,e),o=new qt(i,e+1);let u=Le();return this.dr.forEachInRange([r,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new qt(e,0),r=this.Tr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return _e.comparator(e.key,i.key)||Ye(e.wr,i.wr)}static Ar(e,i){return Ye(e.wr,i.wr)||_e.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new en(qt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RS(u,i,r,o);this.mutationQueue.push(d);for(const p of o)this.br=this.br.add(new qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,i){return te.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.vr(r),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([r,o],(d=>{const p=this.Dr(d.wr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new en(Ye);return i.forEach((o=>{const u=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(p=>{r=r.add(p.wr)}))})),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const d=new qt(new _e(u),0);let p=new en(Ye);return this.br.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.wr)),!0)}),d),te.resolve(this.Cr(p))}Cr(e){const i=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){We(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(i.mutations,(o=>{const u=new qt(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,i){const r=new qt(i,0),o=this.br.firstAfterOrEqual(r);return te.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.Mr=e,this.docs=(function(){return new gt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let r=rs();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let u=rs();const d=i.path,p=new _e(d.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Gw(Fw(E),r)<=0||(o.has(E.key)||ch(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,i,r,o){Ee()}Or(e,i){return te.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new ux(this)}getSize(e){return te.resolve(this.size)}}class ux extends tx{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),te.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.persistence=e,this.Nr=new oo((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Km,this.targetCount=0,this.kr=to.Bn()}forEachTarget(e,i){return this.Nr.forEach(((r,o)=>i(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Lr&&(this.Lr=i),te.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new to(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,te.resolve()}updateTargetData(e,i){return this.Kn(i),te.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,i,r){let o=0;const u=[];return this.Nr.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,i){const r=this.Nr.get(i)||null;return te.resolve(r)}addMatchingKeys(e,i,r){return this.Br.Rr(i,r),te.resolve()}removeMatchingKeys(e,i,r){this.Br.mr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),te.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Br.yr(i);return te.resolve(r)}containsKey(e,i){return te.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Vm(0),this.Kr=!1,this.Kr=!0,this.$r=new ax,this.referenceDelegate=e(this),this.Ur=new cx(this),this.indexManager=new WS,this.remoteDocumentCache=(function(o){return new lx(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new JS(i),this.Gr=new sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new rx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.qr[e.toKey()];return r||(r=new ox(i,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const o=new dx(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,i){return te.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,i))))}}class dx extends Kw{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Jr=new Km,this.Yr=null}static Zr(e){return new Ym(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,i,r){return this.Jr.addReference(r,i),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,i,r){return this.Jr.removeReference(r,i),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),te.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(r=>{const o=_e.fromPath(r);return this.ei(e,o).next((u=>{u||i.removeEntry(o,we.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((r=>{r?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return te.or([()=>te.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.$i=r,this.Ui=o}static Wi(e,i){let r=Le(),o=Le();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return y1()?8:Yw(un())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,r,o){const u={result:null};return this.Yi(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(e,i,o,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new fx;return this.Xi(e,i,d).next((p=>{if(u.result=p,this.zi)return this.es(e,i,d,p.size)}))})).next((()=>u.result))}es(e,i,r,o){return r.documentReadCount<this.ji?(ml()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(ml()<=ze.DEBUG&&de("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(ml()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):te.resolve())}Yi(e,i){if(R0(i))return te.resolve(null);let r=_i(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),r=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Le(...u);return this.Ji.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.ts(i,p);return this.ns(i,_,d,g.readTime)?this.Yi(e,hm(i,null,"F")):this.rs(e,_,i,g)}))))})))))}Zi(e,i,r,o){return R0(i)||o.isEqual(we.min())?te.resolve(null):this.Ji.getDocuments(e,r).next((u=>{const d=this.ts(i,u);return this.ns(i,d,r,o)?te.resolve(null):(ml()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(i)),this.rs(e,d,i,Hw(o,-1)).next((p=>p)))}))}ts(e,i){let r=new en(db(e));return i.forEach(((o,u)=>{ch(e,u)&&(r=r.add(u))})),r}ns(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,i,r){return ml()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.Ji.getDocumentsMatchingQuery(e,i,ur.min(),r)}rs(e,i,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,i,r,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new gt(Ye),this._s=new oo((u=>Pm(u)),zm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ix(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function gx(s,e,i,r){return new px(s,e,i,r)}async function Mb(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.ls(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Le();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(r,g).next((_=>({hs:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function yx(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,E){const x=_.batch,D=x.keys();let q=te.resolve();return D.forEach((K=>{q=q.next((()=>E.getEntry(g,K))).next((ne=>{const $=_.docVersions.get(K);We($!==null),ne.version.compareTo($)<0&&(x.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),E.addEntry(ne)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Le();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function kb(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function _x(s,e){const i=Se(s),r=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const p=[];e.targetChanges.forEach(((E,x)=>{const D=o.get(x);if(!D)return;p.push(i.Ur.removeMatchingKeys(u,E.removedDocuments,x).next((()=>i.Ur.addMatchingKeys(u,E.addedDocuments,x))));let q=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?q=q.withResumeToken(tn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),o=o.insert(x,q),(function(ne,$,ee){return ne.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(D,q,E)&&p.push(i.Ur.updateTargetData(u,q))}));let g=rs(),_=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(vx(u,d,e.documentUpdates).next((E=>{g=E.Ps,_=E.Is}))),!r.isEqual(we.min())){const E=i.Ur.getLastRemoteSnapshotVersion(u).next((x=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return te.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(i.os=o,u)))}function vx(s,e,i){let r=Le(),o=Le();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=rs();return i.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de("LocalStore","Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{Ps:d,Is:o}}))}function bx(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Tx(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Ur.getTargetData(r,e).next((u=>u?(o=u,te.resolve(o)):i.Ur.allocateTargetId(r).next((d=>(o=new nr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(r.targetId,r),i._s.set(e,r.targetId)),r}))}async function gm(s,e,i){const r=Se(s),o=r.os.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Pl(d))throw d;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function L0(s,e,i){const r=Se(s);let o=we.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,E){const x=Se(g),D=x._s.get(E);return D!==void 0?te.resolve(x.os.get(D)):x.Ur.getTargetData(_,E)})(r,d,_i(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.ss.getDocumentsMatchingQuery(d,e,i?o:we.min(),i?u:Le()))).next((p=>(Ex(r,dS(e),p),{documents:p,Ts:u})))))}function Ex(s,e,i){let r=s.us.get(e)||we.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.us.set(e,r)}class P0{constructor(){this.activeTargetIds=_S()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ax{constructor(){this.so=new P0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,r){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new P0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Ff(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class Rx extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const r=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+i.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(i,r,o,u,d){const p=Ff(),g=this.xo(i,r.toUriEncodedString());de("RestConnection",`Sending RPC '${i}' ${p}:`,g,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,d),this.No(i,g,_,o).then((E=>(de("RestConnection",`Received RPC '${i}' ${p}: `,E),E)),(E=>{throw Ja("RestConnection",`RPC '${i}' ${p} failed with error: `,E,"url: ",g,"request:",o),E}))}Lo(i,r,o,u,d,p){return this.Mo(i,r,o,u,d)}Oo(i,r,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((u,d)=>i[d]=u)),o&&o.headers.forEach(((u,d)=>i[d]=u))}xo(i,r){const o=Sx[i];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,r,o){const u=Ff();return new Promise(((d,p)=>{const g=new Yv;g.setWithCredentials(!0),g.listenOnce(Xv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Oc.NO_ERROR:const E=g.getResponseJson();de(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Oc.TIMEOUT:de(an,`RPC '${e}' ${u} timed out`),p(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const x=g.getStatus();if(de(an,`RPC '${e}' ${u} failed with status:`,x,"response text:",g.getResponseText()),x>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const q=D==null?void 0:D.error;if(q&&q.status&&q.message){const K=(function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ee)>=0?ee:W.UNKNOWN})(q.status);p(new ce(K,q.message))}else p(new ce(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{de(an,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);de(an,`RPC '${e}' ${u} sending request:`,o),g.send(i,"POST",_,r,15)}))}Bo(e,i,r){const o=Ff(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zv(),p=Jv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const E=u.join("");de(an,`Creating RPC '${e}' stream ${o}: ${E}`,g);const x=d.createWebChannel(E,g);let D=!1,q=!1;const K=new xx({Io:$=>{q?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(D||(de(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),D=!0),de(an,`RPC '${e}' stream ${o} sending:`,$),x.send($))},To:()=>x.close()}),ne=($,ee,le)=>{$.listen(ee,(se=>{try{le(se)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return ne(x,gl.EventType.OPEN,(()=>{q||(de(an,`RPC '${e}' stream ${o} transport opened.`),K.yo())})),ne(x,gl.EventType.CLOSE,(()=>{q||(q=!0,de(an,`RPC '${e}' stream ${o} transport closed`),K.So())})),ne(x,gl.EventType.ERROR,($=>{q||(q=!0,Ja(an,`RPC '${e}' stream ${o} transport errored:`,$),K.So(new ce(W.UNAVAILABLE,"The operation could not be completed")))})),ne(x,gl.EventType.MESSAGE,($=>{var ee;if(!q){const le=$.data[0];We(!!le);const se=le,Z=se.error||((ee=se[0])===null||ee===void 0?void 0:ee.error);if(Z){de(an,`RPC '${e}' stream ${o} received error:`,Z);const be=Z.status;let z=(function(R){const I=Ot[R];if(I!==void 0)return Ab(I)})(be),S=Z.message;z===void 0&&(z=W.INTERNAL,S="Unknown error status: "+be+" with message "+Z.message),q=!0,K.So(new ce(z,S)),x.close()}else de(an,`RPC '${e}' stream ${o} received:`,le),K.bo(le)}})),ne(p,$v.STAT_EVENT,($=>{$.stat===rm.PROXY?de(an,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===rm.NOPROXY&&de(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.wo()}),0),K}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(s){return new jS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i,r=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=i,this.ko=r,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i,r,o,u,d,p,g){this.ui=e,this.Ho=r,this.Jo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vb(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===i&&this.P_(r,o)}),(r=>{e((()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,i){const r=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nx extends Ub{constructor(e,i,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=zS(this.serializer,e),r=(function(u){if(!("targetChange"in u))return we.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?vi(d.readTime):we.min()})(e);return this.listener.d_(i,r)}A_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=um(g)?{documents:HS(u,g)}:{query:FS(u,g)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=xb(u,d.resumeToken);const _=dm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=$c(u,d.snapshotVersion.toTimestamp());const _=dm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=QS(this.serializer,e);r&&(i.labels=r),this.a_(i)}R_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.a_(i)}}class Ix extends Ub{constructor(e,i,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=qS(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.g_(r,i)}p_(){const e={};e.database=pm(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>BS(this.serializer,r)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends class{}{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(e,fm(i,r),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())}))}Lo(e,i,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Lo(e,fm(i,r),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(W.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Dx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ss(i),this.D_=!1):de("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,i,r,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{r.enqueueAndForget((async()=>{ea(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const _=Se(g);_.L_.add(4),await Hl(_),_.q_.set("Unknown"),_.L_.delete(4),await ph(_)})(this))}))})),this.q_=new Dx(r,o)}}async function ph(s){if(ea(s))for(const e of s.B_)await e(!0)}async function Hl(s){for(const e of s.B_)await e(!1)}function jb(s,e){const i=Se(s);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Wm(i)?Zm(i):lo(i).r_()&&Jm(i,e))}function $m(s,e){const i=Se(s),r=lo(i);i.N_.delete(e),r.r_()&&Lb(i,e),i.N_.size===0&&(r.r_()?r.o_():ea(i)&&i.q_.set("Unknown"))}function Jm(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}lo(s).A_(e)}function Lb(s,e){s.Q_.xe(e),lo(s).R_(e)}function Zm(s){s.Q_=new MS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.q_.v_()}function Wm(s){return ea(s)&&!lo(s).n_()&&s.N_.size>0}function ea(s){return Se(s).L_.size===0}function Pb(s){s.Q_=void 0}async function Mx(s){s.q_.set("Online")}async function kx(s){s.N_.forEach(((e,i)=>{Jm(s,e)}))}async function Vx(s,e){Pb(s),Wm(s)?(s.q_.M_(e),Zm(s)):s.q_.set("Unknown")}async function Ux(s,e,i){if(s.q_.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.N_.delete(p),o.Q_.removeTarget(p))})(s,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jc(s,r)}else if(e instanceof Vc?s.Q_.Ke(e):e instanceof wb?s.Q_.He(e):s.Q_.We(e),!i.isEqual(we.min()))try{const r=await kb(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Q_.rt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.N_.get(_);E&&u.N_.set(_,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const E=u.N_.get(g);if(!E)return;u.N_.set(g,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Lb(u,g);const x=new nr(E.target,g,_,E.sequenceNumber);Jm(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Jc(s,r)}}async function Jc(s,e,i){if(!Pl(e))throw e;s.L_.add(1),await Hl(s),s.q_.set("Offline"),i||(i=()=>kb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await ph(s)}))}function zb(s,e){return e().catch((i=>Jc(s,i,e)))}async function gh(s){const e=Se(s),i=hr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jx(e);)try{const o=await bx(e.localStore,r);if(o===null){e.O_.length===0&&i.o_();break}r=o.batchId,Lx(e,o)}catch(o){await Jc(e,o)}Bb(e)&&qb(e)}function jx(s){return ea(s)&&s.O_.length<10}function Lx(s,e){s.O_.push(e);const i=hr(s);i.r_()&&i.V_&&i.m_(e.mutations)}function Bb(s){return ea(s)&&!hr(s).n_()&&s.O_.length>0}function qb(s){hr(s).start()}async function Px(s){hr(s).p_()}async function zx(s){const e=hr(s);for(const i of s.O_)e.m_(i.mutations)}async function Bx(s,e,i){const r=s.O_.shift(),o=Fm.from(r,e,i);await zb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await gh(s)}async function qx(s,e){e&&hr(s).V_&&await(async function(r,o){if((function(d){return CS(d)&&d!==W.ABORTED})(o.code)){const u=r.O_.shift();hr(r).s_(),await zb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gh(r)}})(s,e),Bb(s)&&qb(s)}async function B0(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=ea(i);i.L_.add(3),await Hl(i),r&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await ph(i)}async function Hx(s,e){const i=Se(s);e?(i.L_.delete(2),await ph(i)):e||(i.L_.add(2),await Hl(i),i.q_.set("Unknown"))}function lo(s){return s.K_||(s.K_=(function(i,r,o){const u=Se(i);return u.w_(),new Nx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:Mx.bind(null,s),Ro:kx.bind(null,s),mo:Vx.bind(null,s),d_:Ux.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Wm(s)?Zm(s):s.q_.set("Unknown")):(await s.K_.stop(),Pb(s))}))),s.K_}function hr(s){return s.U_||(s.U_=(function(i,r,o){const u=Se(i);return u.w_(),new Ix(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Px.bind(null,s),mo:qx.bind(null,s),f_:zx.bind(null,s),g_:Bx.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await gh(s)):(await s.U_.stop(),s.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,i,r,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,u){const d=Date.now()+r,p=new ep(e,i,d,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(s,e){if(ss("AsyncQueue",`${e}: ${s}`),Pl(s))return new ce(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=yl(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.W_=new gt(_e.comparator)}track(e){const i=e.doc.key,r=this.W_.get(i);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(i,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(i):e.type===1&&r.type===2?this.W_=this.W_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,r)=>{e.push(r)})),e}}class no{constructor(e,i,r,o,u,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(e,i,Ka.emptySet(i),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Gx{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,r){const o=Se(i),u=o.queries;o.queries=H0(),u.forEach(((d,p)=>{for(const g of p.j_)g.onError(r)}))})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function H0(){return new oo((s=>hb(s)),uh)}async function Hb(s,e){const i=Se(s);let r=3;const o=e.query;let u=i.queries.get(o);u?!u.H_()&&e.J_()&&(r=2):(u=new Fx,r=e.J_()?0:1);try{switch(r){case 0:u.z_=await i.onListen(o,!0);break;case 1:u.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=tp(d,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,u),u.j_.push(e),e.Z_(i.onlineState),u.z_&&e.X_(u.z_)&&np(i)}async function Fb(s,e){const i=Se(s),r=e.query;let o=3;const u=i.queries.get(r);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Qx(s,e){const i=Se(s);let r=!1;for(const o of e){const u=o.query,d=i.queries.get(u);if(d){for(const p of d.j_)p.X_(o)&&(r=!0);d.z_=o}}r&&np(i)}function Kx(s,e,i){const r=Se(s),o=r.queries.get(e);if(o)for(const u of o.j_)u.onError(i);r.queries.delete(e)}function np(s){s.Y_.forEach((e=>{e.next()}))}var ym,F0;(F0=ym||(ym={})).ea="default",F0.Cache="cache";class Gb{constructor(e,i,r){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const r=i!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.key=e}}class Kb{constructor(e){this.key=e}}class Yx{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=db(e),this.Ra=new Ka(this.Aa)}get Va(){return this.Ta}ma(e,i){const r=i?i.fa:new q0,o=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const D=o.get(E),q=ch(this.query,x)?x:null,K=!!D&&this.mutatedKeys.has(D.key),ne=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;D&&q?D.data.isEqual(q.data)?K!==ne&&(r.track({type:3,doc:q}),$=!0):this.ga(D,q)||(r.track({type:2,doc:q}),$=!0,(g&&this.Aa(q,g)>0||_&&this.Aa(q,_)<0)&&(p=!0)):!D&&q?(r.track({type:0,doc:q}),$=!0):D&&!q&&(r.track({type:1,doc:D}),$=!0,(g||_)&&(p=!0)),$&&(q?(d=d.add(q),u=ne?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Ra:d,fa:r,ns:p,mutatedKeys:u}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((E,x)=>(function(q,K){const ne=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return ne(q)-ne(K)})(E.type,x.type)||this.Aa(E.doc,x.doc))),this.pa(r),o=o!=null&&o;const p=i&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,_=g!==this.Ea;return this.Ea=g,d.length!==0||_?{snapshot:new no(this.query,e.Ra,u,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new q0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const i=[];return e.forEach((r=>{this.da.has(r)||i.push(new Kb(r))})),this.da.forEach((r=>{e.has(r)||i.push(new Qb(r))})),i}ba(e){this.Ta=e.Ts,this.da=Le();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return no.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Xx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class $x{constructor(e){this.key=e,this.va=!1}}class Jx{constructor(e,i,r,o,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new oo((p=>hb(p)),uh),this.Ma=new Map,this.xa=new Set,this.Oa=new gt(_e.comparator),this.Na=new Map,this.La=new Km,this.Ba={},this.ka=new Map,this.qa=to.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Zx(s,e,i=!0){const r=Wb(s);let o;const u=r.Fa.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await Yb(r,e,i,!0),o}async function Wx(s,e){const i=Wb(s);await Yb(i,e,!0,!1)}async function Yb(s,e,i,r){const o=await Tx(s.localStore,_i(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await e2(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&jb(s.remoteStore,o),p}async function e2(s,e,i,r,o){s.Ka=(x,D,q)=>(async function(ne,$,ee,le){let se=$.view.ma(ee);se.ns&&(se=await L0(ne.localStore,$.query,!1).then((({documents:S})=>$.view.ma(S,se))));const Z=le&&le.targetChanges.get($.targetId),be=le&&le.targetMismatches.get($.targetId)!=null,z=$.view.applyChanges(se,ne.isPrimaryClient,Z,be);return Q0(ne,$.targetId,z.wa),z.snapshot})(s,x,D,q);const u=await L0(s.localStore,e,!0),d=new Yx(e,u.Ts),p=d.ma(u.documents),g=ql.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,g);Q0(s,i,_.wa);const E=new Xx(e,i,d);return s.Fa.set(e,E),s.Ma.has(i)?s.Ma.get(i).push(e):s.Ma.set(i,[e]),_.snapshot}async function t2(s,e,i){const r=Se(s),o=r.Fa.get(e),u=r.Ma.get(o.targetId);if(u.length>1)return r.Ma.set(o.targetId,u.filter((d=>!uh(d,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&$m(r.remoteStore,o.targetId),_m(r,o.targetId)})).catch(Ll)):(_m(r,o.targetId),await gm(r.localStore,o.targetId,!0))}async function n2(s,e){const i=Se(s),r=i.Fa.get(e),o=i.Ma.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),$m(i.remoteStore,r.targetId))}async function i2(s,e,i){const r=c2(s);try{const o=await(function(d,p){const g=Se(d),_=Ut.now(),E=p.reduce(((q,K)=>q.add(K.key)),Le());let x,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let K=rs(),ne=Le();return g.cs.getEntries(q,E).next(($=>{K=$,K.forEach(((ee,le)=>{le.isValidDocument()||(ne=ne.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,K))).next(($=>{x=$;const ee=[];for(const le of p){const se=SS(le,x.get(le.key).overlayedDocument);se!=null&&ee.push(new fr(le.key,se,ib(se.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(q,_,ee,p)})).next(($=>{D=$;const ee=$.applyToLocalDocumentSet(x,ne);return g.documentOverlayCache.saveOverlays(q,$.batchId,ee)}))})).then((()=>({batchId:D.batchId,changes:mb(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let _=d.Ba[d.currentUser.toKey()];_||(_=new gt(Ye)),_=_.insert(p,g),d.Ba[d.currentUser.toKey()]=_})(r,o.batchId,i),await Fl(r,o.changes),await gh(r.remoteStore)}catch(o){const u=tp(o,"Failed to persist write");i.reject(u)}}async function Xb(s,e){const i=Se(s);try{const r=await _x(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=i.Na.get(u);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?We(d.va):o.removedDocuments.size>0&&(We(d.va),d.va=!1))})),await Fl(i,r,e)}catch(r){await Ll(r)}}function G0(s,e,i){const r=Se(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Fa.forEach(((u,d)=>{const p=d.view.Z_(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Se(d);g.onlineState=p;let _=!1;g.queries.forEach(((E,x)=>{for(const D of x.j_)D.Z_(p)&&(_=!0)})),_&&np(g)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s2(s,e,i){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Na.get(e),u=o&&o.key;if(u){let d=new gt(_e.comparator);d=d.insert(u,ln.newNoDocument(u,we.min()));const p=Le().add(u),g=new fh(we.min(),new Map,new gt(Ye),d,p);await Xb(r,g),r.Oa=r.Oa.remove(u),r.Na.delete(e),ip(r)}else await gm(r.localStore,e,!1).then((()=>_m(r,e,i))).catch(Ll)}async function r2(s,e){const i=Se(s),r=e.batch.batchId;try{const o=await yx(i.localStore,e);Jb(i,r,null),$b(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(i,o)}catch(o){await Ll(o)}}async function a2(s,e,i){const r=Se(s);try{const o=await(function(d,p){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,p).next((x=>(We(x!==null),E=x.keys(),g.mutationQueue.removeMutationBatch(_,x)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(r.localStore,e);Jb(r,e,i),$b(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Fl(r,o)}catch(o){await Ll(o)}}function $b(s,e){(s.ka.get(e)||[]).forEach((i=>{i.resolve()})),s.ka.delete(e)}function Jb(s,e,i){const r=Se(s);let o=r.Ba[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function _m(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Ma.get(e))s.Fa.delete(r),i&&s.Ca.$a(r,i);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((r=>{s.La.containsKey(r)||Zb(s,r)}))}function Zb(s,e){s.xa.delete(e.path.canonicalString());const i=s.Oa.get(e);i!==null&&($m(s.remoteStore,i),s.Oa=s.Oa.remove(e),s.Na.delete(i),ip(s))}function Q0(s,e,i){for(const r of i)r instanceof Qb?(s.La.addReference(r.key,e),o2(s,r)):r instanceof Kb?(de("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,e),s.La.containsKey(r.key)||Zb(s,r.key)):Ee()}function o2(s,e){const i=e.key,r=i.path.canonicalString();s.Oa.get(i)||s.xa.has(r)||(de("SyncEngine","New document in limbo: "+i),s.xa.add(r),ip(s))}function ip(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const i=new _e(ht.fromString(e)),r=s.qa.next();s.Na.set(r,new $x(i)),s.Oa=s.Oa.insert(i,r),jb(s.remoteStore,new nr(_i(Bm(i.path)),r,"TargetPurposeLimboResolution",Vm.oe))}}async function Fl(s,e,i){const r=Se(s),o=[],u=[],d=[];r.Fa.isEmpty()||(r.Fa.forEach(((p,g)=>{d.push(r.Ka(g,e,i).then((_=>{var E;if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Xm.Wi(g.targetId,_);u.push(x)}})))})),await Promise.all(d),r.Ca.d_(o),await(async function(g,_){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(_,(D=>te.forEach(D.$i,(q=>E.persistence.referenceDelegate.addReference(x,D.targetId,q))).next((()=>te.forEach(D.Ui,(q=>E.persistence.referenceDelegate.removeReference(x,D.targetId,q)))))))))}catch(x){if(!Pl(x))throw x;de("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const q=E.os.get(D),K=q.snapshotVersion,ne=q.withLastLimboFreeSnapshotVersion(K);E.os=E.os.insert(D,ne)}}})(r.localStore,u))}async function l2(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await Mb(i.localStore,e);i.currentUser=e,(function(u,d){u.ka.forEach((p=>{p.forEach((g=>{g.reject(new ce(W.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(i,r.hs)}}function u2(s,e){const i=Se(s),r=i.Na.get(e);if(r&&r.va)return Le().add(r.key);{let o=Le();const u=i.Ma.get(e);if(!u)return o;for(const d of u){const p=i.Fa.get(d);o=o.unionWith(p.view.Va)}return o}}function Wb(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s2.bind(null,e),e.Ca.d_=Qx.bind(null,e.eventManager),e.Ca.$a=Kx.bind(null,e.eventManager),e}function c2(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return gx(this.persistence,new mx,e.initialUser,this.serializer)}Ga(e){return new hx(Ym.Zr,this.serializer)}Wa(e){return new Ax}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await Hx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Gx})()}createDatastore(e){const i=mh(e.databaseInfo.databaseId),r=(function(u){return new Rx(u)})(e.databaseInfo);return(function(u,d,p,g){return new Cx(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,u,d,p){return new Ox(r,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>G0(this.syncEngine,i,0)),(function(){return z0.D()?new z0:new wx})())}createSyncEngine(e,i){return(function(o,u,d,p,g,_,E){const x=new Jx(o,u,d,p,g,_);return E&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const u=Se(o);de("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Hl(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,i,r,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{de("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=tp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qf(s,e){s.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Mb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function K0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await d2(s);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>B0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>B0(e.remoteStore,o))),s._onlineComponents=e}async function d2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Qf(s,new Zc)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Qf(s,new Zc);return s._offlineComponents}async function tT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await K0(s,s._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await K0(s,new vm))),s._onlineComponents}function f2(s){return tT(s).then((e=>e.syncEngine))}async function bm(s){const e=await tT(s),i=e.eventManager;return i.onListen=Zx.bind(null,e.syncEngine),i.onUnlisten=t2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Wx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),i}function m2(s,e,i={}){const r=new rr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,_){const E=new eT({next:D=>{E.Za(),d.enqueueAndForget((()=>Fb(u,x))),D.fromCache&&g.source==="server"?_.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),x=new Gb(p,E,{includeMetadataChanges:!0,_a:!0});return Hb(u,x)})(await bm(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(s,e,i){if(!i)throw new ce(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function p2(s,e,i,r){if(e===!0&&r===!0)throw new ce(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function X0(s){if(!_e.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $0(s){if(_e.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee()}function ns(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(s);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kw;switch(r.type){case"firstParty":return new Lw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Y0.get(i);r&&(de("ComponentProvider","Removing Datastore"),Y0.delete(i),r.terminate())})(this),Promise.resolve()}}function g2(s,e,i,r={}){var o;const u=(s=ns(s,_h))._getSettings(),d=`${e}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),r.mockUserToken){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=on.MOCK_USER;else{p=Bv(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new on(_)}s._authCredentials=new Vw(new Wv(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class xn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class ar extends ta{constructor(e,i,r){super(e,i,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new _e(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Rc(s,e,...i){if(s=pt(s),iT("collection","path",e),s instanceof _h){const r=ht.fromString(e,...i);return $0(r),new ar(s,null,r)}{if(!(s instanceof xn||s instanceof ar))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return $0(r),new ar(s.firestore,null,r)}}function $i(s,e,...i){if(s=pt(s),arguments.length===1&&(e=eb.newId()),iT("doc","path",e),s instanceof _h){const r=ht.fromString(e,...i);return X0(r),new xn(s,null,new _e(r))}{if(!(s instanceof xn||s instanceof ar))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return X0(r),new xn(s.firestore,s instanceof ar?s.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vb(this,"async_queue_retry"),this.Vu=()=>{const r=Gf();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new rr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pl(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p})(r);throw ss("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=i,i}enqueueAfterDelay(e,i,r){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=ep.createAndSchedule(this,e,i,r,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function W0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class io extends _h{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function y2(s,e){const i=typeof s=="object"?s:Mm(),r=typeof s=="string"?s:"(default)",o=oh(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Lv("firestore");u&&g2(o,...u)}return o}function vh(s){if(s._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_2(s),s._firestoreClient}function _2(s){var e,i,r;const o=s._freezeSettings(),u=(function(p,g,_,E){return new Jw(p,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,nT(E.experimentalLongPollingOptions),E.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new h2(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(tn.fromBase64String(e))}catch(i){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new so(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^__.*__$/;class b2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Bl(e,this.data,i,this.fieldTransforms)}}class sT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new fr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class op{constructor(e,i,r,o,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rT(this.Cu)&&v2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class T2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||mh(e)}Qu(e,i,r,o=!1){return new op({Cu:e,methodName:i,qu:r,path:Wt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lp(s){const e=s._freezeSettings(),i=mh(s._databaseId);return new T2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function aT(s,e,i,r,o,u={}){const d=s.Qu(u.merge||u.mergeFields?2:0,e,i,o);up("Data must be an object, but it was:",d,r);const p=oT(r,d);let g,_;if(u.merge)g=new Un(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const x of u.mergeFields){const D=Tm(e,x,i);if(!d.contains(D))throw new ce(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);uT(E,D)||E.push(D)}g=new Un(E),_=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,_=d.fieldTransforms;return new b2(new Sn(p),g,_)}class Th extends sp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function E2(s,e,i,r){const o=s.Qu(1,e,i);up("Data must be an object, but it was:",o,r);const u=[],d=Sn.empty();Wr(r,((g,_)=>{const E=cp(e,g,i);_=pt(_);const x=o.Nu(E);if(_ instanceof Th)u.push(E);else{const D=Gl(_,x);D!=null&&(u.push(E),d.set(E,D))}}));const p=new Un(u);return new sT(d,p,o.fieldTransforms)}function A2(s,e,i,r,o,u){const d=s.Qu(1,e,i),p=[Tm(e,r,i)],g=[o];if(u.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(Tm(e,u[D])),g.push(u[D+1]);const _=[],E=Sn.empty();for(let D=p.length-1;D>=0;--D)if(!uT(_,p[D])){const q=p[D];let K=g[D];K=pt(K);const ne=d.Nu(q);if(K instanceof Th)_.push(q);else{const $=Gl(K,ne);$!=null&&(_.push(q),E.set(q,$))}}const x=new Un(_);return new sT(E,x,d.fieldTransforms)}function w2(s,e,i,r=!1){return Gl(i,s.Qu(r?4:3,e))}function Gl(s,e){if(lT(s=pt(s)))return up("Unsupported field value:",e,s),oT(s,e);if(s instanceof sp)return(function(r,o){if(!rT(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const u=[];let d=0;for(const p of r){let g=Gl(p,o.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ut.fromDate(r);return{timestampValue:$c(o.serializer,u)}}if(r instanceof Ut){const u=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(r instanceof rp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:xb(o.serializer,r._byteString)};if(r instanceof xn){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ap)return(function(d,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Bu("VectorValues must only contain numeric values.");return qm(p.serializer,g)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${yh(r)}`)})(s,e)}function oT(s,e){const i={};return tb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(s,((r,o)=>{const u=Gl(o,e.Mu(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function lT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ut||s instanceof rp||s instanceof so||s instanceof xn||s instanceof sp||s instanceof ap)}function up(s,e,i){if(!lT(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const r=yh(i);throw r==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+r)}}function Tm(s,e,i){if((e=pt(e))instanceof bh)return e._internalPath;if(typeof e=="string")return cp(s,e);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const S2=new RegExp("[~\\*/\\[\\]]");function cp(s,e,i){if(e.search(S2)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bh(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,e,i,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ce(W.INVALID_ARGUMENT,p+s+g)}function uT(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,i,r,o,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class x2 extends cT{data(){return super.data()}}function hp(s,e){return typeof e=="string"?cp(s,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class R2 extends dp{}function N2(s,e,...i){let r=[];e instanceof dp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof fp)).length,p=u.filter((g=>g instanceof Eh)).length;if(d>1||d>0&&p>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Eh extends R2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Eh(e,i,r)}_apply(e){const i=this._parse(e);return dT(e._query,i),new ta(e.firestore,e.converter,cm(e._query,i))}_parse(e){const i=lp(e.firestore);return(function(u,d,p,g,_,E,x){let D;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tv(x,E);const q=[];for(const K of x)q.push(ev(g,u,K));D={arrayValue:{values:q}}}else D=ev(g,u,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tv(x,E),D=w2(p,d,x,E==="in"||E==="not-in");return Mt.create(_,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function I2(s,e,i){const r=e,o=hp("where",s);return Eh._create(o,r,i)}class fp extends dp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)dT(d,g),d=cm(d,g)})(e._query,i),new ta(e.firestore,e.converter,cm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ev(s,e,i){if(typeof(i=pt(i))=="string"){if(i==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&i.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ht.fromString(i));if(!_e.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T0(s,new _e(r))}if(i instanceof xn)return T0(s,i._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function tv(s,e){if(!Array.isArray(s)||s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dT(s,e){const i=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class C2{convertValue(e,i="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Wr(e,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(e){var i,r,o;const u=(o=(r=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((d=>xt(d.doubleValue)));return new ap(u)}convertGeoPoint(e){return new rp(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=jm(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const i=cr(e);return new Ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ht.fromString(e);We(Ob(r));const o=new Il(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return o.isEqual(i)||ss(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mT extends cT{constructor(e,i,r,o,u,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class Uc extends mT{data(e={}){return super.data(e)}}class pT{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Uc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Uc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:D2(p.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function D2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class mp extends C2{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function O2(s){s=ns(s,ta);const e=ns(s.firestore,io),i=vh(e),r=new mp(e);return hT(s._query),m2(i,s._query).then((o=>new pT(e,r,s,o)))}function Nc(s,e,i){s=ns(s,xn);const r=ns(s.firestore,io),o=fT(s.converter,e,i);return gT(r,[aT(lp(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,$n.none())])}function Kf(s,...e){var i,r,o;s=pt(s);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||W0(e[d])||(u=e[d],d++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(W0(e[d])){const x=e[d];e[d]=(i=x.next)===null||i===void 0?void 0:i.bind(x),e[d+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[d+2]=(o=x.complete)===null||o===void 0?void 0:o.bind(x)}let g,_,E;if(s instanceof xn)_=ns(s.firestore,io),E=Bm(s._key.path),g={next:x=>{e[d]&&e[d](M2(_,s,x))},error:e[d+1],complete:e[d+2]};else{const x=ns(s,ta);_=ns(x.firestore,io),E=x._query;const D=new mp(_);g={next:q=>{e[d]&&e[d](new pT(_,D,x,q))},error:e[d+1],complete:e[d+2]},hT(s._query)}return(function(D,q,K,ne){const $=new eT(ne),ee=new Gb(q,$,K);return D.asyncQueue.enqueueAndForget((async()=>Hb(await bm(D),ee))),()=>{$.Za(),D.asyncQueue.enqueueAndForget((async()=>Fb(await bm(D),ee)))}})(vh(_),E,p,g)}function gT(s,e){return(function(r,o){const u=new rr;return r.asyncQueue.enqueueAndForget((async()=>i2(await f2(r),o,u))),u.promise})(vh(s),e)}function M2(s,e,i){const r=i.docs.get(e._key),o=new mp(s);return new mT(s,o,e._key,r,new vl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=lp(e)}set(e,i,r){this._verifyNotCommitted();const o=Yf(e,this._firestore),u=fT(o.converter,i,r),d=aT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,$n.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const u=Yf(e,this._firestore);let d;return d=typeof(i=pt(i))=="string"||i instanceof bh?A2(this._dataReader,"WriteBatch.update",u._key,i,r,o):E2(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Yf(e,this._firestore);return this._mutations=this._mutations.concat(new Hm(i._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yf(s,e){if((s=pt(s)).firestore!==e)throw new ce(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){return vh(s=ns(s,io)),new k2(s,(e=>gT(s,e)))}(function(e,i=!0){(function(o){ao=o})(Zr),Qr(new lr("firestore",((r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new io(new Uw(r.getProvider("auth-internal")),new zw(r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,E)})(d,o),d);return u=Object.assign({useFetchStreams:i},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),yi(g0,"4.7.3",e),yi(g0,"4.7.3","esm2017")})();function pp(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=yT,_T=new Ul("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Dm("@firebase/auth");function U2(s,...e){eh.logLevel<=ze.WARN&&eh.warn(`Auth (${Zr}): ${s}`,...e)}function jc(s,...e){eh.logLevel<=ze.ERROR&&eh.error(`Auth (${Zr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(s,...e){throw gp(s,...e)}function bi(s,...e){return gp(s,...e)}function vT(s,e,i){const r=Object.assign(Object.assign({},V2()),{[e]:i});return new Ul("auth","Firebase",r).create(e,{appName:s.name})}function or(s){return vT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return _T.create(s,...e)}function Te(s,e,...i){if(!s)throw gp(e,...i)}function Wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw jc(e),new Error(e)}function os(s,e){s||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function j2(){return iv()==="http:"||iv()==="https:"}function iv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j2()||m1()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=h1()||p1()}get(){return L2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(s,e){os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Ql(3e4,6e4);function Ah(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function uo(s,e,i,r,o={}){return TT(s,o,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=jl(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:g},u);return f1()||(_.referrerPolicy="no-referrer"),bT.fetch()(AT(s,s.config.apiHost,i,p),_)})}async function TT(s,e,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},z2),e);try{const o=new q2(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Ic(s,"user-disabled",d);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw vT(s,E,_);as(s,E)}}catch(o){if(o instanceof Ai)throw o;as(s,"network-request-failed",{message:String(o)})}}async function ET(s,e,i,r,o={}){const u=await uo(s,e,i,r,o);return"mfaPendingCredential"in u&&as(s,"multi-factor-auth-required",{_serverResponse:u}),u}function AT(s,e,i,r){const o=`${e}${i}?${r}`;return s.config.emulator?yp(s.config,o):`${s.config.apiScheme}://${o}`}class q2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),B2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=bi(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(s,e){return uo(s,"POST","/v1/accounts:delete",e)}async function wT(s,e){return uo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F2(s,e=!1){const i=pt(s),r=await i.getIdToken(e),o=_p(r);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:wl(Xf(o.auth_time)),issuedAtTime:wl(Xf(o.iat)),expirationTime:wl(Xf(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xf(s){return Number(s)*1e3}function _p(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Uv(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sv(s){const e=_p(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ai&&G2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function G2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(s){var e;const i=s.auth,r=await s.getIdToken(),o=await Ml(s,wT(i,{idToken:r}));Te(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ST(u.providerUserInfo):[],p=Y2(s.providerData,d),g=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?_:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Am(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,x)}async function K2(s){const e=pt(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Y2(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ST(s){return s.map(e=>{var{providerId:i}=e,r=pp(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(s,e){const i=await TT(s,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=AT(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",bT.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $2(s,e){return uo(s,"POST","/v2/accounts:revokeToken",Ah(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=sv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await X2(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,d=new Ya;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,u=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Am(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return F2(this,e)}reload(){return K2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zi(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Ml(this,H2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,u,d,p,g,_,E;const x=(r=i.displayName)!==null&&r!==void 0?r:void 0,D=(o=i.email)!==null&&o!==void 0?o:void 0,q=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,K=(d=i.photoURL)!==null&&d!==void 0?d:void 0,ne=(p=i.tenantId)!==null&&p!==void 0?p:void 0,$=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,ee=(_=i.createdAt)!==null&&_!==void 0?_:void 0,le=(E=i.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:Z,isAnonymous:be,providerData:z,stsTokenManager:S}=i;Te(se&&S,e,"internal-error");const w=Ya.fromJSON(this.name,S);Te(typeof se=="string",e,"internal-error"),$s(x,e.name),$s(D,e.name),Te(typeof Z=="boolean",e,"internal-error"),Te(typeof be=="boolean",e,"internal-error"),$s(q,e.name),$s(K,e.name),$s(ne,e.name),$s($,e.name),$s(ee,e.name),$s(le,e.name);const R=new es({uid:se,auth:e,email:D,emailVerified:Z,displayName:x,isAnonymous:be,photoURL:K,phoneNumber:q,tenantId:ne,stsTokenManager:w,createdAt:ee,lastLoginAt:le});return z&&Array.isArray(z)&&(R.providerData=z.map(I=>Object.assign({},I))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(e,i,r=!1){const o=new Ya;o.updateFromServerResponse(i);const u=new es({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await th(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ya;p.updateFromIdToken(r);const g=new es({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function ts(s){os(s instanceof Function,"Expected a class definition");let e=rv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}xT.type="NONE";const av=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(s,e,i){return`firebase:${s}:${e}:${i}`}class Xa{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lc("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Xa(ts(av),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ts(av);const d=Lc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){const x=es._fromJSON(e,E);_!==u&&(p=x),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Xa(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(MT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RT(s=un()){return/firefox\//i.test(s)}function NT(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(s=un()){return/crios\//i.test(s)}function CT(s=un()){return/iemobile/i.test(s)}function DT(s=un()){return/android/i.test(s)}function OT(s=un()){return/blackberry/i.test(s)}function MT(s=un()){return/webos/i.test(s)}function vp(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function J2(s=un()){var e;return vp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z2(){return g1()&&document.documentMode===10}function kT(s=un()){return vp(s)||DT(s)||MT(s)||OT(s)||/windows phone/i.test(s)||CT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s,e=[]){let i;switch(s){case"Browser":i=ov(un());break;case"Worker":i=`${ov(un())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Zr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(s,e={}){return uo(s,"GET","/v2/passwordPolicy",Ah(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=6;class nR{constructor(e){var i,r,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:tR,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,u,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await wT(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Zi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zi(this.app))return Promise.reject(or(this));const i=e?pt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zi(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zi(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eR(this),i=new nR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await $2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ts(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&U2(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function wh(s){return pt(s)}class lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=w1(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(s){bp=s}function rR(s){return bp.loadJS(s)}function aR(){return bp.gapiScript}function oR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s,e){const i=oh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Hc(u,e??{}))return o;as(o,"already-initialized")}return i.initialize({options:e})}function uR(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ts);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cR(s,e,i){const r=wh(s);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=UT(e),{host:d,port:p}=hR(e),g=p===null?"":`:${p}`;r.config.emulator={url:`${u}//${d}${g}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),dR()}function UT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function hR(s){const e=UT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:uv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:uv(d)}}}function uv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function dR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,i){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s,e){return ET(s,"POST","/v1/accounts:signInWithIdp",Ah(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="http://localhost";class $r extends jT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,u=pp(i,["providerId","signInMethod"]);if(!r||!o)return null;const d=new $r(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,$a(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:fR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=jl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Kl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Zs.credential(i,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Kl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Kl{constructor(){super("twitter.com")}static credential(e,i){return $r._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return er.credential(i,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(s,e){return ET(s,"POST","/v1/accounts:signUp",Ah(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await es._fromIdTokenResponse(e,r,o),d=cv(r);return new dr({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=cv(r);return new dr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(s){var e;if(Zi(s.app))return Promise.reject(or(s));const i=wh(s);if(await i._initializationPromise,!((e=i.currentUser)===null||e===void 0)&&e.isAnonymous)return new dr({user:i.currentUser,providerId:null,operationType:"signIn"});const r=await mR(i,{returnSecureToken:!0}),o=await dr._fromIdTokenResponse(i,"signIn",r,!0);return await i._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Ai{constructor(e,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new nh(e,i,r,o)}}function PT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,u,e,r):u})}async function gR(s,e,i=!1){const r=await Ml(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return dr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(s,e,i=!1){const{auth:r}=s;if(Zi(r.app))return Promise.reject(or(r));const o="reauthenticate";try{const u=await Ml(s,PT(r,o,e,s),i);Te(u.idToken,r,"internal-error");const d=_p(u.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),dr._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&as(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(s,e,i=!1){if(Zi(s.app))return Promise.reject(or(s));const r="signIn",o=await PT(s,r,e),u=await dr._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}function vR(s,e,i,r){return pt(s).onIdTokenChanged(e,i,r)}function bR(s,e,i){return pt(s).beforeAuthStateChanged(e,i)}function TR(s,e,i,r){return pt(s).onAuthStateChanged(e,i,r)}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,AR=10;class BT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);Z2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AR):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const wR=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,u)),g=await SR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const _=Tp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const D=x;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function RR(s){Ti().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function NR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function CR(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",DR=1,sh="firebaseLocalStorage",QT="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function OR(){const s=indexedDB.deleteDatabase(GT);return new Yl(s).toPromise()}function wm(){const s=indexedDB.open(GT,DR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(sh,{keyPath:QT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await OR(),e(await wm()))})})}async function hv(s,e,i){const r=xh(s,!0).put({[QT]:e,value:i});return new Yl(r).toPromise()}async function MR(s,e){const i=xh(s,!1).get(e),r=await new Yl(i).toPromise();return r===void 0?null:r.value}function dv(s,e){const i=xh(s,!0).delete(e);return new Yl(i).toPromise()}const kR=800,VR=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>VR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(CR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await NR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await hv(e,ih,"1"),await dv(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>hv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>MR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>dv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new Yl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const UR=KT;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(s,e){return e?ts(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends jT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function LR(s){return _R(s.auth,new Ep(s),s.bypassAuthState)}function PR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),yR(i,new Ep(s),s.bypassAuthState)}async function zR(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),gR(i,new Ep(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return PR;default:as(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Ql(2e3,1e4);class Qa extends YT{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",Pc=new Map;class HR extends YT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(s,e){const i=KR(e),r=QR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function GR(s,e){Pc.set(s._key(),e)}function QR(s){return ts(s._redirectPersistence)}function KR(s){return Lc(qR,s.config.apiKey,s.name)}async function YR(s,e,i=!1){if(Zi(s.app))return Promise.reject(or(s));const r=wh(s),o=jR(r,e),d=await new HR(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=600*1e3;class $R{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!XT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(bi(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(e))}saveEventToCache(e){this.cachedEventUids.add(fv(e)),this.lastProcessedEventTime=Date.now()}}function fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function XT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(s,e={}){return uo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^https?/;async function tN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ZR(s);for(const i of e)try{if(nN(i))return}catch{}as(s,"unauthorized-domain")}function nN(s){const e=Em(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!eN.test(i))return!1;if(WR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Ql(3e4,6e4);function mv(){const s=Ti().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function sN(s){return new Promise((e,i)=>{var r,o,u;function d(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(bi(s,"network-request-failed"))},timeout:iN.get()})}if(!((o=(r=Ti().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)d();else{const p=oR("iframefcb");return Ti()[p]=()=>{gapi.load?d():i(bi(s,"network-request-failed"))},rR(`${aR()}?onload=${p}`).catch(g=>i(g))}}).catch(e=>{throw zc=null,e})}let zc=null;function rN(s){return zc=zc||sN(s),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Ql(5e3,15e3),oN="__/auth/iframe",lN="emulator/auth/iframe",uN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hN(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?yp(e,lN):`https://${s.config.authDomain}/${oN}`,r={apiKey:e.apiKey,appName:s.name,v:Zr},o=cN.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${jl(r).slice(1)}`}async function dN(s){const e=await rN(s),i=Ti().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:hN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=Ti().setTimeout(()=>{u(d)},aN.get());function g(){Ti().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mN=500,pN=600,gN="_blank",yN="http://localhost";class pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _N(s,e,i,r=mN,o=pN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g=Object.assign(Object.assign({},fN),{width:r.toString(),height:o.toString(),top:u,left:d}),_=un().toLowerCase();i&&(p=IT(_)?gN:i),RT(_)&&(e=e||yN,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[q,K])=>`${D}${q}=${K},`,"");if(J2(_)&&p!=="_self")return vN(e||"",p),new pv(null);const x=window.open(e||"",p,E);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new pv(x)}function vN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",TN="emulator/auth/handler",EN=encodeURIComponent("fac");async function gv(s,e,i,r,o,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Zr,eventId:o};if(e instanceof LT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",A1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))d[E]=x}if(e instanceof Kl){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),_=g?`#${EN}=${encodeURIComponent(g)}`:"";return`${AN(s)}?${jl(p).slice(1)}${_}`}function AN({config:s}){return s.emulator?yp(s,TN):`https://${s.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class wN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=YR,this._overrideRedirectResult=GR}async _openPopup(e,i,r,o){var u;os((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await gv(e,i,r,Em(),o);return _N(e,d,Tp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await gv(e,i,r,Em(),o);return RR(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(os(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await dN(e),r=new $R(e);return i.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send($f,{type:$f},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[$f];d!==void 0&&i(!!d),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return kT()||NT()||vp()}}const SN=wN;var yv="@firebase/auth",_v="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NN(s){Qr(new lr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(s)},_=new iR(r,o,u,g);return uR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new lr("auth-internal",e=>{const i=wh(e.getProvider("auth").getImmediate());return(r=>new xN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(yv,_v,RN(s)),yi(yv,_v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=300,CN=zv("authIdTokenMaxAge")||IN;let vv=null;const DN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>CN)return;const o=i==null?void 0:i.token;vv!==o&&(vv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ON(s=Mm()){const e=oh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=lR(s,{popupRedirectResolver:SN,persistence:[UR,wR,HT]}),r=zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=DN(u.toString());bR(i,d,()=>d(i.currentUser)),vR(i,p=>d(p))}}const o=jv("auth");return o&&cR(i,`http://${o}`),i}function MN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}sR({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=bi("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",MN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NN("Browser");const $T=["Imbituba","Laguna","Tubaro","Cricima"],kN=["Salo da igreja","Sala de msica","Espao infantil","Outro"],VN=[{id:"c1",name:"Santa Barbara - Cricima",adm:"Cricima"},{id:"c2",name:"Mina do Toco - Cricima",adm:"Cricima"},{id:"c3",name:"Monte Castelo - Cricima",adm:"Cricima"},{id:"c4",name:"Nossa Senhora da Salete - Cricima",adm:"Cricima"},{id:"c5",name:"Pinheirinho - Cricima",adm:"Cricima"},{id:"c6",name:"Quarta Linha - Cricima",adm:"Cricima"},{id:"c7",name:"So Jos - Rio Maina - Cricima",adm:"Cricima"},{id:"c8",name:"So Sebastio - Cricima",adm:"Cricima"},{id:"c9",name:"Vila Manaus - Cricima",adm:"Cricima"},{id:"c10",name:"Coloninha - Ararangu",adm:"Cricima"},{id:"c11",name:"Jardim Sibele - Ararangu",adm:"Cricima"},{id:"c12",name:"Mato Alto - Ararangu",adm:"Cricima"},{id:"c13",name:"Mangueirinha - Balnerio Arroio do Silva",adm:"Cricima"},{id:"c14",name:"Centro - Balnerio Rinco",adm:"Cricima"},{id:"c15",name:"Jardim Elizabete - Cocal do Sul",adm:"Cricima"},{id:"c16",name:"Saturno - Forquilhinha",adm:"Cricima"},{id:"c17",name:"Raichask - Iara",adm:"Cricima"},{id:"c18",name:"Urussangua Velha - Iara",adm:"Cricima"},{id:"c19",name:"Vila Nova - Iara",adm:"Cricima"},{id:"c20",name:"Centro - Jacinto Machado",adm:"Cricima"},{id:"c21",name:"Vila Beatriz - Maracaj",adm:"Cricima"},{id:"c22",name:"Centro - Morro da Fumaa",adm:"Cricima"},{id:"c23",name:"Estao Cocal - Morro da Fumaa",adm:"Cricima"},{id:"c24",name:"Caravaggio - Nova Veneza",adm:"Cricima"},{id:"c25",name:"Progresso - Passo de Torres",adm:"Cricima"},{id:"c26",name:"Alvorada - Praia Grande",adm:"Cricima"},{id:"c27",name:"Rodovia SC-443 - KM 2 - Sango",adm:"Cricima"},{id:"c28",name:"Parque Rosita - Santa Rosa do Sul",adm:"Cricima"},{id:"c29",name:"So Cristvo - Santa Rosa do Sul",adm:"Cricima"},{id:"c30",name:"Vila Nova - Santa Rosa do Sul",adm:"Cricima"},{id:"c31",name:"Centro - Siderpolis",adm:"Cricima"},{id:"c32",name:"Vila Nova Braslia - Sombrio",adm:"Cricima"},{id:"c33",name:"Januria - Sombrio",adm:"Cricima"},{id:"c34",name:"Vila So Francisco - Sombrio",adm:"Cricima"},{id:"c35",name:"So Luiz - Timb do Sul",adm:"Cricima"},{id:"c36",name:"Vila Esperana - Treviso",adm:"Cricima"},{id:"c37",name:"Vila Manentti - Turvo",adm:"Cricima"},{id:"c38",name:"De Villa - Urussangua",adm:"Cricima"},{id:"i1",name:"Vila Nova - Imbituba",adm:"Imbituba"},{id:"i2",name:"Alto Arroio - Imbituba",adm:"Imbituba"},{id:"i3",name:"Guaiuba - Imbituba",adm:"Imbituba"},{id:"i4",name:"Ibiraquera - Imbituba",adm:"Imbituba"},{id:"i5",name:"Roa Grande - Imbituba",adm:"Imbituba"},{id:"i6",name:"Vila Nova Alvorada (Divinia) - Imbituba",adm:"Imbituba"},{id:"i7",name:"Areias de Palhocinha - Garopaba",adm:"Imbituba"},{id:"i8",name:"Campo D'una - Garopaba",adm:"Imbituba"},{id:"i9",name:"Centro - Imaru",adm:"Imbituba"},{id:"i10",name:"Canguiri de Fora - Imaru",adm:"Imbituba"},{id:"i11",name:"Fazenda Rio das Garas - Imaru",adm:"Imbituba"},{id:"i12",name:"Laranjal - Imaru",adm:"Imbituba"},{id:"l1",name:"Bentos - Laguna",adm:"Laguna"},{id:"l2",name:"Cabeudas - Laguna",adm:"Laguna"},{id:"l3",name:"Campos Novos - Laguna",adm:"Laguna"},{id:"l4",name:"Central - Laguna",adm:"Laguna"},{id:"l5",name:"Cigana - Laguna",adm:"Laguna"},{id:"l6",name:"Farol de Santa Marta - Laguna",adm:"Laguna"},{id:"l7",name:"Mar Grosso - Laguna",adm:"Laguna"},{id:"l8",name:"Morro Grande - Laguna",adm:"Laguna"},{id:"l9",name:"Portinho - Laguna",adm:"Laguna"},{id:"l10",name:"Ribeiro Pequeno - Laguna",adm:"Laguna"},{id:"l11",name:"KM 37 - Pescaria Brava",adm:"Laguna"},{id:"l12",name:"Ponta das Laranjeiras - Pescaria Brava",adm:"Laguna"},{id:"t1",name:"Andrino - Tubaro",adm:"Tubaro"},{id:"t2",name:"Bela Vista - Brao do Norte",adm:"Tubaro"},{id:"t3",name:"Bom Pastor - Tubaro",adm:"Tubaro"},{id:"t4",name:"Camacho - Jaguaruna",adm:"Tubaro"},{id:"t5",name:"Caruru - Tubaro",adm:"Tubaro"},{id:"t6",name:"Central - Tubaro",adm:"Tubaro"},{id:"t7",name:"Centro - Bom Jardim da Serra",adm:"Tubaro"},{id:"t8",name:"Centro - Capivari de Baixo",adm:"Tubaro"},{id:"t9",name:"Centro - Gro Par",adm:"Tubaro"},{id:"t10",name:"Centro - Jaguaruna",adm:"Tubaro"},{id:"t11",name:"Centro - Lauro Muller",adm:"Tubaro"},{id:"t12",name:"Centro - Treze de Maio",adm:"Tubaro"},{id:"t13",name:"Comasa - Tubaro",adm:"Tubaro"},{id:"t14",name:"Copa - Jaguaruna",adm:"Tubaro"},{id:"t15",name:"Encosta do Sol - So Ludgero",adm:"Tubaro"},{id:"t16",name:"Estiva - Pescaria Brava",adm:"Tubaro"},{id:"t17",name:"Fabio Silva - Tubaro",adm:"Tubaro"},{id:"t18",name:"Guarda ME - Tubaro",adm:"Tubaro"},{id:"t19",name:"Guat - Lauro Muller",adm:"Tubaro"},{id:"t20",name:"Humait Centro - Tubaro",adm:"Tubaro"},{id:"t21",name:"Humait de Cima - Tubaro",adm:"Tubaro"},{id:"t22",name:"Ilhota - Pedras Grandes",adm:"Tubaro"},{id:"t23",name:"Indaial - Gravatal",adm:"Tubaro"},{id:"t24",name:"KM 63 - Tubaro",adm:"Tubaro"},{id:"t25",name:"Mato Alto - Tubaro",adm:"Tubaro"},{id:"t26",name:"Pedrinhas - Pedras Grandes",adm:"Tubaro"},{id:"t27",name:"So Cristvo - Tubaro",adm:"Tubaro"},{id:"t28",name:"So Geronimo - Orleans",adm:"Tubaro"},{id:"t29",name:"So Martinho - Tubaro",adm:"Tubaro"},{id:"t30",name:"So Martinho - So Martinho",adm:"Tubaro"},{id:"t31",name:"So Sebastio - Treze de Maio",adm:"Tubaro"},{id:"t32",name:"Serto dos Correias - Tubaro",adm:"Tubaro"},{id:"t33",name:"Serto dos Medeiros - Gravatal",adm:"Tubaro"},{id:"t34",name:"Termas do Gravatal - Gravatal",adm:"Tubaro"},{id:"t35",name:"Varzea das Canoas - Gravatal",adm:"Tubaro"},{id:"t36",name:"Vila So Francisco - Armazem",adm:"Tubaro"}];/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),bv=s=>{const e=jN(s);return e.charAt(0).toUpperCase()+e.slice(1)},JT=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),LN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...p},g)=>Re.createElement("svg",{ref:g,...PN,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:JT("lucide",o),...!u&&!LN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Re.createElement(_,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(s,e)=>{const i=Re.forwardRef(({className:r,...o},u)=>Re.createElement(zN,{ref:u,iconNode:e,className:JT(`lucide-${UN(bv(s))}`,`lucide-${s}`,r),...o}));return i.displayName=bv(s),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qN=rt("arrow-right",BN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ZT=rt("calendar",HN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Tv=rt("chart-column",FN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bc=rt("chevron-right",GN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ap=rt("circle-alert",QN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YN=rt("circle-check",KN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$N=rt("circle-question-mark",XN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZN=rt("download",JN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sm=rt("file-text",WN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],tI=rt("funnel-x",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rh=rt("history",nI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sI=rt("house",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ev=rt("loader-circle",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WT=rt("lock",aI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lI=rt("map-pin",oI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["path",{d:"m9 9 12-2",key:"1e64n2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],kl=rt("music-4",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xm=rt("pencil",cI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rm=rt("plus",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eE=rt("save",dI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ro=rt("search",fI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vl=rt("trash-2",mI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gI=rt("trash",pI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_I=rt("triangle-alert",yI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bI=rt("user",vI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Av=rt("wrench",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ji=rt("x",EI),AI=({isAdmPending:s,onSelectAdm:e,onOpenReports:i})=>b.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[$T.map(r=>{const o=s(r);return b.jsxs("button",{onClick:()=>e(r),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden ${o?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[o&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(Ap,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(kl,{size:32,className:o?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:r})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(kl,{size:140,className:"text-sky-200"})})]},r)}),b.jsxs("button",{onClick:i,className:"relative group bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-700 transition-all hover:shadow-2xl hover:bg-slate-900 hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden",children:[b.jsx("div",{className:"p-4 bg-slate-700 rounded-2xl w-fit border border-slate-600 group-hover:bg-indigo-600 transition-colors",children:b.jsx(Tv,{size:32,className:"text-indigo-300"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-bold text-white",children:"Relatrios Gerais"}),b.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 text-xs font-bold uppercase tracking-wider",children:["Visualizar Registros",b.jsx(Bc,{size:14})]})]}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 pointer-events-none group-hover:opacity-20 transition-opacity",children:b.jsx(Tv,{size:160,className:"text-white"})})]})]})}),wI=({adm:s,state:e,isLocationPending:i,onSelectLocation:r})=>{const[o,u]=Re.useState(""),p=e.locations.filter(g=>g.adm===s).filter(g=>g.name.toLowerCase().includes(o.toLowerCase()));return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:s}),b.jsxs("div",{className:"max-w-md mx-auto relative group",children:[b.jsx(ro,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar localidade...",value:o,onChange:g=>u(g.target.value),className:"w-full pl-12 pr-12 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-700"}),o&&b.jsx("button",{onClick:()=>u(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1",children:b.jsx(Ji,{size:16})})]})]}),p.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ro,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhuma localidade encontrada"}),b.jsx("p",{className:"text-slate-500",children:"Tente ajustar sua pesquisa ou verifique se o nome est correto."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>{const _=i(g.id);return b.jsxs("button",{onClick:()=>r(g.id),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-56 overflow-hidden ${_?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[_&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(Ap,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(kl,{size:32,className:_?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:`text-xl font-bold ${_?"text-red-600":"text-slate-800"}`,children:g.name})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(kl,{size:120,className:"text-sky-200"})})]},g.id)})})]})},SI=({locationId:s,state:e,isMaintenancePending:i,onRegisterOrgan:r,onEditOrgan:o,onDeleteOrgan:u,onEditMaintenance:d,onDeleteMaintenance:p,onRegisterMaintenance:g})=>{const[_,E]=Re.useState(""),[x,D]=Re.useState(null),[q,K]=Re.useState(null),ne=e.locations.find(z=>z.id===s),$=e.organs.filter(z=>z.locationId===s),ee=$.filter(z=>z.model.toLowerCase().includes(_.toLowerCase())||z.serialNumber.toLowerCase().includes(_.toLowerCase())||z.patrimonyNumber.toLowerCase().includes(_.toLowerCase()));if(!ne)return null;const le=$.filter(z=>i(z.id)).length,se=$.length>0,Z=e.organs.find(z=>z.id===x),be=e.maintenances.filter(z=>z.organId===x).sort((z,S)=>new Date(S.date).getTime()-new Date(z.date).getTime());return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:ne.name}),b.jsx("p",{className:"text-slate-500 mt-1",children:"rgos cadastrados nesta localidade"})]}),b.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:-translate-y-0.5 border border-blue-500",children:[b.jsx(Rm,{size:20,className:"text-sky-100"}),"Cadastrar Novo rgo"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:"rgos Locais"}),b.jsx("div",{className:"text-5xl font-black text-slate-800 mt-1",children:$.length})]}),b.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm transition-colors duration-300 ${se?le>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[b.jsx("span",{className:`${se?le>0?"text-red-400":"text-green-400":"text-slate-400"} text-xs font-black uppercase tracking-widest`,children:"Status Manuteno"}),b.jsx("div",{className:`mt-1 font-black leading-tight ${se?"text-5xl "+(le>0?"text-red-600":"text-green-600"):"text-xl text-slate-400 py-2"}`,children:se?le===0?"Ok":le:"Nenhum rgo cadastrado"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex flex-col justify-center",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Busca Rpida"}),b.jsxs("div",{className:"relative group",children:[b.jsx(ro,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:18}),b.jsx("input",{type:"text",placeholder:"Modelo, N Srie ou N Patrimnio...",value:_,onChange:z=>E(z.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-sm text-slate-700"}),_&&b.jsx("button",{onClick:()=>E(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(Ji,{size:14})})]})]})]}),b.jsx("div",{className:"space-y-6",children:se?ee.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ro,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhum rgo corresponde  busca"}),b.jsx("p",{className:"text-slate-500",children:"Tente buscar por modelo, nmero de srie ou patrimnio."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(z=>{const S=i(z.id);return b.jsxs("div",{className:`relative group bg-white p-6 rounded-3xl border transition-all hover:shadow-md flex flex-col ${S?"border-red-200 bg-red-50/20":"border-slate-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:z.churchLocation}),b.jsx("h5",{className:`text-xl font-bold leading-tight ${S?"text-red-700":"text-slate-800"}`,children:z.model})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>D(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 transition-all",title:"Ver Histrico",children:b.jsx(rh,{size:14})}),b.jsx("button",{onClick:()=>o(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover:opacity-100",title:"Editar Cadastro",children:b.jsx(xm,{size:14})}),b.jsx("button",{onClick:()=>u(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover:opacity-100",title:"Excluir rgo",children:b.jsx(Vl,{size:14})})]})]}),b.jsxs("div",{className:"mb-4 text-xs space-y-0.5",children:[b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:z.serialNumber})]}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:z.patrimonyNumber})]})]}),b.jsx("div",{className:"mb-6 flex items-center gap-2",children:S?b.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-[10px] font-black uppercase flex items-center gap-1 shadow-sm border border-red-600",children:[b.jsx(_I,{size:10,className:"text-white"}),"Pendente"]}):b.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase flex items-center gap-1 border border-green-200",children:[b.jsx(YN,{size:10,className:"text-green-500"}),"Ok"]})}),b.jsx("div",{className:"mt-auto",children:b.jsxs("button",{onClick:()=>g(z.id),className:`w-full flex items-center justify-center gap-2 py-3 rounded-2xl text-sm font-bold transition-all border ${S?"bg-red-600 text-white hover:bg-red-700 shadow-md shadow-red-100 border-red-500":"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200"}`,children:[b.jsx(Av,{size:16,className:S?"text-white":"text-sky-300"}),"Registrar Manuteno"]})})]},z.id)})}):b.jsxs("div",{className:"bg-slate-100 rounded-3xl p-12 text-center border border-dashed border-slate-300",children:[b.jsx("div",{className:"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 shadow-sm border border-slate-200",children:b.jsx(kl,{size:48,className:"text-sky-300"})}),b.jsx("h4",{className:"text-xl font-bold text-slate-400",children:"Nenhum instrumento aqui"}),b.jsx("p",{className:"text-slate-400 mt-1",children:"Utilize o boto acima para cadastrar o primeiro rgo desta localidade."})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-lg animate-in fade-in duration-300",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[b.jsx("button",{onClick:()=>K(null),className:"absolute -top-4 -right-4 z-10 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",title:"Fechar",children:b.jsx(Ji,{size:24})}),b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"object-contain max-w-full max-h-full rounded-2xl shadow-2xl animate-in zoom-in-90 duration-300",onClick:z=>z.stopPropagation()})]})}),x&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center",children:b.jsx(rh,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-900 leading-tight",children:"Histrico de Manuteno"}),b.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:[Z==null?void 0:Z.model,"  N Patrimnio: ",Z==null?void 0:Z.patrimonyNumber]})]})]}),b.jsx("button",{onClick:()=>D(null),className:"w-10 h-10 bg-white border border-slate-200 text-slate-400 rounded-full flex items-center justify-center hover:bg-slate-50 transition-colors shadow-sm",children:b.jsx(Ji,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:be.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-dashed border-slate-200",children:b.jsx(ZT,{size:32,className:"text-slate-300"})}),b.jsx("p",{className:"text-slate-400 font-bold",children:"Nenhum registro encontrado"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Este instrumento ainda no possui histrico de servios."})]}):be.map(z=>b.jsxs("div",{className:"relative p-6 bg-white border border-slate-200 rounded-3xl shadow-sm hover:shadow-md transition-shadow group/item",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest leading-none",children:"Data"}),b.jsx("span",{className:"text-lg font-bold text-slate-800",children:new Date(z.date).toLocaleDateString("pt-BR")})]})}),b.jsxs("div",{className:"flex gap-1",children:[b.jsxs("button",{onClick:()=>{D(null),d(z.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(xm,{size:14}),"Editar"]}),b.jsxs("button",{onClick:()=>{D(null),p(z.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Vl,{size:14}),"Excluir"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(bI,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Tcnicos:"}),b.jsx("span",{className:"text-slate-800 font-bold",children:z.technicians.join(" & ")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(Av,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Peas Trocadas:"}),b.jsx("span",{className:`font-bold ${z.hasPartExchange?"text-amber-600":"text-slate-800"}`,children:z.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(Sm,{size:14,className:"text-slate-400"}),b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ocorrncia"})]}),b.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed italic",children:['"',z.occurrence,'"']})]}),z.photos.length>0&&b.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:z.photos.map((S,w)=>b.jsx("img",{src:S,onClick:()=>K(S),className:"w-16 h-16 object-cover rounded-xl border-2 border-white shadow-lg cursor-pointer transition-transform hover:scale-110 hover:shadow-md",alt:`Thumbnail ${w+1}`},w))})]},z.id))}),b.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-center",children:b.jsxs("button",{onClick:()=>{D(null),g(x)},className:"px-8 py-3 bg-indigo-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[b.jsx(Rm,{size:18}),"Novo Registro Agora"]})})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"w-full h-full object-contain"}),b.jsx("button",{onClick:()=>K(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(Ji,{size:20})})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full",onClick:z=>z.stopPropagation(),children:[b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"object-contain w-full h-full"}),b.jsx("button",{onClick:()=>K(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(Ji,{size:20})})]})})]})},Jt=[];for(let s=0;s<256;++s)Jt.push((s+256).toString(16).slice(1));function xI(s,e=0){return(Jt[s[e+0]]+Jt[s[e+1]]+Jt[s[e+2]]+Jt[s[e+3]]+"-"+Jt[s[e+4]]+Jt[s[e+5]]+"-"+Jt[s[e+6]]+Jt[s[e+7]]+"-"+Jt[s[e+8]]+Jt[s[e+9]]+"-"+Jt[s[e+10]]+Jt[s[e+11]]+Jt[s[e+12]]+Jt[s[e+13]]+Jt[s[e+14]]+Jt[s[e+15]]).toLowerCase()}let Jf;const RI=new Uint8Array(16);function NI(){if(!Jf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jf=crypto.getRandomValues.bind(crypto)}return Jf(RI)}const II=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wv={randomUUID:II};function CI(s,e,i){var o;s=s||{};const r=s.random??((o=s.rng)==null?void 0:o.call(s))??NI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,xI(r)}function Nm(s,e,i){return wv.randomUUID&&!s?wv.randomUUID():CI(s)}const DI=({locationId:s,locations:e,initialData:i,onSubmit:r,onCancel:o})=>{const[u,d]=Re.useState({churchLocation:"Salo da igreja",model:"",serialNumber:"",patrimonyNumber:""});Re.useEffect(()=>{i&&d({churchLocation:i.churchLocation,model:i.model,serialNumber:i.serialNumber,patrimonyNumber:i.patrimonyNumber})},[i]);const p=e.find(_=>_.id===((i==null?void 0:i.locationId)||s)),g=_=>{_.preventDefault();const E={id:(i==null?void 0:i.id)||Nm(),locationId:(i==null?void 0:i.locationId)||s,...u,createdAt:(i==null?void 0:i.createdAt)||new Date().toISOString()};r(E)};return b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:i?"Editar Instrumento":"Cadastro de Instrumento"}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["Localidade: ",b.jsx("span",{className:"text-blue-600 font-bold",children:p==null?void 0:p.name})]})]}),b.jsxs("form",{onSubmit:g,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Posio no Local"}),b.jsx("select",{value:u.churchLocation,onChange:_=>d({...u,churchLocation:_.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner",children:kN.map(_=>b.jsx("option",{value:_,children:_},_))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Modelo do rgo"}),b.jsx("input",{type:"text",value:u.model,onChange:_=>d({...u,model:_.target.value}),placeholder:"Ex: Tokai MD-10, Minuetto...",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Srie"}),b.jsx("input",{type:"text",value:u.serialNumber,onChange:_=>d({...u,serialNumber:_.target.value}),placeholder:"Cdigo do fabricante",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Patrimnio"}),b.jsx("input",{type:"text",value:u.patrimonyNumber,onChange:_=>d({...u,patrimonyNumber:_.target.value}),placeholder:"Cdigo de controle",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-blue-100 border border-blue-500",children:[b.jsx(eE,{size:20,className:"text-blue-100"}),i?"Salvar Alteraes":"Finalizar Cadastro"]}),b.jsxs("button",{type:"button",onClick:o,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(Ji,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})};var OI="firebase",MI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(OI,MI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebasestorage.googleapis.com",nE="storageBucket",kI=120*1e3,VI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Ai{constructor(e,i,r=0){super(Zf(e),`Firebase Storage: ${i} (${Zf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function Zf(s){return"storage/"+s}function wp(){const s="An unknown error occurred, please check the error payload for server response.";return new Et(Tt.UNKNOWN,s)}function UI(s){return new Et(Tt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function jI(s){return new Et(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(Tt.UNAUTHENTICATED,s)}function PI(){return new Et(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zI(s){return new Et(Tt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function BI(){return new Et(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qI(){return new Et(Tt.CANCELED,"User canceled the upload/download.")}function HI(s){return new Et(Tt.INVALID_URL,"Invalid URL '"+s+"'.")}function FI(s){return new Et(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function GI(){return new Et(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nE+"' property when initializing the app?")}function QI(){return new Et(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KI(){return new Et(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YI(s){return new Et(Tt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Im(s){return new Et(Tt.INVALID_ARGUMENT,s)}function iE(){return new Et(Tt.APP_DELETED,"The Firebase app was deleted.")}function XI(s){return new Et(Tt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(s,e){return new Et(Tt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function pl(s){throw new Et(Tt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=jn.makeFromUrl(e,i)}catch{return new jn(e,"")}if(r.path==="")return r;throw FI(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function _(Z){Z.path_=decodeURIComponent(Z.path)}const E="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",q=new RegExp(`^https?://${x}/${E}/b/${o}/o${D}`,"i"),K={bucket:1,path:3},ne=i===tE?"(?:storage.googleapis.com|storage.cloud.google.com)":i,$="([^?#]*)",ee=new RegExp(`^https?://${ne}/${o}/${$}`,"i"),se=[{regex:p,indices:g,postModify:u},{regex:q,indices:K,postModify:_},{regex:ee,indices:{bucket:1,path:2},postModify:_}];for(let Z=0;Z<se.length;Z++){const be=se[Z],z=be.regex.exec(e);if(z){const S=z[be.indices.bucket];let w=z[be.indices.path];w||(w=""),r=new jn(S,w),be.postModify(r);break}}if(r==null)throw HI(e);return r}}class $I{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(s,e,i){let r=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let _=!1;function E(...$){_||(_=!0,e.apply(null,$))}function x($){o=setTimeout(()=>{o=null,s(q,g())},$)}function D(){u&&clearTimeout(u)}function q($,...ee){if(_){D();return}if($){D(),E.call(null,$,...ee);return}if(g()||d){D(),E.call(null,$,...ee);return}r<64&&(r*=2);let se;p===1?(p=2,se=0):se=(r+Math.random())*1e3,x(se)}let K=!1;function ne($){K||(K=!0,D(),!_&&(o!==null?($||(p=2),clearTimeout(o),x(0)):$||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,ne(!0)},i),ne}function ZI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(s){return s!==void 0}function eC(s){return typeof s=="object"&&!Array.isArray(s)}function Sp(s){return typeof s=="string"||s instanceof String}function Sv(s){return xp()&&s instanceof Blob}function xp(){return typeof Blob<"u"}function xv(s,e,i,r){if(r<e)throw Im(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>i)throw Im(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(s,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${s}`}function sE(s){const e=encodeURIComponent;let i="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Gr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Gr||(Gr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(s,e){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,i,r,o,u,d,p,g,_,E,x,D=!0){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=x,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,K)=>{this.resolve_=q,this.reject_=K,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Cc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Gr.NO_ERROR,g=u.getStatus();if(!p||tC(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Gr.ABORT;r(!1,new Cc(!1,null,E));return}const _=this.successCodes_.indexOf(g)!==-1;r(!0,new Cc(_,u))})},i=(r,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());WI(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=wp();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?iE():qI();d(g)}else{const g=BI();d(g)}};this.canceled_?i(!1,new Cc(!1,null,!0)):this.backoffId_=JI(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cc{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function iC(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function sC(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rC(s,e){e&&(s["X-Firebase-GMPID"]=e)}function aC(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function oC(s,e,i,r,o,u,d=!0){const p=sE(s.urlParams),g=s.url+p,_=Object.assign({},s.headers);return rC(_,e),iC(_,i),sC(_,u),aC(_,r),new nC(g,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uC(...s){const e=lC();if(e!==void 0){const i=new e;for(let r=0;r<s.length;r++)i.append(s[r]);return i.getBlob()}else{if(xp())return new Blob(s);throw new Et(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cC(s,e,i){return s.webkitSlice?s.webkitSlice(e,i):s.mozSlice?s.mozSlice(e,i):s.slice?s.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(s){if(typeof atob>"u")throw YI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wf{constructor(e,i){this.data=e,this.contentType=i||null}}function dC(s,e){switch(s){case gi.RAW:return new Wf(rE(e));case gi.BASE64:case gi.BASE64URL:return new Wf(aE(s,e));case gi.DATA_URL:return new Wf(mC(e),pC(e))}throw wp()}function rE(s){const e=[];for(let i=0;i<s.length;i++){let r=s.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=r,d=s.charCodeAt(++i);r=65536|(u&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fC(s){let e;try{e=decodeURIComponent(s)}catch{throw Sl(gi.DATA_URL,"Malformed data URL.")}return rE(e)}function aE(s,e){switch(s){case gi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Sl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case gi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Sl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=hC(e)}catch(o){throw o.message.includes("polyfill")?o:Sl(s,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class oE{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw Sl(gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=gC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function mC(s){const e=new oE(s);return e.base64?aE(gi.BASE64,e.rest):fC(e.rest)}function pC(s){return new oE(s).contentType}function gC(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,i){let r=0,o="";Sv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(Sv(this.data_)){const r=this.data_,o=cC(r,e,i);return o===null?null:new tr(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new tr(r,!0)}}static getBlob(...e){if(xp()){const i=e.map(r=>r instanceof tr?r.data_:r);return new tr(uC.apply(null,i))}else{const i=e.map(d=>Sp(d)?dC(gi.RAW,d).data:d.data_);let r=0;i.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new tr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(s){let e;try{e=JSON.parse(s)}catch{return null}return eC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function _C(s,e){const i=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?i:s+"/"+i}function uE(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(s,e){return e}class gn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||vC}}let Dc=null;function bC(s){return!Sp(s)||s.length<2?s:uE(s)}function cE(){if(Dc)return Dc;const s=[];s.push(new gn("bucket")),s.push(new gn("generation")),s.push(new gn("metageneration")),s.push(new gn("name","fullPath",!0));function e(u,d){return bC(d)}const i=new gn("name");i.xform=e,s.push(i);function r(u,d){return d!==void 0?Number(d):d}const o=new gn("size");return o.xform=r,s.push(o),s.push(new gn("timeCreated")),s.push(new gn("updated")),s.push(new gn("md5Hash",null,!0)),s.push(new gn("cacheControl",null,!0)),s.push(new gn("contentDisposition",null,!0)),s.push(new gn("contentEncoding",null,!0)),s.push(new gn("contentLanguage",null,!0)),s.push(new gn("contentType",null,!0)),s.push(new gn("metadata","customMetadata",!0)),Dc=s,Dc}function TC(s,e){function i(){const r=s.bucket,o=s.fullPath,u=new jn(r,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:i})}function EC(s,e,i){const r={};r.type="file";const o=i.length;for(let u=0;u<o;u++){const d=i[u];r[d.local]=d.xform(r,e[d.server])}return TC(r,s),r}function hE(s,e,i){const r=lE(e);return r===null?null:EC(s,r,i)}function AC(s,e,i,r){const o=lE(e);if(o===null||!Sp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,x=s.fullPath,D="/b/"+d(E)+"/o/"+d(x),q=Rh(D,i,r),K=sE({alt:"media",token:_});return q+K})[0]}function wC(s,e){const i={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(i[u.server]=s[u.local])}return JSON.stringify(i)}class Rp{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s){if(!s)throw wp()}function SC(s,e){function i(r,o){const u=hE(s,o,e);return dE(u!==null),u}return i}function xC(s,e){function i(r,o){const u=hE(s,o,e);return dE(u!==null),AC(u,o,s.host,s._protocol)}return i}function fE(s){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=PI():o=LI():i.getStatus()===402?o=jI(s.bucket):i.getStatus()===403?o=zI(s.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function mE(s){const e=fE(s);function i(r,o){let u=e(r,o);return r.getStatus()===404&&(u=UI(s.path)),u.serverResponse=o.serverResponse,u}return i}function RC(s,e,i){const r=e.fullServerUrl(),o=Rh(r,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,p=new Rp(o,u,xC(s,i),d);return p.errorHandler=mE(e),p}function NC(s,e){const i=e.fullServerUrl(),r=Rh(i,s.host,s._protocol),o="DELETE",u=s.maxOperationRetryTime;function d(g,_){}const p=new Rp(r,o,d,u);return p.successCodes=[200,204],p.errorHandler=mE(e),p}function IC(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function CC(s,e,i){const r=Object.assign({},i);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=IC(null,e)),r}function DC(s,e,i,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let se="";for(let Z=0;Z<2;Z++)se=se+Math.random().toString().slice(2);return se}const g=p();d["Content-Type"]="multipart/related; boundary="+g;const _=CC(e,r,o),E=wC(_,i),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+_.contentType+`\r
\r
`,D=`\r
--`+g+"--",q=tr.getBlob(x,r,D);if(q===null)throw QI();const K={name:_.fullPath},ne=Rh(u,s.host,s._protocol),$="POST",ee=s.maxUploadRetryTime,le=new Rp(ne,$,SC(s,i),ee);return le.urlParams=K,le.headers=d,le.body=q.uploadData(),le.errorHandler=fE(e),le}class OC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o){if(this.sent_)throw pl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MC extends OC{initXhr(){this.xhr_.responseType="text"}}function Np(){return new MC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,i){this._service=e,i instanceof jn?this._location=i:this._location=jn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Jr(e,i)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uE(this._location.path)}get storage(){return this._service}get parent(){const e=yC(this._location.path);if(e===null)return null;const i=new jn(this._location.bucket,e);return new Jr(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw XI(e)}}function kC(s,e,i){s._throwIfRoot("uploadBytes");const r=DC(s.storage,s._location,cE(),new tr(e,!0),i);return s.storage.makeRequestWithTokens(r,Np).then(o=>({metadata:o,ref:s}))}function VC(s){s._throwIfRoot("getDownloadURL");const e=RC(s.storage,s._location,cE());return s.storage.makeRequestWithTokens(e,Np).then(i=>{if(i===null)throw KI();return i})}function UC(s){s._throwIfRoot("deleteObject");const e=NC(s.storage,s._location);return s.storage.makeRequestWithTokens(e,Np)}function jC(s,e){const i=_C(s._location.path,e),r=new jn(s._location.bucket,i);return new Jr(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(s){return/^[A-Za-z]+:\/\//.test(s)}function PC(s,e){return new Jr(s,e)}function pE(s,e){if(s instanceof Ip){const i=s;if(i._bucket==null)throw GI();const r=new Jr(i,i._bucket);return e!=null?pE(r,e):r}else return e!==void 0?jC(s,e):s}function zC(s,e){if(e&&LC(e)){if(s instanceof Ip)return PC(s,e);throw Im("To use ref(service, url), the first argument must be a Storage instance.")}else return pE(s,e)}function Rv(s,e){const i=e==null?void 0:e[nE];return i==null?null:jn.makeFromBucketSpec(i,s)}function BC(s,e,i,r={}){s.host=`${e}:${i}`,s._protocol="http";const{mockUserToken:o}=r;o&&(s._overrideAuthToken=typeof o=="string"?o:Bv(o,s.app.options.projectId))}class Ip{constructor(e,i,r,o,u){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=tE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kI,this._maxUploadRetryTime=VI,this._requests=new Set,o!=null?this._bucket=jn.makeFromBucketSpec(o,this._host):this._bucket=Rv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=Rv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jr(this,e)}_makeRequest(e,i,r,o,u=!0){if(this._deleted)return new $I(iE());{const d=oC(e,this._appId,r,o,i,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const Nv="@firebase/storage",Iv="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="storage";function qC(s,e,i){return s=pt(s),kC(s,e,i)}function HC(s){return s=pt(s),VC(s)}function FC(s){return s=pt(s),UC(s)}function Cv(s,e){return s=pt(s),zC(s,e)}function GC(s=Mm(),e){s=pt(s);const r=oh(s,gE).getImmediate({identifier:e}),o=Lv("storage");return o&&QC(r,...o),r}function QC(s,e,i,r={}){BC(s,e,i,r)}function KC(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Ip(i,r,o,e,Zr)}function YC(){Qr(new lr(gE,KC,"PUBLIC").setMultipleInstances(!0)),yi(Nv,Iv,""),yi(Nv,Iv,"esm2017")}YC();const XC={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Cp=Fv(XC),yn=y2(Cp),Dv=ON(Cp),Ov=GC(Cp),$C=({organs:s,locations:e,initialOrganId:i,initialData:r,onSubmit:o,onCancel:u})=>{const[d,p]=Re.useState({organId:i||"",date:new Date().toISOString().split("T")[0],technician1:"",technician2:"",occurrence:"",hasPartExchange:!1}),[g,_]=Re.useState({description:"",reason:"",observation:""}),[E,x]=Re.useState([]),[D,q]=Re.useState(!1);Re.useEffect(()=>{r?(p({organId:r.organId,date:r.date,technician1:r.technicians[0]||"",technician2:r.technicians[1]||"",occurrence:r.occurrence,hasPartExchange:r.hasPartExchange}),r.partExchangeDetails&&_(r.partExchangeDetails),x(r.photos||[])):i&&p(ee=>({...ee,organId:i}))},[i,r]);const K=async ee=>{const le=ee.target.files;if(!le||le.length===0)return;const se=10-E.length;if(se<=0){alert("Limite mximo de 10 fotos atingido.");return}const Z=Array.from(le).slice(0,se);le.length>se&&alert(`Apenas as ${se} primeiras fotos sero adicionadas para respeitar o limite de 10.`),q(!0);try{const be=Z.map(async S=>{const w=Nm(),R=Cv(Ov,`maintenance-photos/${w}`);return await qC(R,S),await HC(R)}),z=await Promise.all(be);x(S=>[...S,...z].slice(0,10))}catch(be){console.error("Erro no upload da imagem:",be),alert("Falha ao fazer upload de uma ou mais imagens. Tente novamente.")}finally{q(!1)}},ne=async ee=>{const le=E[ee];if(!le.includes("firebasestorage.googleapis.com")){x(se=>se.filter((Z,be)=>be!==ee));return}try{const se=Cv(Ov,le);await FC(se),x(Z=>Z.filter((be,z)=>z!==ee))}catch(se){console.error("Erro ao deletar a foto:",se),alert("Falha ao remover a foto. Se o erro persistir, a foto pode ter sido removida apenas do registro, mas no do armazenamento."),x(Z=>Z.filter((be,z)=>z!==ee))}},$=ee=>{if(ee.preventDefault(),!d.organId)return alert("Selecione um rgo");const le=[d.technician1,d.technician2].filter(Z=>Z!==""),se={id:(r==null?void 0:r.id)||Nm(),organId:d.organId,date:d.date,technicians:le,occurrence:d.occurrence,hasPartExchange:d.hasPartExchange,...d.hasPartExchange?{partExchangeDetails:g}:{},photos:E};o(se)};return b.jsxs("div",{className:"bg-white p-8 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:r?"Editar Manuteno":"Registrar Manuteno"}),b.jsx("p",{className:"text-slate-500 font-medium",children:"Preencha os dados tcnicos do atendimento"})]}),b.jsxs("form",{onSubmit:$,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"rgo Alvo"}),b.jsxs("select",{value:d.organId,onChange:ee=>p({...d,organId:ee.target.value}),required:!0,disabled:!!r,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner disabled:opacity-50",children:[b.jsx("option",{value:"",children:"Selecione o rgo..."}),s.map(ee=>{const le=e.find(se=>se.id===ee.locationId);return b.jsxs("option",{value:ee.id,children:[ee.model," - ",le==null?void 0:le.adm," (",le==null?void 0:le.name,") - N Patrimnio: ",ee.patrimonyNumber]},ee.id)})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Data do Servio"}),b.jsx("input",{type:"date",value:d.date,onChange:ee=>p({...d,date:ee.target.value}),required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 1"}),b.jsx("input",{type:"text",value:d.technician1,onChange:ee=>p({...d,technician1:ee.target.value}),required:!0,placeholder:"Nome completo",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 2"}),b.jsx("input",{type:"text",value:d.technician2,onChange:ee=>p({...d,technician2:ee.target.value}),placeholder:"Opcional",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ocorrncia Detalhada"}),b.jsx("textarea",{value:d.occurrence,onChange:ee=>p({...d,occurrence:ee.target.value}),required:!0,rows:4,placeholder:"Descreva o servio executado...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsx("div",{className:"md:col-span-2",children:b.jsxs("label",{className:"flex items-center gap-3 cursor-pointer select-none bg-slate-50 p-4 rounded-2xl border border-slate-100 shadow-inner hover:bg-slate-100 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:d.hasPartExchange,onChange:ee=>p({...d,hasPartExchange:ee.target.checked}),className:"w-6 h-6 rounded-lg text-blue-600 focus:ring-blue-500 border border-slate-300"}),b.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Houve troca de peas ou componentes?"})]})}),d.hasPartExchange&&b.jsxs("div",{className:"md:col-span-2 p-8 bg-blue-50/50 rounded-3xl border border-blue-100 space-y-5 animate-in slide-in-from-top-4 duration-300",children:[b.jsx("h4",{className:"font-black text-blue-800 uppercase tracking-widest text-xs",children:"Especificao da Troca"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Pea(s) Substituda(s)"}),b.jsx("input",{type:"text",value:g.description,onChange:ee=>_({...g,description:ee.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Motivo"}),b.jsx("input",{type:"text",value:g.reason,onChange:ee=>_({...g,reason:ee.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Observaes Extras"}),b.jsx("input",{type:"text",value:g.observation,onChange:ee=>_({...g,observation:ee.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Evidncias Fotogrficas"}),b.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${E.length===10?"text-red-500":"text-slate-400"}`,children:[E.length," / 10 fotos"]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[E.map((ee,le)=>b.jsxs("div",{className:"relative group",children:[b.jsx("img",{src:ee,alt:`Upload ${le}`,className:"w-24 h-24 object-cover rounded-2xl border-2 border-white shadow-md transition-transform hover:scale-105"}),b.jsx("button",{type:"button",onClick:()=>ne(le),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg border border-red-600",children:b.jsx(Vl,{size:12,className:"text-white"})})]},le)),E.length<10&&(D?b.jsxs("div",{className:"w-24 h-24 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl bg-slate-50 shadow-inner",children:[b.jsx(Ev,{size:24,className:"text-sky-400 animate-spin"}),b.jsx("span",{className:"text-[10px] font-black uppercase mt-2 text-slate-400",children:"Enviando..."})]}):b.jsxs("label",{className:"w-24 h-24 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all text-slate-400 bg-slate-50 shadow-inner",children:[b.jsx(Rm,{size:24,className:"text-sky-300"}),b.jsx("span",{className:"text-[10px] font-black uppercase mt-1",children:"Add Foto"}),b.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:K})]}))]}),b.jsx("p",{className:"mt-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest italic",children:"Mximo 10 fotos por atendimento"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-8 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",disabled:D,className:"flex-1 bg-green-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-green-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-green-100 border border-green-500 disabled:bg-slate-300 disabled:shadow-none disabled:cursor-not-allowed",children:[D?b.jsx(Ev,{size:20,className:"animate-spin"}):b.jsx(eE,{size:20,className:"text-white"}),r?"Atualizar Registro":D?"Enviando Imagens...":"Gravar Manuteno"]}),b.jsxs("button",{type:"button",onClick:u,disabled:D,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200 disabled:opacity-50",children:[b.jsx(Ji,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})},JC=({state:s,isMaintenancePending:e,onEditMaintenance:i,onDeleteMaintenance:r,isHistoryAuthorized:o,onRequestHistoryAccess:u})=>{const[d,p]=Re.useState("maintenances"),[g,_]=Re.useState("all"),[E,x]=Re.useState("all"),[D,q]=Re.useState(""),[K,ne]=Re.useState(""),$=Re.useMemo(()=>g==="all"?s.locations:s.locations.filter(z=>z.adm===g),[g,s.locations]),ee=Re.useMemo(()=>s.maintenances.filter(z=>{const S=s.organs.find(N=>N.id===z.organId);if(!S)return!1;const w=s.locations.find(N=>N.id===S.locationId);if(!w)return!1;const R=g==="all"||w.adm===g,I=E==="all"||w.id===E,O=!D||z.date>=D,V=!K||z.date<=K;return R&&I&&O&&V}).sort((z,S)=>S.date.localeCompare(z.date)),[s.maintenances,s.organs,s.locations,g,E,D,K]),le=Re.useMemo(()=>s.deletedItems.filter(z=>{var V,N,et;const S=g==="all"||((V=z.metadata)==null?void 0:V.adm)===g,w=E==="all"||((N=s.locations.find(dt=>dt.id===E))==null?void 0:N.name)===((et=z.metadata)==null?void 0:et.locationName),R=z.deletedAt.split("T")[0],I=!D||R>=D,O=!K||R<=K;return S&&w&&I&&O}).sort((z,S)=>S.deletedAt.localeCompare(z.deletedAt)),[s.deletedItems,g,E,D,K,s.locations]),se=()=>{_("all"),x("all"),q(""),ne("")},Z=()=>{const z=d==="maintenances"?ee:le;if(d==="maintenances"){const S=["Data","Instrumento","N Patrimnio","ADM","Local","Tcnicos","Ocorrncia"],w=z.map(I=>{const O=s.organs.find(N=>N.id===I.organId),V=s.locations.find(N=>N.id===(O==null?void 0:O.locationId));return[I.date,(O==null?void 0:O.model)||"",(O==null?void 0:O.patrimonyNumber)||"",(V==null?void 0:V.adm)||"",(V==null?void 0:V.name)||"",I.technicians.join(" & "),I.occurrence.replace(/,/g,";")]}),R=[S,...w].map(I=>I.join(",")).join(`
`);be(R,"relatorio_manutencao.csv")}else{const S=["Data Excluso","Tipo","Instrumento/Info","N Patrimnio","ADM","Local","Motivo"],w=z.map(I=>{var et,dt;const O=I.type==="organ",V=O?I.data.model:`Manuteno de ${I.data.date}`,N=O?I.data.patrimonyNumber:"";return[new Date(I.deletedAt).toLocaleString("pt-BR"),I.type==="organ"?"rgo":"Manuteno",V,N,((et=I.metadata)==null?void 0:et.adm)||"",((dt=I.metadata)==null?void 0:dt.locationName)||"",I.reason.replace(/,/g,";")]}),R=[S,...w].map(I=>I.join(",")).join(`
`);be(R,"historico_exclusoes.csv")}},be=(z,S)=>{const w=new Blob([z],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),I=URL.createObjectURL(w);R.setAttribute("href",I),R.setAttribute("download",S),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-2xl w-fit",children:[b.jsxs("button",{onClick:()=>p("maintenances"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="maintenances"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(Sm,{size:18,className:d==="maintenances"?"text-blue-500":"text-slate-400"}),"Atendimentos Ativos"]}),b.jsxs("button",{onClick:()=>{o?p("deleted"):u()},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="deleted"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o?b.jsx(rh,{size:18,className:"text-red-500"}):b.jsx(WT,{size:18,className:"text-slate-400"}),"Histrico de Excluso"]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-700",children:[b.jsx(ro,{size:20,className:"text-sky-300"}),"Filtros de ",d==="maintenances"?"Relatrio":"Excluso"]}),b.jsxs("button",{onClick:se,className:"flex items-center gap-1.5 text-xs font-bold text-slate-400 hover:text-blue-500 transition-colors",children:[b.jsx(tI,{size:14}),"Limpar Filtros"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Adm"}),b.jsxs("select",{value:g,onChange:z=>{_(z.target.value),x("all")},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),$T.map(z=>b.jsx("option",{value:z,children:z},z))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Localidade"}),b.jsxs("select",{value:E,onChange:z=>x(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),$.map(z=>b.jsx("option",{value:z.id,children:z.name},z.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"De"}),b.jsx("input",{type:"date",value:D,onChange:z=>q(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"At"}),b.jsx("input",{type:"date",value:K,onChange:z=>ne(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]})]}),b.jsx("div",{className:"mt-4 flex justify-end",children:b.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-900 transition-colors text-sm font-medium border border-slate-700 shadow-sm",children:[b.jsx(ZN,{size:16,className:"text-sky-100"}),"Exportar CSV"]})})]}),b.jsx("div",{className:"space-y-4",children:d==="maintenances"?ee.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(ro,{size:32,className:"text-sky-300"})}),"Nenhum atendimento encontrado para os filtros selecionados."]}):ee.map(z=>{const S=s.organs.find(I=>I.id===z.organId),w=s.locations.find(I=>I.id===(S==null?void 0:S.locationId)),R=S?e(S.id):!1;return b.jsxs("div",{className:"relative group bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 z-10 transition-all",children:[b.jsx("button",{onClick:()=>i(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 shadow-sm",title:"Editar Registro",children:b.jsx(xm,{size:14})}),b.jsx("button",{onClick:()=>r(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 shadow-sm",title:"Excluir Registro",children:b.jsx(Vl,{size:14})})]}),b.jsxs("div",{className:`p-6 border-b md:border-b-0 md:border-r border-slate-100 flex-1 ${R?"border-l-4 border-l-red-500":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ZT,{size:16,className:"text-sky-300"}),b.jsx("span",{className:"font-bold text-slate-800",children:new Date(z.date+"T00:00:00").toLocaleDateString("pt-BR")})]}),b.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold uppercase border border-slate-200",children:w==null?void 0:w.adm})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h4",{className:"font-bold text-lg text-slate-800",children:S==null?void 0:S.model}),b.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-1",children:[b.jsx(lI,{size:14,className:"text-sky-300"}),w==null?void 0:w.name," - ",S==null?void 0:S.churchLocation]}),b.jsxs("div",{className:"mt-2 space-y-1",children:[b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.patrimonyNumber})]}),b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.serialNumber})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Tcnicos"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:z.technicians.join(" & ")})]}),b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Peas Trocadas"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:z.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 shadow-inner",children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase mb-2",children:"Ocorrncia"}),b.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:z.occurrence})]})]}),b.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-6 flex flex-wrap gap-2 items-start content-start",children:[b.jsx("span",{className:"block w-full text-xs font-semibold text-slate-400 uppercase mb-2",children:"Fotos do Registro"}),z.photos.length===0?b.jsxs("div",{className:"w-full h-32 flex flex-col items-center justify-center text-slate-300 border border-dashed border-slate-200 rounded-xl bg-white",children:[b.jsx(Sm,{size:32,className:"text-sky-200"}),b.jsx("span",{className:"text-[10px] mt-1",children:"Sem fotos"})]}):z.photos.map((I,O)=>b.jsx("img",{src:I,alt:"Anexo",className:"w-16 h-16 object-cover rounded-lg border border-white shadow-sm cursor-zoom-in hover:scale-110 transition-transform"},O))]})]},z.id)}):le.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(rh,{size:32,className:"text-slate-300"})}),"Nenhum registro de excluso encontrado."]}):le.map(z=>{var S,w;return b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 bg-red-50/30 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:b.jsx(gI,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Excludo em"}),b.jsx("p",{className:"text-sm font-bold text-slate-800",children:new Date(z.deletedAt).toLocaleString("pt-BR")})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${z.type==="organ"?"bg-amber-100 text-amber-700 border-amber-200":"bg-indigo-100 text-indigo-700 border-indigo-200"}`,children:z.type==="organ"?"rgo":"Manuteno"})]}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Dados Originais"}),z.type==="organ"?b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsx("h5",{className:"font-bold text-slate-800",children:z.data.model}),b.jsxs("p",{className:"text-xs text-slate-500",children:["N Srie: ",z.data.serialNumber,"  N Patrimnio: ",z.data.patrimonyNumber]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[(S=z.metadata)==null?void 0:S.adm,"  ",(w=z.metadata)==null?void 0:w.locationName]})]}):b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("h5",{className:"font-bold text-slate-800",children:["Servio de ",z.data.date]}),b.jsxs("p",{className:"text-xs text-slate-500",children:["Tcnicos: ",z.data.technicians.join(", ")]}),b.jsxs("p",{className:"text-xs text-slate-700 mt-2 line-clamp-2 italic",children:['"',z.data.occurrence,'"']})]})]})}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-red-50 p-5 rounded-2xl border border-red-100 shadow-inner",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600",children:[b.jsx(Ap,{size:16}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Motivo da Excluso"})]}),b.jsxs("p",{className:"text-sm text-red-900 font-medium leading-relaxed italic",children:['"',z.reason,'"']})]})})]})]},z.id)})})]})},ZC=()=>{const[s,e]=Re.useState("home"),[i,r]=Re.useState(null),[o,u]=Re.useState(null),[d,p]=Re.useState(null),[g,_]=Re.useState(null),[E,x]=Re.useState(!1),[D,q]=Re.useState(""),[K,ne]=Re.useState(""),[$,ee]=Re.useState(""),[le,se]=Re.useState(!1),[Z,be]=Re.useState(null),[z,S]=Re.useState(!1),[w,R]=Re.useState({organs:[],maintenances:[],locations:VN,deletedItems:[]}),[I,O]=Re.useState(!0),[V,N]=Re.useState(!1);Re.useEffect(()=>{const oe=TR(Dv,me=>{if(me){N(!0);return}pR(Dv).catch(Ve=>{console.error("Erro ao autenticar anonimamente:",Ve)})});return()=>oe()},[]),Re.useEffect(()=>{if(!V)return;let oe=3;const me=()=>{oe-=1,oe<=0&&O(!1)},Ve=Kf(Rc(yn,"organs"),Oe=>{const qe=Oe.docs.map(mt=>{const Ht=mt.data();return{...Ht,id:Ht.id||mt.id}});R(mt=>({...mt,organs:qe})),me()},Oe=>{console.error("Erro ao carregar orgaos:",Oe),me()}),at=Kf(Rc(yn,"maintenances"),Oe=>{const qe=Oe.docs.map(mt=>{const Ht=mt.data();return{...Ht,id:Ht.id||mt.id}});R(mt=>({...mt,maintenances:qe})),me()},Oe=>{console.error("Erro ao carregar manutencoes:",Oe),me()}),ot=Kf(Rc(yn,"deletedItems"),Oe=>{const qe=Oe.docs.map(mt=>{const Ht=mt.data();return{...Ht,id:Ht.id||mt.id}});R(mt=>({...mt,deletedItems:qe})),me()},Oe=>{console.error("Erro ao carregar historico:",Oe),me()});return()=>{Ve(),at(),ot()}},[V]);const et=()=>Math.floor(1e3+Math.random()*9e3).toString(),dt=oe=>oe.split("").map((me,Ve)=>{const at=parseInt(me),ot=Ve+1;return(at+1)*ot%10}).join(""),G=oe=>{const me=w.maintenances.filter(Oe=>Oe.organId===oe);if(me.length===0)return!0;const Ve=me.reduce((Oe,qe)=>new Date(qe.date)>new Date(Oe)?qe.date:Oe,me[0].date),at=new Date(Ve+"T00:00:00"),ot=new Date;return ot.setFullYear(ot.getFullYear()-1),at<ot},ae=oe=>{const me=w.organs.filter(Ve=>Ve.locationId===oe);return me.length===0?!1:me.some(Ve=>G(Ve.id))},pe=oe=>w.locations.filter(Ve=>Ve.adm===oe).some(Ve=>ae(Ve.id)),Be=async oe=>{try{await Nc($i(yn,"organs",oe.id),oe),e("location-detail")}catch(me){console.error(me),alert("Erro ao salvar o orgao.")}},Fe=async oe=>{try{await Nc($i(yn,"organs",oe.id),oe),e("location-detail")}catch(me){console.error(me),alert("Erro ao atualizar o orgao.")}},k=async(oe,me)=>{const Ve=w.organs.find(Oe=>Oe.id===oe);if(!Ve)return;const at=w.locations.find(Oe=>Oe.id===Ve.locationId),ot={id:crypto.randomUUID(),type:"organ",data:Ve,reason:me,deletedAt:new Date().toISOString(),metadata:{locationName:at==null?void 0:at.name,adm:at==null?void 0:at.adm}};try{const Oe=nv(yn);Oe.set($i(yn,"deletedItems",ot.id),ot),Oe.delete($i(yn,"organs",oe));const qe=N2(Rc(yn,"maintenances"),I2("organId","==",oe));(await O2(qe)).forEach(Ht=>Oe.delete($i(yn,"maintenances",Ht.id))),await Oe.commit()}catch(Oe){console.error(Oe),alert("Erro ao excluir o orgao.")}},Y=async oe=>{try{await Nc($i(yn,"maintenances",oe.id),oe),e("location-detail")}catch(me){console.error(me),alert("Erro ao salvar a manutencao.")}},ie=async oe=>{try{await Nc($i(yn,"maintenances",oe.id),oe),s==="edit-maintenance"&&e("reports")}catch(me){console.error(me),alert("Erro ao atualizar a manutencao.")}},ue=async(oe,me)=>{const Ve=w.maintenances.find(qe=>qe.id===oe);if(!Ve)return;const at=w.organs.find(qe=>qe.id===Ve.organId),ot=at?w.locations.find(qe=>qe.id===at.locationId):null,Oe={id:crypto.randomUUID(),type:"maintenance",data:Ve,reason:me,deletedAt:new Date().toISOString(),metadata:{locationName:ot==null?void 0:ot.name,adm:ot==null?void 0:ot.adm}};try{const qe=nv(yn);qe.set($i(yn,"deletedItems",Oe.id),Oe),qe.delete($i(yn,"maintenances",oe)),await qe.commit()}catch(qe){console.error(qe),alert("Erro ao excluir a manutencao.")}},ge=(oe,me,Ve)=>{be({type:oe,id:me,mode:Ve}),ee(""),q(""),ne(et()),x(!0)},Ne=oe=>{oe.preventDefault();const me=dt(K);if(D===me){if(!Z)return;if(Z.mode==="edit")Z.type==="organ"&&Z.id?(p(Z.id),e("edit-organ")):Z.type==="maintenance"&&Z.id&&(_(Z.id),e("edit-maintenance"));else if(Z.mode==="delete"){if(!$.trim()){alert("Por favor, informe o motivo da excluso.");return}Z.type==="organ"&&Z.id?k(Z.id,$):Z.type==="maintenance"&&Z.id&&ue(Z.id,$)}else Z.mode==="view"&&Z.type==="history"&&S(!0);x(!1),q(""),ee(""),se(!1),be(null)}else se(!0),ne(et()),q(""),setTimeout(()=>se(!1),2e3)},De=w.locations.find(oe=>oe.id===o);return b.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[b.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[b.jsx("header",{className:"bg-white border-b border-slate-200 px-8 py-4 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 overflow-hidden",children:[b.jsxs("button",{onClick:()=>{e("home"),r(null),u(null),p(null)},className:"hover:text-blue-600 flex items-center gap-1 font-medium transition-colors border border-slate-100 px-2 py-1 rounded-md",children:[b.jsx(sI,{size:16,className:"text-sky-300"}),"Incio"]}),i&&b.jsxs(b.Fragment,{children:[b.jsx(Bc,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{e("adm-detail"),u(null),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="adm-detail"?"text-blue-600 font-bold":"font-medium"}`,children:i})]}),De&&b.jsxs(b.Fragment,{children:[b.jsx(Bc,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{e("location-detail"),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="location-detail"?"text-blue-600 font-bold":"font-medium"}`,children:De.name})]}),(s==="register-organ"||s==="edit-organ"||s==="register-maintenance"||s==="edit-maintenance"||s==="reports")&&b.jsxs(b.Fragment,{children:[b.jsx(Bc,{size:14,className:"text-slate-300"}),b.jsx("span",{className:"text-blue-600 font-bold whitespace-nowrap border border-blue-50 px-2 py-1 rounded-md bg-blue-50/30",children:s==="register-organ"?"Novo rgo":s==="edit-organ"?"Editar rgo":s==="register-maintenance"?"Manuteno":s==="edit-maintenance"?"Editar Manuteno":"Relatrios"})]})]})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[I&&b.jsx("div",{className:"py-16 text-center text-slate-400 font-bold tracking-widest uppercase text-sm",children:"Carregando dados..."}),!I&&s==="home"&&b.jsx(AI,{isAdmPending:pe,onSelectAdm:oe=>{r(oe),e("adm-detail")},onOpenReports:()=>e("reports")}),!I&&s==="adm-detail"&&i&&b.jsx(wI,{adm:i,state:w,isLocationPending:ae,onSelectLocation:oe=>{u(oe),e("location-detail")}}),!I&&s==="location-detail"&&o&&b.jsx(SI,{locationId:o,state:w,isMaintenancePending:G,onRegisterOrgan:()=>e("register-organ"),onEditOrgan:oe=>ge("organ",oe,"edit"),onDeleteOrgan:oe=>ge("organ",oe,"delete"),onEditMaintenance:oe=>ge("maintenance",oe,"edit"),onDeleteMaintenance:oe=>ge("maintenance",oe,"delete"),onRegisterMaintenance:oe=>{p(oe),e("register-maintenance")}}),!I&&(s==="register-organ"||s==="edit-organ")&&o&&b.jsx(DI,{locationId:o,locations:w.locations,initialData:s==="edit-organ"?w.organs.find(oe=>oe.id===d):void 0,onSubmit:s==="edit-organ"?Fe:Be,onCancel:()=>e("location-detail")}),!I&&(s==="register-maintenance"||s==="edit-maintenance")&&b.jsx($C,{organs:w.organs,locations:w.locations,initialOrganId:d,initialData:s==="edit-maintenance"?w.maintenances.find(oe=>oe.id===g):void 0,onSubmit:s==="edit-maintenance"?ie:Y,onCancel:()=>e(s==="edit-maintenance"?"reports":"location-detail")}),!I&&s==="reports"&&b.jsx(JC,{state:w,isMaintenancePending:G,onEditMaintenance:oe=>ge("maintenance",oe,"edit"),onDeleteMaintenance:oe=>ge("maintenance",oe,"delete"),isHistoryAuthorized:z,onRequestHistoryAccess:()=>ge("history",void 0,"view")})]})})]}),E&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",children:b.jsx("div",{className:"bg-white w-full max-w-sm rounded-[32px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:b.jsxs("div",{className:"p-8 text-center space-y-6",children:[b.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center border shadow-inner ${(Z==null?void 0:Z.mode)==="delete"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:(Z==null?void 0:Z.mode)==="delete"?b.jsx(Vl,{size:28}):b.jsx(WT,{size:28})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(Z==null?void 0:Z.mode)==="delete"?"Confirmar Excluso":(Z==null?void 0:Z.mode)==="view"?"Acesso ao Histrico":"Acesso Restrito"}),(Z==null?void 0:Z.mode)==="delete"&&b.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Informe o motivo para prosseguir."})]}),b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[b.jsx($N,{size:14}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Dica de Acesso"})]}),b.jsx("div",{className:"flex justify-center gap-3",children:K.split("").map((oe,me)=>b.jsx("div",{className:"w-10 h-12 bg-white border border-slate-200 rounded-xl flex items-center justify-center text-xl font-black text-blue-600 shadow-sm",children:oe},me))})]}),b.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[(Z==null?void 0:Z.mode)==="delete"&&b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Motivo da Excluso"}),b.jsx("textarea",{autoFocus:!0,required:!0,value:$,onChange:oe=>ee(oe.target.value),placeholder:"Ex: Erro de cadastro...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-red-500 focus:bg-white transition-all text-sm font-medium min-h-[80px]"})]}),b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Senha"}),b.jsx("input",{type:"password",inputMode:"numeric",autoFocus:(Z==null?void 0:Z.mode)!=="delete",value:D,onChange:oe=>q(oe.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"",className:`w-full p-4 bg-slate-50 border rounded-2xl outline-none transition-all text-center text-lg font-bold tracking-widest focus:bg-white ${le?"border-red-500 bg-red-50 text-red-600 animate-shake":"border-slate-200 focus:border-blue-500"}`})]}),le&&b.jsx("p",{className:"text-red-500 text-xs font-bold uppercase tracking-widest animate-in slide-in-from-top-1",children:"Senha Incorreta"}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:()=>{x(!1),q(""),ee(""),se(!1),be(null)},className:"flex-1 py-4 bg-slate-100 text-slate-500 rounded-2xl font-bold hover:bg-slate-200 transition-colors",children:b.jsx(Ji,{className:"mx-auto",size:20})}),b.jsxs("button",{type:"submit",className:`flex-[2] py-4 text-white rounded-2xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 ${(Z==null?void 0:Z.mode)==="delete"?"bg-red-600 hover:bg-red-700 shadow-red-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}`,children:["Validar",b.jsx(qN,{size:18})]})]})]})]})})}),b.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},yE=document.getElementById("root");if(!yE)throw new Error("Could not find root element to mount to");const WC=n1.createRoot(yE);WC.render(b.jsx(YA.StrictMode,{children:b.jsx(ZC,{})}));
